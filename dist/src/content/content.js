(function(){"use strict";var J={exports:{}};(function(L){function x(e,t){if(t&&t.documentElement)e=t,t=arguments[2];else if(!e||!e.documentElement)throw new Error("First argument to Readability constructor should be a document object.");if(t=t||{},this._doc=e,this._docJSDOMParser=this._doc.firstChild.__JSDOMParser__,this._articleTitle=null,this._articleByline=null,this._articleDir=null,this._articleSiteName=null,this._attempts=[],this._metadata={},this._debug=!!t.debug,this._maxElemsToParse=t.maxElemsToParse||this.DEFAULT_MAX_ELEMS_TO_PARSE,this._nbTopCandidates=t.nbTopCandidates||this.DEFAULT_N_TOP_CANDIDATES,this._charThreshold=t.charThreshold||this.DEFAULT_CHAR_THRESHOLD,this._classesToPreserve=this.CLASSES_TO_PRESERVE.concat(t.classesToPreserve||[]),this._keepClasses=!!t.keepClasses,this._serializer=t.serializer||function(i){return i.innerHTML},this._disableJSONLD=!!t.disableJSONLD,this._allowedVideoRegex=t.allowedVideoRegex||this.REGEXPS.videos,this._linkDensityModifier=t.linkDensityModifier||0,this._flags=this.FLAG_STRIP_UNLIKELYS|this.FLAG_WEIGHT_CLASSES|this.FLAG_CLEAN_CONDITIONALLY,this._debug){let i=function(r){if(r.nodeType==r.TEXT_NODE)return`${r.nodeName} ("${r.textContent}")`;let l=Array.from(r.attributes||[],function(s){return`${s.name}="${s.value}"`}).join(" ");return`<${r.localName} ${l}>`};this.log=function(){if(typeof console<"u"){let l=Array.from(arguments,s=>s&&s.nodeType==this.ELEMENT_NODE?i(s):s);l.unshift("Reader: (Readability)"),console.log(...l)}else if(typeof dump<"u"){var r=Array.prototype.map.call(arguments,function(l){return l&&l.nodeName?i(l):l}).join(" ");dump("Reader: (Readability) "+r+`
`)}}}else this.log=function(){}}x.prototype={FLAG_STRIP_UNLIKELYS:1,FLAG_WEIGHT_CLASSES:2,FLAG_CLEAN_CONDITIONALLY:4,ELEMENT_NODE:1,TEXT_NODE:3,DEFAULT_MAX_ELEMS_TO_PARSE:0,DEFAULT_N_TOP_CANDIDATES:5,DEFAULT_TAGS_TO_SCORE:"section,h2,h3,h4,h5,h6,p,td,pre".toUpperCase().split(","),DEFAULT_CHAR_THRESHOLD:500,REGEXPS:{unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i,positive:/article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,negative:/-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|footer|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|widget/i,extraneous:/print|archive|comment|discuss|e[\-]?mail|share|reply|all|login|sign|single|utility/i,byline:/byline|author|dateline|writtenby|p-author/i,replaceFonts:/<(\/?)font[^>]*>/gi,normalize:/\s{2,}/g,videos:/\/\/(www\.)?((dailymotion|youtube|youtube-nocookie|player\.vimeo|v\.qq)\.com|(archive|upload\.wikimedia)\.org|player\.twitch\.tv)/i,shareElements:/(\b|_)(share|sharedaddy)(\b|_)/i,nextLink:/(next|weiter|continue|>([^\|]|$)|»([^\|]|$))/i,prevLink:/(prev|earl|old|new|<|«)/i,tokenize:/\W+/g,whitespace:/^\s*$/,hasContent:/\S$/,hashUrl:/^#.+/,srcsetUrl:/(\S+)(\s+[\d.]+[xw])?(\s*(?:,|$))/g,b64DataUrl:/^data:\s*([^\s;,]+)\s*;\s*base64\s*,/i,commas:/\u002C|\u060C|\uFE50|\uFE10|\uFE11|\u2E41|\u2E34|\u2E32|\uFF0C/g,jsonLdArticleTypes:/^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/,adWords:/^(ad(vertising|vertisement)?|pub(licité)?|werb(ung)?|广告|Реклама|Anuncio)$/iu,loadingWords:/^((loading|正在加载|Загрузка|chargement|cargando)(…|\.\.\.)?)$/iu},UNLIKELY_ROLES:["menu","menubar","complementary","navigation","alert","alertdialog","dialog"],DIV_TO_P_ELEMS:new Set(["BLOCKQUOTE","DL","DIV","IMG","OL","P","PRE","TABLE","UL"]),ALTER_TO_DIV_EXCEPTIONS:["DIV","ARTICLE","SECTION","P","OL","UL"],PRESENTATIONAL_ATTRIBUTES:["align","background","bgcolor","border","cellpadding","cellspacing","frame","hspace","rules","style","valign","vspace"],DEPRECATED_SIZE_ATTRIBUTE_ELEMS:["TABLE","TH","TD","HR","PRE"],PHRASING_ELEMS:["ABBR","AUDIO","B","BDO","BR","BUTTON","CITE","CODE","DATA","DATALIST","DFN","EM","EMBED","I","IMG","INPUT","KBD","LABEL","MARK","MATH","METER","NOSCRIPT","OBJECT","OUTPUT","PROGRESS","Q","RUBY","SAMP","SCRIPT","SELECT","SMALL","SPAN","STRONG","SUB","SUP","TEXTAREA","TIME","VAR","WBR"],CLASSES_TO_PRESERVE:["page"],HTML_ESCAPE_MAP:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"},_postProcessContent(e){this._fixRelativeUris(e),this._simplifyNestedElements(e),this._keepClasses||this._cleanClasses(e)},_removeNodes(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _removeNodes");for(var i=e.length-1;i>=0;i--){var r=e[i],l=r.parentNode;l&&(!t||t.call(this,r,i,e))&&l.removeChild(r)}},_replaceNodeTags(e,t){if(this._docJSDOMParser&&e._isLiveNodeList)throw new Error("Do not pass live node lists to _replaceNodeTags");for(const i of e)this._setNodeTag(i,t)},_forEachNode(e,t){Array.prototype.forEach.call(e,t,this)},_findNode(e,t){return Array.prototype.find.call(e,t,this)},_someNode(e,t){return Array.prototype.some.call(e,t,this)},_everyNode(e,t){return Array.prototype.every.call(e,t,this)},_getAllNodesWithTag(e,t){return e.querySelectorAll?e.querySelectorAll(t.join(",")):[].concat.apply([],t.map(function(i){var r=e.getElementsByTagName(i);return Array.isArray(r)?r:Array.from(r)}))},_cleanClasses(e){var t=this._classesToPreserve,i=(e.getAttribute("class")||"").split(/\s+/).filter(r=>t.includes(r)).join(" ");for(i?e.setAttribute("class",i):e.removeAttribute("class"),e=e.firstElementChild;e;e=e.nextElementSibling)this._cleanClasses(e)},_isUrl(e){try{return new URL(e),!0}catch{return!1}},_fixRelativeUris(e){var t=this._doc.baseURI,i=this._doc.documentURI;function r(a){if(t==i&&a.charAt(0)=="#")return a;try{return new URL(a,t).href}catch{}return a}var l=this._getAllNodesWithTag(e,["a"]);this._forEachNode(l,function(a){var o=a.getAttribute("href");if(o)if(o.indexOf("javascript:")===0)if(a.childNodes.length===1&&a.childNodes[0].nodeType===this.TEXT_NODE){var c=this._doc.createTextNode(a.textContent);a.parentNode.replaceChild(c,a)}else{for(var n=this._doc.createElement("span");a.firstChild;)n.appendChild(a.firstChild);a.parentNode.replaceChild(n,a)}else a.setAttribute("href",r(o))});var s=this._getAllNodesWithTag(e,["img","picture","figure","video","audio","source"]);this._forEachNode(s,function(a){var o=a.getAttribute("src"),c=a.getAttribute("poster"),n=a.getAttribute("srcset");if(o&&a.setAttribute("src",r(o)),c&&a.setAttribute("poster",r(c)),n){var h=n.replace(this.REGEXPS.srcsetUrl,function(f,_,v,T){return r(_)+(v||"")+T});a.setAttribute("srcset",h)}})},_simplifyNestedElements(e){for(var t=e;t;){if(t.parentNode&&["DIV","SECTION"].includes(t.tagName)&&!(t.id&&t.id.startsWith("readability"))){if(this._isElementWithoutContent(t)){t=this._removeAndGetNext(t);continue}else if(this._hasSingleTagInsideElement(t,"DIV")||this._hasSingleTagInsideElement(t,"SECTION")){for(var i=t.children[0],r=0;r<t.attributes.length;r++)i.setAttributeNode(t.attributes[r].cloneNode());t.parentNode.replaceChild(i,t),t=i;continue}}t=this._getNextNode(t)}},_getArticleTitle(){var e=this._doc,t="",i="";try{t=i=e.title.trim(),typeof t!="string"&&(t=i=this._getInnerText(e.getElementsByTagName("title")[0]))}catch{}var r=!1;function l(h){return h.split(/\s+/).length}if(/ [\|\-\\\/>»] /.test(t)){r=/ [\\\/>»] /.test(t);let h=Array.from(i.matchAll(/ [\|\-\\\/>»] /gi));t=i.substring(0,h.pop().index),l(t)<3&&(t=i.replace(/^[^\|\-\\\/>»]*[\|\-\\\/>»]/gi,""))}else if(t.includes(": ")){var s=this._getAllNodesWithTag(e,["h1","h2"]),a=t.trim(),o=this._someNode(s,function(h){return h.textContent.trim()===a});o||(t=i.substring(i.lastIndexOf(":")+1),l(t)<3?t=i.substring(i.indexOf(":")+1):l(i.substr(0,i.indexOf(":")))>5&&(t=i))}else if(t.length>150||t.length<15){var c=e.getElementsByTagName("h1");c.length===1&&(t=this._getInnerText(c[0]))}t=t.trim().replace(this.REGEXPS.normalize," ");var n=l(t);return n<=4&&(!r||n!=l(i.replace(/[\|\-\\\/>»]+/g,""))-1)&&(t=i),t},_prepDocument(){var e=this._doc;this._removeNodes(this._getAllNodesWithTag(e,["style"])),e.body&&this._replaceBrs(e.body),this._replaceNodeTags(this._getAllNodesWithTag(e,["font"]),"SPAN")},_nextNode(e){for(var t=e;t&&t.nodeType!=this.ELEMENT_NODE&&this.REGEXPS.whitespace.test(t.textContent);)t=t.nextSibling;return t},_replaceBrs(e){this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(t){for(var i=t.nextSibling,r=!1;(i=this._nextNode(i))&&i.tagName=="BR";){r=!0;var l=i.nextSibling;i.remove(),i=l}if(r){var s=this._doc.createElement("p");for(t.parentNode.replaceChild(s,t),i=s.nextSibling;i;){if(i.tagName=="BR"){var a=this._nextNode(i.nextSibling);if(a&&a.tagName=="BR")break}if(!this._isPhrasingContent(i))break;var o=i.nextSibling;s.appendChild(i),i=o}for(;s.lastChild&&this._isWhitespace(s.lastChild);)s.lastChild.remove();s.parentNode.tagName==="P"&&this._setNodeTag(s.parentNode,"DIV")}})},_setNodeTag(e,t){if(this.log("_setNodeTag",e,t),this._docJSDOMParser)return e.localName=t.toLowerCase(),e.tagName=t.toUpperCase(),e;for(var i=e.ownerDocument.createElement(t);e.firstChild;)i.appendChild(e.firstChild);e.parentNode.replaceChild(i,e),e.readability&&(i.readability=e.readability);for(var r=0;r<e.attributes.length;r++)i.setAttributeNode(e.attributes[r].cloneNode());return i},_prepArticle(e){this._cleanStyles(e),this._markDataTables(e),this._fixLazyImages(e),this._cleanConditionally(e,"form"),this._cleanConditionally(e,"fieldset"),this._clean(e,"object"),this._clean(e,"embed"),this._clean(e,"footer"),this._clean(e,"link"),this._clean(e,"aside");var t=this.DEFAULT_CHAR_THRESHOLD;this._forEachNode(e.children,function(i){this._cleanMatchedNodes(i,function(r,l){return this.REGEXPS.shareElements.test(l)&&r.textContent.length<t})}),this._clean(e,"iframe"),this._clean(e,"input"),this._clean(e,"textarea"),this._clean(e,"select"),this._clean(e,"button"),this._cleanHeaders(e),this._cleanConditionally(e,"table"),this._cleanConditionally(e,"ul"),this._cleanConditionally(e,"div"),this._replaceNodeTags(this._getAllNodesWithTag(e,["h1"]),"h2"),this._removeNodes(this._getAllNodesWithTag(e,["p"]),function(i){var r=this._getAllNodesWithTag(i,["img","embed","object","iframe"]).length;return r===0&&!this._getInnerText(i,!1)}),this._forEachNode(this._getAllNodesWithTag(e,["br"]),function(i){var r=this._nextNode(i.nextSibling);r&&r.tagName=="P"&&i.remove()}),this._forEachNode(this._getAllNodesWithTag(e,["table"]),function(i){var r=this._hasSingleTagInsideElement(i,"TBODY")?i.firstElementChild:i;if(this._hasSingleTagInsideElement(r,"TR")){var l=r.firstElementChild;if(this._hasSingleTagInsideElement(l,"TD")){var s=l.firstElementChild;s=this._setNodeTag(s,this._everyNode(s.childNodes,this._isPhrasingContent)?"P":"DIV"),i.parentNode.replaceChild(s,i)}}})},_initializeNode(e){switch(e.readability={contentScore:0},e.tagName){case"DIV":e.readability.contentScore+=5;break;case"PRE":case"TD":case"BLOCKQUOTE":e.readability.contentScore+=3;break;case"ADDRESS":case"OL":case"UL":case"DL":case"DD":case"DT":case"LI":case"FORM":e.readability.contentScore-=3;break;case"H1":case"H2":case"H3":case"H4":case"H5":case"H6":case"TH":e.readability.contentScore-=5;break}e.readability.contentScore+=this._getClassWeight(e)},_removeAndGetNext(e){var t=this._getNextNode(e,!0);return e.remove(),t},_getNextNode(e,t){if(!t&&e.firstElementChild)return e.firstElementChild;if(e.nextElementSibling)return e.nextElementSibling;do e=e.parentNode;while(e&&!e.nextElementSibling);return e&&e.nextElementSibling},_textSimilarity(e,t){var i=e.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean),r=t.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);if(!i.length||!r.length)return 0;var l=r.filter(a=>!i.includes(a)),s=l.join(" ").length/r.join(" ").length;return 1-s},_isValidByline(e,t){var i=e.getAttribute("rel"),r=e.getAttribute("itemprop"),l=e.textContent.trim().length;return(i==="author"||r&&r.includes("author")||this.REGEXPS.byline.test(t))&&!!l&&l<100},_getNodeAncestors(e,t){t=t||0;for(var i=0,r=[];e.parentNode&&(r.push(e.parentNode),!(t&&++i===t));)e=e.parentNode;return r},_grabArticle(e){this.log("**** grabArticle ****");var t=this._doc,i=e!==null;if(e=e||this._doc.body,!e)return this.log("No body found in document. Abort."),null;for(var r=e.innerHTML;;){this.log("Starting grabArticle loop");var l=this._flagIsActive(this.FLAG_STRIP_UNLIKELYS),s=[],a=this._doc.documentElement;let ae=!0;for(;a;){a.tagName==="HTML"&&(this._articleLang=a.getAttribute("lang"));var o=a.className+" "+a.id;if(!this._isProbablyVisible(a)){this.log("Removing hidden node - "+o),a=this._removeAndGetNext(a);continue}if(a.getAttribute("aria-modal")=="true"&&a.getAttribute("role")=="dialog"){a=this._removeAndGetNext(a);continue}if(!this._articleByline&&!this._metadata.byline&&this._isValidByline(a,o)){for(var c=this._getNextNode(a,!0),n=this._getNextNode(a),h=null;n&&n!=c;){var f=n.getAttribute("itemprop");if(f&&f.includes("name")){h=n;break}else n=this._getNextNode(n)}this._articleByline=(h??a).textContent.trim(),a=this._removeAndGetNext(a);continue}if(ae&&this._headerDuplicatesTitle(a)){this.log("Removing header: ",a.textContent.trim(),this._articleTitle.trim()),ae=!1,a=this._removeAndGetNext(a);continue}if(l){if(this.REGEXPS.unlikelyCandidates.test(o)&&!this.REGEXPS.okMaybeItsACandidate.test(o)&&!this._hasAncestorTag(a,"table")&&!this._hasAncestorTag(a,"code")&&a.tagName!=="BODY"&&a.tagName!=="A"){this.log("Removing unlikely candidate - "+o),a=this._removeAndGetNext(a);continue}if(this.UNLIKELY_ROLES.includes(a.getAttribute("role"))){this.log("Removing content with role "+a.getAttribute("role")+" - "+o),a=this._removeAndGetNext(a);continue}}if((a.tagName==="DIV"||a.tagName==="SECTION"||a.tagName==="HEADER"||a.tagName==="H1"||a.tagName==="H2"||a.tagName==="H3"||a.tagName==="H4"||a.tagName==="H5"||a.tagName==="H6")&&this._isElementWithoutContent(a)){a=this._removeAndGetNext(a);continue}if(this.DEFAULT_TAGS_TO_SCORE.includes(a.tagName)&&s.push(a),a.tagName==="DIV"){for(var _=null,v=a.firstChild;v;){var T=v.nextSibling;if(this._isPhrasingContent(v))_!==null?_.appendChild(v):this._isWhitespace(v)||(_=t.createElement("p"),a.replaceChild(_,v),_.appendChild(v));else if(_!==null){for(;_.lastChild&&this._isWhitespace(_.lastChild);)_.lastChild.remove();_=null}v=T}if(this._hasSingleTagInsideElement(a,"P")&&this._getLinkDensity(a)<.25){var p=a.children[0];a.parentNode.replaceChild(p,a),a=p,s.push(a)}else this._hasChildBlockElement(a)||(a=this._setNodeTag(a,"P"),s.push(a))}a=this._getNextNode(a)}var y=[];this._forEachNode(s,function(A){if(!(!A.parentNode||typeof A.parentNode.tagName>"u")){var S=this._getInnerText(A);if(!(S.length<25)){var le=this._getNodeAncestors(A,5);if(le.length!==0){var O=0;O+=1,O+=S.split(this.REGEXPS.commas).length,O+=Math.min(Math.floor(S.length/100),3),this._forEachNode(le,function(D,q){if(!(!D.tagName||!D.parentNode||typeof D.parentNode.tagName>"u")){if(typeof D.readability>"u"&&(this._initializeNode(D),y.push(D)),q===0)var K=1;else q===1?K=2:K=q*3;D.readability.contentScore+=O/K}})}}}});for(var d=[],R=0,w=y.length;R<w;R+=1){var b=y[R],C=b.readability.contentScore*(1-this._getLinkDensity(b));b.readability.contentScore=C,this.log("Candidate:",b,"with score "+C);for(var I=0;I<this._nbTopCandidates;I++){var B=d[I];if(!B||C>B.readability.contentScore){d.splice(I,0,b),d.length>this._nbTopCandidates&&d.pop();break}}}var u=d[0]||null,P=!1,g;if(u===null||u.tagName==="BODY"){for(u=t.createElement("DIV"),P=!0;e.firstChild;)this.log("Moving child out:",e.firstChild),u.appendChild(e.firstChild);e.appendChild(u),this._initializeNode(u)}else if(u){for(var N=[],M=1;M<d.length;M++)d[M].readability.contentScore/u.readability.contentScore>=.75&&N.push(this._getNodeAncestors(d[M]));var W=3;if(N.length>=W)for(g=u.parentNode;g.tagName!=="BODY";){for(var X=0,$=0;$<N.length&&X<W;$++)X+=Number(N[$].includes(g));if(X>=W){u=g;break}g=g.parentNode}u.readability||this._initializeNode(u),g=u.parentNode;for(var F=u.readability.contentScore,fe=F/3;g.tagName!=="BODY";){if(!g.readability){g=g.parentNode;continue}var Z=g.readability.contentScore;if(Z<fe)break;if(Z>F){u=g;break}F=g.readability.contentScore,g=g.parentNode}for(g=u.parentNode;g.tagName!="BODY"&&g.children.length==1;)u=g,g=u.parentNode;u.readability||this._initializeNode(u)}var E=t.createElement("DIV");i&&(E.id="readability-content");var _e=Math.max(10,u.readability.contentScore*.2);g=u.parentNode;for(var V=g.children,k=0,ee=V.length;k<ee;k++){var m=V[k],G=!1;if(this.log("Looking at sibling node:",m,m.readability?"with score "+m.readability.contentScore:""),this.log("Sibling has score",m.readability?m.readability.contentScore:"Unknown"),m===u)G=!0;else{var te=0;if(m.className===u.className&&u.className!==""&&(te+=u.readability.contentScore*.2),m.readability&&m.readability.contentScore+te>=_e)G=!0;else if(m.nodeName==="P"){var ie=this._getLinkDensity(m),re=this._getInnerText(m),j=re.length;(j>80&&ie<.25||j<80&&j>0&&ie===0&&re.search(/\.( |$)/)!==-1)&&(G=!0)}}G&&(this.log("Appending node:",m),this.ALTER_TO_DIV_EXCEPTIONS.includes(m.nodeName)||(this.log("Altering sibling:",m,"to div."),m=this._setNodeTag(m,"DIV")),E.appendChild(m),V=g.children,k-=1,ee-=1)}if(this._debug&&this.log("Article content pre-prep: "+E.innerHTML),this._prepArticle(E),this._debug&&this.log("Article content post-prep: "+E.innerHTML),P)u.id="readability-page-1",u.className="page";else{var H=t.createElement("DIV");for(H.id="readability-page-1",H.className="page";E.firstChild;)H.appendChild(E.firstChild);E.appendChild(H)}this._debug&&this.log("Article content after paging: "+E.innerHTML);var Y=!0,se=this._getInnerText(E,!0).length;if(se<this._charThreshold)if(Y=!1,e.innerHTML=r,this._attempts.push({articleContent:E,textLength:se}),this._flagIsActive(this.FLAG_STRIP_UNLIKELYS))this._removeFlag(this.FLAG_STRIP_UNLIKELYS);else if(this._flagIsActive(this.FLAG_WEIGHT_CLASSES))this._removeFlag(this.FLAG_WEIGHT_CLASSES);else if(this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);else{if(this._attempts.sort(function(A,S){return S.textLength-A.textLength}),!this._attempts[0].textLength)return null;E=this._attempts[0].articleContent,Y=!0}if(Y){var me=[g,u].concat(this._getNodeAncestors(g));return this._someNode(me,function(A){if(!A.tagName)return!1;var S=A.getAttribute("dir");return S?(this._articleDir=S,!0):!1}),E}}},_unescapeHtmlEntities(e){if(!e)return e;var t=this.HTML_ESCAPE_MAP;return e.replace(/&(quot|amp|apos|lt|gt);/g,function(i,r){return t[r]}).replace(/&#(?:x([0-9a-f]+)|([0-9]+));/gi,function(i,r,l){var s=parseInt(r||l,r?16:10);return(s==0||s>1114111||s>=55296&&s<=57343)&&(s=65533),String.fromCodePoint(s)})},_getJSONLD(e){var t=this._getAllNodesWithTag(e,["script"]),i;return this._forEachNode(t,function(r){if(!i&&r.getAttribute("type")==="application/ld+json")try{var l=r.textContent.replace(/^\s*<!\[CDATA\[|\]\]>\s*$/g,""),s=JSON.parse(l);if(Array.isArray(s)&&(s=s.find(f=>f["@type"]&&f["@type"].match(this.REGEXPS.jsonLdArticleTypes)),!s))return;var a=/^https?\:\/\/schema\.org\/?$/,o=typeof s["@context"]=="string"&&s["@context"].match(a)||typeof s["@context"]=="object"&&typeof s["@context"]["@vocab"]=="string"&&s["@context"]["@vocab"].match(a);if(!o||(!s["@type"]&&Array.isArray(s["@graph"])&&(s=s["@graph"].find(f=>(f["@type"]||"").match(this.REGEXPS.jsonLdArticleTypes))),!s||!s["@type"]||!s["@type"].match(this.REGEXPS.jsonLdArticleTypes)))return;if(i={},typeof s.name=="string"&&typeof s.headline=="string"&&s.name!==s.headline){var c=this._getArticleTitle(),n=this._textSimilarity(s.name,c)>.75,h=this._textSimilarity(s.headline,c)>.75;h&&!n?i.title=s.headline:i.title=s.name}else typeof s.name=="string"?i.title=s.name.trim():typeof s.headline=="string"&&(i.title=s.headline.trim());s.author&&(typeof s.author.name=="string"?i.byline=s.author.name.trim():Array.isArray(s.author)&&s.author[0]&&typeof s.author[0].name=="string"&&(i.byline=s.author.filter(function(f){return f&&typeof f.name=="string"}).map(function(f){return f.name.trim()}).join(", "))),typeof s.description=="string"&&(i.excerpt=s.description.trim()),s.publisher&&typeof s.publisher.name=="string"&&(i.siteName=s.publisher.name.trim()),typeof s.datePublished=="string"&&(i.datePublished=s.datePublished.trim())}catch(f){this.log(f.message)}}),i||{}},_getArticleMetadata(e){var t={},i={},r=this._doc.getElementsByTagName("meta"),l=/\s*(article|dc|dcterm|og|twitter)\s*:\s*(author|creator|description|published_time|title|site_name)\s*/gi,s=/^\s*(?:(dc|dcterm|og|twitter|parsely|weibo:(article|webpage))\s*[-\.:]\s*)?(author|creator|pub-date|description|title|site_name)\s*$/i;this._forEachNode(r,function(o){var c=o.getAttribute("name"),n=o.getAttribute("property"),h=o.getAttribute("content");if(h){var f=null,_=null;n&&(f=n.match(l),f&&(_=f[0].toLowerCase().replace(/\s/g,""),i[_]=h.trim())),!f&&c&&s.test(c)&&(_=c,h&&(_=_.toLowerCase().replace(/\s/g,"").replace(/\./g,":"),i[_]=h.trim()))}}),t.title=e.title||i["dc:title"]||i["dcterm:title"]||i["og:title"]||i["weibo:article:title"]||i["weibo:webpage:title"]||i.title||i["twitter:title"]||i["parsely-title"],t.title||(t.title=this._getArticleTitle());const a=typeof i["article:author"]=="string"&&!this._isUrl(i["article:author"])?i["article:author"]:void 0;return t.byline=e.byline||i["dc:creator"]||i["dcterm:creator"]||i.author||i["parsely-author"]||a,t.excerpt=e.excerpt||i["dc:description"]||i["dcterm:description"]||i["og:description"]||i["weibo:article:description"]||i["weibo:webpage:description"]||i.description||i["twitter:description"],t.siteName=e.siteName||i["og:site_name"],t.publishedTime=e.datePublished||i["article:published_time"]||i["parsely-pub-date"]||null,t.title=this._unescapeHtmlEntities(t.title),t.byline=this._unescapeHtmlEntities(t.byline),t.excerpt=this._unescapeHtmlEntities(t.excerpt),t.siteName=this._unescapeHtmlEntities(t.siteName),t.publishedTime=this._unescapeHtmlEntities(t.publishedTime),t},_isSingleImage(e){for(;e;){if(e.tagName==="IMG")return!0;if(e.children.length!==1||e.textContent.trim()!=="")return!1;e=e.children[0]}return!1},_unwrapNoscriptImages(e){var t=Array.from(e.getElementsByTagName("img"));this._forEachNode(t,function(r){for(var l=0;l<r.attributes.length;l++){var s=r.attributes[l];switch(s.name){case"src":case"srcset":case"data-src":case"data-srcset":return}if(/\.(jpg|jpeg|png|webp)/i.test(s.value))return}r.remove()});var i=Array.from(e.getElementsByTagName("noscript"));this._forEachNode(i,function(r){if(this._isSingleImage(r)){var l=e.createElement("div");l.innerHTML=r.innerHTML;var s=r.previousElementSibling;if(s&&this._isSingleImage(s)){var a=s;a.tagName!=="IMG"&&(a=s.getElementsByTagName("img")[0]);for(var o=l.getElementsByTagName("img")[0],c=0;c<a.attributes.length;c++){var n=a.attributes[c];if(n.value!==""&&(n.name==="src"||n.name==="srcset"||/\.(jpg|jpeg|png|webp)/i.test(n.value))){if(o.getAttribute(n.name)===n.value)continue;var h=n.name;o.hasAttribute(h)&&(h="data-old-"+h),o.setAttribute(h,n.value)}}r.parentNode.replaceChild(l.firstElementChild,s)}}})},_removeScripts(e){this._removeNodes(this._getAllNodesWithTag(e,["script","noscript"]))},_hasSingleTagInsideElement(e,t){return e.children.length!=1||e.children[0].tagName!==t?!1:!this._someNode(e.childNodes,function(i){return i.nodeType===this.TEXT_NODE&&this.REGEXPS.hasContent.test(i.textContent)})},_isElementWithoutContent(e){return e.nodeType===this.ELEMENT_NODE&&!e.textContent.trim().length&&(!e.children.length||e.children.length==e.getElementsByTagName("br").length+e.getElementsByTagName("hr").length)},_hasChildBlockElement(e){return this._someNode(e.childNodes,function(t){return this.DIV_TO_P_ELEMS.has(t.tagName)||this._hasChildBlockElement(t)})},_isPhrasingContent(e){return e.nodeType===this.TEXT_NODE||this.PHRASING_ELEMS.includes(e.tagName)||(e.tagName==="A"||e.tagName==="DEL"||e.tagName==="INS")&&this._everyNode(e.childNodes,this._isPhrasingContent)},_isWhitespace(e){return e.nodeType===this.TEXT_NODE&&e.textContent.trim().length===0||e.nodeType===this.ELEMENT_NODE&&e.tagName==="BR"},_getInnerText(e,t){t=typeof t>"u"?!0:t;var i=e.textContent.trim();return t?i.replace(this.REGEXPS.normalize," "):i},_getCharCount(e,t){return t=t||",",this._getInnerText(e).split(t).length-1},_cleanStyles(e){if(!(!e||e.tagName.toLowerCase()==="svg")){for(var t=0;t<this.PRESENTATIONAL_ATTRIBUTES.length;t++)e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[t]);this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.includes(e.tagName)&&(e.removeAttribute("width"),e.removeAttribute("height"));for(var i=e.firstElementChild;i!==null;)this._cleanStyles(i),i=i.nextElementSibling}},_getLinkDensity(e){var t=this._getInnerText(e).length;if(t===0)return 0;var i=0;return this._forEachNode(e.getElementsByTagName("a"),function(r){var l=r.getAttribute("href"),s=l&&this.REGEXPS.hashUrl.test(l)?.3:1;i+=this._getInnerText(r).length*s}),i/t},_getClassWeight(e){if(!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))return 0;var t=0;return typeof e.className=="string"&&e.className!==""&&(this.REGEXPS.negative.test(e.className)&&(t-=25),this.REGEXPS.positive.test(e.className)&&(t+=25)),typeof e.id=="string"&&e.id!==""&&(this.REGEXPS.negative.test(e.id)&&(t-=25),this.REGEXPS.positive.test(e.id)&&(t+=25)),t},_clean(e,t){var i=["object","embed","iframe"].includes(t);this._removeNodes(this._getAllNodesWithTag(e,[t]),function(r){if(i){for(var l=0;l<r.attributes.length;l++)if(this._allowedVideoRegex.test(r.attributes[l].value))return!1;if(r.tagName==="object"&&this._allowedVideoRegex.test(r.innerHTML))return!1}return!0})},_hasAncestorTag(e,t,i,r){i=i||3,t=t.toUpperCase();for(var l=0;e.parentNode;){if(i>0&&l>i)return!1;if(e.parentNode.tagName===t&&(!r||r(e.parentNode)))return!0;e=e.parentNode,l++}return!1},_getRowAndColumnCount(e){for(var t=0,i=0,r=e.getElementsByTagName("tr"),l=0;l<r.length;l++){var s=r[l].getAttribute("rowspan")||0;s&&(s=parseInt(s,10)),t+=s||1;for(var a=0,o=r[l].getElementsByTagName("td"),c=0;c<o.length;c++){var n=o[c].getAttribute("colspan")||0;n&&(n=parseInt(n,10)),a+=n||1}i=Math.max(i,a)}return{rows:t,columns:i}},_markDataTables(e){for(var t=e.getElementsByTagName("table"),i=0;i<t.length;i++){var r=t[i],l=r.getAttribute("role");if(l=="presentation"){r._readabilityDataTable=!1;continue}var s=r.getAttribute("datatable");if(s=="0"){r._readabilityDataTable=!1;continue}var a=r.getAttribute("summary");if(a){r._readabilityDataTable=!0;continue}var o=r.getElementsByTagName("caption")[0];if(o&&o.childNodes.length){r._readabilityDataTable=!0;continue}var c=["col","colgroup","tfoot","thead","th"],n=function(f){return!!r.getElementsByTagName(f)[0]};if(c.some(n)){this.log("Data table because found data-y descendant"),r._readabilityDataTable=!0;continue}if(r.getElementsByTagName("table")[0]){r._readabilityDataTable=!1;continue}var h=this._getRowAndColumnCount(r);if(h.columns==1||h.rows==1){r._readabilityDataTable=!1;continue}if(h.rows>=10||h.columns>4){r._readabilityDataTable=!0;continue}r._readabilityDataTable=h.rows*h.columns>10}},_fixLazyImages(e){this._forEachNode(this._getAllNodesWithTag(e,["img","picture","figure"]),function(t){if(t.src&&this.REGEXPS.b64DataUrl.test(t.src)){var i=this.REGEXPS.b64DataUrl.exec(t.src);if(i[1]==="image/svg+xml")return;for(var r=!1,l=0;l<t.attributes.length;l++){var s=t.attributes[l];if(s.name!=="src"&&/\.(jpg|jpeg|png|webp)/i.test(s.value)){r=!0;break}}if(r){var a=i[0].length,o=t.src.length-a;o<133&&t.removeAttribute("src")}}if(!((t.src||t.srcset&&t.srcset!="null")&&!t.className.toLowerCase().includes("lazy"))){for(var c=0;c<t.attributes.length;c++)if(s=t.attributes[c],!(s.name==="src"||s.name==="srcset"||s.name==="alt")){var n=null;if(/\.(jpg|jpeg|png|webp)\s+\d/.test(s.value)?n="srcset":/^\s*\S+\.(jpg|jpeg|png|webp)\S*\s*$/.test(s.value)&&(n="src"),n){if(t.tagName==="IMG"||t.tagName==="PICTURE")t.setAttribute(n,s.value);else if(t.tagName==="FIGURE"&&!this._getAllNodesWithTag(t,["img","picture"]).length){var h=this._doc.createElement("img");h.setAttribute(n,s.value),t.appendChild(h)}}}}})},_getTextDensity(e,t){var i=this._getInnerText(e,!0).length;if(i===0)return 0;var r=0,l=this._getAllNodesWithTag(e,t);return this._forEachNode(l,s=>r+=this._getInnerText(s,!0).length),r/i},_cleanConditionally(e,t){this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)&&this._removeNodes(this._getAllNodesWithTag(e,[t]),function(i){var r=function(g){return g._readabilityDataTable},l=t==="ul"||t==="ol";if(!l){var s=0,a=this._getAllNodesWithTag(i,["ul","ol"]);this._forEachNode(a,g=>s+=this._getInnerText(g).length),l=s/this._getInnerText(i).length>.9}if(t==="table"&&r(i)||this._hasAncestorTag(i,"table",-1,r)||this._hasAncestorTag(i,"code")||[...i.getElementsByTagName("table")].some(g=>g._readabilityDataTable))return!1;var o=this._getClassWeight(i);this.log("Cleaning Conditionally",i);var c=0;if(o+c<0)return!0;if(this._getCharCount(i,",")<10){for(var n=i.getElementsByTagName("p").length,h=i.getElementsByTagName("img").length,f=i.getElementsByTagName("li").length-100,_=i.getElementsByTagName("input").length,v=this._getTextDensity(i,["h1","h2","h3","h4","h5","h6"]),T=0,p=this._getAllNodesWithTag(i,["object","embed","iframe"]),y=0;y<p.length;y++){for(var d=0;d<p[y].attributes.length;d++)if(this._allowedVideoRegex.test(p[y].attributes[d].value))return!1;if(p[y].tagName==="object"&&this._allowedVideoRegex.test(p[y].innerHTML))return!1;T++}var R=this._getInnerText(i);if(this.REGEXPS.adWords.test(R)||this.REGEXPS.loadingWords.test(R))return!0;var w=R.length,b=this._getLinkDensity(i),C=["SPAN","LI","TD"].concat(Array.from(this.DIV_TO_P_ELEMS)),I=this._getTextDensity(i,C),B=this._hasAncestorTag(i,"figure"),u=(()=>{const N=[];return!B&&h>1&&n/h<.5&&N.push(`Bad p to img ratio (img=${h}, p=${n})`),!l&&f>n&&N.push(`Too many li's outside of a list. (li=${f} > p=${n})`),_>Math.floor(n/3)&&N.push(`Too many inputs per p. (input=${_}, p=${n})`),!l&&!B&&v<.9&&w<25&&(h===0||h>2)&&b>0&&N.push(`Suspiciously short. (headingDensity=${v}, img=${h}, linkDensity=${b})`),!l&&o<25&&b>.2+this._linkDensityModifier&&N.push(`Low weight and a little linky. (linkDensity=${b})`),o>=25&&b>.5+this._linkDensityModifier&&N.push(`High weight and mostly links. (linkDensity=${b})`),(T===1&&w<75||T>1)&&N.push(`Suspicious embed. (embedCount=${T}, contentLength=${w})`),h===0&&I===0&&N.push(`No useful content. (img=${h}, textDensity=${I})`),N.length?(this.log("Checks failed",N),!0):!1})();if(l&&u){for(var P=0;P<i.children.length;P++)if(i.children[P].children.length>1)return u;let N=i.getElementsByTagName("li").length;if(h==N)return!1}return u}return!1})},_cleanMatchedNodes(e,t){for(var i=this._getNextNode(e,!0),r=this._getNextNode(e);r&&r!=i;)t.call(this,r,r.className+" "+r.id)?r=this._removeAndGetNext(r):r=this._getNextNode(r)},_cleanHeaders(e){let t=this._getAllNodesWithTag(e,["h1","h2"]);this._removeNodes(t,function(i){let r=this._getClassWeight(i)<0;return r&&this.log("Removing header with low class weight:",i),r})},_headerDuplicatesTitle(e){if(e.tagName!="H1"&&e.tagName!="H2")return!1;var t=this._getInnerText(e,!1);return this.log("Evaluating similarity of header:",t,this._articleTitle),this._textSimilarity(this._articleTitle,t)>.75},_flagIsActive(e){return(this._flags&e)>0},_removeFlag(e){this._flags=this._flags&~e},_isProbablyVisible(e){return(!e.style||e.style.display!="none")&&(!e.style||e.style.visibility!="hidden")&&!e.hasAttribute("hidden")&&(!e.hasAttribute("aria-hidden")||e.getAttribute("aria-hidden")!="true"||e.className&&e.className.includes&&e.className.includes("fallback-image"))},parse(){if(this._maxElemsToParse>0){var e=this._doc.getElementsByTagName("*").length;if(e>this._maxElemsToParse)throw new Error("Aborting parsing document; "+e+" elements found")}this._unwrapNoscriptImages(this._doc);var t=this._disableJSONLD?{}:this._getJSONLD(this._doc);this._removeScripts(this._doc),this._prepDocument();var i=this._getArticleMetadata(t);this._metadata=i,this._articleTitle=i.title;var r=this._grabArticle();if(!r)return null;if(this.log("Grabbed: "+r.innerHTML),this._postProcessContent(r),!i.excerpt){var l=r.getElementsByTagName("p");l.length&&(i.excerpt=l[0].textContent.trim())}var s=r.textContent;return{title:this._articleTitle,byline:i.byline||this._articleByline,dir:this._articleDir,lang:this._articleLang,content:this._serializer(r),textContent:s,length:s.length,excerpt:i.excerpt,siteName:i.siteName||this._articleSiteName,publishedTime:i.publishedTime}}},L.exports=x})(J);var ne=J.exports,z={exports:{}};(function(L){var x={unlikelyCandidates:/-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,okMaybeItsACandidate:/and|article|body|column|content|main|shadow/i};function e(i){return(!i.style||i.style.display!="none")&&!i.hasAttribute("hidden")&&(!i.hasAttribute("aria-hidden")||i.getAttribute("aria-hidden")!="true"||i.className&&i.className.includes&&i.className.includes("fallback-image"))}function t(i,r={}){typeof r=="function"&&(r={visibilityChecker:r});var l={minScore:20,minContentLength:140,visibilityChecker:e};r=Object.assign(l,r);var s=i.querySelectorAll("p, pre, article"),a=i.querySelectorAll("div > br");if(a.length){var o=new Set(s);[].forEach.call(a,function(n){o.add(n.parentNode)}),s=Array.from(o)}var c=0;return[].some.call(s,function(n){if(!r.visibilityChecker(n))return!1;var h=n.className+" "+n.id;if(x.unlikelyCandidates.test(h)&&!x.okMaybeItsACandidate.test(h)||n.matches("li p"))return!1;var f=n.textContent.trim().length;return f<r.minContentLength?!1:(c+=Math.sqrt(f-r.minContentLength),c>r.minScore)})}L.exports=t})(z);var he=z.exports,oe=ne,ce=he,ue={Readability:oe,isProbablyReaderable:ce};const ge=5,Q=2e3;function U(){const L=document.cloneNode(!0),e=new ue.Readability(L).parse();if(!e||!e.textContent){console.log("[ContentScript] Readability found no content. Sending empty chunks."),chrome.runtime.sendMessage({action:"analyzePageContent",url:window.location.href,contentChunks:[]});return}const t=e.textContent.replace(/\s+/g," ").trim(),i=[];if(t.length>0)for(let l=0;l<t.length;l+=Q)i.push(t.substring(l,l+Q));const r=i.slice(0,ge);console.log(`[ContentScript] Proactively sending ${r.length} chunks to background.`),chrome.runtime.sendMessage({action:"analyzePageContent",url:window.location.href,contentChunks:r},l=>{chrome.runtime.lastError?console.warn(`[CS] Error sending content: ${chrome.runtime.lastError.message}`):l&&!l.success&&console.warn("[CS] Background failed to process content:",l.error)})}chrome.runtime.onMessage.addListener((L,x,e)=>L.action==="getTextContentFromPage"?(console.log("[ContentScript] Received manual refresh request."),U(),e({status:"processing_initiated_by_manual_refresh"}),!0):!1),document.readyState==="complete"||document.readyState==="interactive"?setTimeout(U,500):window.addEventListener("load",()=>{setTimeout(U,500)},{once:!0}),console.log("[ContentScript] IsThisPhishy v1.2.0 loaded (proactive mode).")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29udGVudC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb3ppbGxhL3JlYWRhYmlsaXR5L1JlYWRhYmlsaXR5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb3ppbGxhL3JlYWRhYmlsaXR5L1JlYWRhYmlsaXR5LXJlYWRlcmFibGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1vemlsbGEvcmVhZGFiaWxpdHkvaW5kZXguanMiLCIuLi8uLi8uLi9zcmMvY29udGVudC9jb250ZW50LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAgQXJjOTAgSW5jXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qXG4gKiBUaGlzIGNvZGUgaXMgaGVhdmlseSBiYXNlZCBvbiBBcmM5MCdzIHJlYWRhYmlsaXR5LmpzICgxLjcuMSkgc2NyaXB0XG4gKiBhdmFpbGFibGUgYXQ6IGh0dHA6Ly9jb2RlLmdvb2dsZS5jb20vcC9hcmM5MGxhYnMtcmVhZGFiaWxpdHlcbiAqL1xuXG4vKipcbiAqIFB1YmxpYyBjb25zdHJ1Y3Rvci5cbiAqIEBwYXJhbSB7SFRNTERvY3VtZW50fSBkb2MgICAgIFRoZSBkb2N1bWVudCB0byBwYXJzZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSAgICAgICBvcHRpb25zIFRoZSBvcHRpb25zIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gUmVhZGFiaWxpdHkoZG9jLCBvcHRpb25zKSB7XG4gIC8vIEluIHNvbWUgb2xkZXIgdmVyc2lvbnMsIHBlb3BsZSBwYXNzZWQgYSBVUkkgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LiBDb3BlOlxuICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmRvY3VtZW50RWxlbWVudCkge1xuICAgIGRvYyA9IG9wdGlvbnM7XG4gICAgb3B0aW9ucyA9IGFyZ3VtZW50c1syXTtcbiAgfSBlbHNlIGlmICghZG9jIHx8ICFkb2MuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJGaXJzdCBhcmd1bWVudCB0byBSZWFkYWJpbGl0eSBjb25zdHJ1Y3RvciBzaG91bGQgYmUgYSBkb2N1bWVudCBvYmplY3QuXCJcbiAgICApO1xuICB9XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHRoaXMuX2RvYyA9IGRvYztcbiAgdGhpcy5fZG9jSlNET01QYXJzZXIgPSB0aGlzLl9kb2MuZmlyc3RDaGlsZC5fX0pTRE9NUGFyc2VyX187XG4gIHRoaXMuX2FydGljbGVUaXRsZSA9IG51bGw7XG4gIHRoaXMuX2FydGljbGVCeWxpbmUgPSBudWxsO1xuICB0aGlzLl9hcnRpY2xlRGlyID0gbnVsbDtcbiAgdGhpcy5fYXJ0aWNsZVNpdGVOYW1lID0gbnVsbDtcbiAgdGhpcy5fYXR0ZW1wdHMgPSBbXTtcbiAgdGhpcy5fbWV0YWRhdGEgPSB7fTtcblxuICAvLyBDb25maWd1cmFibGUgb3B0aW9uc1xuICB0aGlzLl9kZWJ1ZyA9ICEhb3B0aW9ucy5kZWJ1ZztcbiAgdGhpcy5fbWF4RWxlbXNUb1BhcnNlID1cbiAgICBvcHRpb25zLm1heEVsZW1zVG9QYXJzZSB8fCB0aGlzLkRFRkFVTFRfTUFYX0VMRU1TX1RPX1BBUlNFO1xuICB0aGlzLl9uYlRvcENhbmRpZGF0ZXMgPVxuICAgIG9wdGlvbnMubmJUb3BDYW5kaWRhdGVzIHx8IHRoaXMuREVGQVVMVF9OX1RPUF9DQU5ESURBVEVTO1xuICB0aGlzLl9jaGFyVGhyZXNob2xkID0gb3B0aW9ucy5jaGFyVGhyZXNob2xkIHx8IHRoaXMuREVGQVVMVF9DSEFSX1RIUkVTSE9MRDtcbiAgdGhpcy5fY2xhc3Nlc1RvUHJlc2VydmUgPSB0aGlzLkNMQVNTRVNfVE9fUFJFU0VSVkUuY29uY2F0KFxuICAgIG9wdGlvbnMuY2xhc3Nlc1RvUHJlc2VydmUgfHwgW11cbiAgKTtcbiAgdGhpcy5fa2VlcENsYXNzZXMgPSAhIW9wdGlvbnMua2VlcENsYXNzZXM7XG4gIHRoaXMuX3NlcmlhbGl6ZXIgPVxuICAgIG9wdGlvbnMuc2VyaWFsaXplciB8fFxuICAgIGZ1bmN0aW9uIChlbCkge1xuICAgICAgcmV0dXJuIGVsLmlubmVySFRNTDtcbiAgICB9O1xuICB0aGlzLl9kaXNhYmxlSlNPTkxEID0gISFvcHRpb25zLmRpc2FibGVKU09OTEQ7XG4gIHRoaXMuX2FsbG93ZWRWaWRlb1JlZ2V4ID0gb3B0aW9ucy5hbGxvd2VkVmlkZW9SZWdleCB8fCB0aGlzLlJFR0VYUFMudmlkZW9zO1xuICB0aGlzLl9saW5rRGVuc2l0eU1vZGlmaWVyID0gb3B0aW9ucy5saW5rRGVuc2l0eU1vZGlmaWVyIHx8IDA7XG5cbiAgLy8gU3RhcnQgd2l0aCBhbGwgZmxhZ3Mgc2V0XG4gIHRoaXMuX2ZsYWdzID1cbiAgICB0aGlzLkZMQUdfU1RSSVBfVU5MSUtFTFlTIHxcbiAgICB0aGlzLkZMQUdfV0VJR0hUX0NMQVNTRVMgfFxuICAgIHRoaXMuRkxBR19DTEVBTl9DT05ESVRJT05BTExZO1xuXG4gIC8vIENvbnRyb2wgd2hldGhlciBsb2cgbWVzc2FnZXMgYXJlIHNlbnQgdG8gdGhlIGNvbnNvbGVcbiAgaWYgKHRoaXMuX2RlYnVnKSB7XG4gICAgbGV0IGxvZ05vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gbm9kZS5URVhUX05PREUpIHtcbiAgICAgICAgcmV0dXJuIGAke25vZGUubm9kZU5hbWV9IChcIiR7bm9kZS50ZXh0Q29udGVudH1cIilgO1xuICAgICAgfVxuICAgICAgbGV0IGF0dHJQYWlycyA9IEFycmF5LmZyb20obm9kZS5hdHRyaWJ1dGVzIHx8IFtdLCBmdW5jdGlvbiAoYXR0cikge1xuICAgICAgICByZXR1cm4gYCR7YXR0ci5uYW1lfT1cIiR7YXR0ci52YWx1ZX1cImA7XG4gICAgICB9KS5qb2luKFwiIFwiKTtcbiAgICAgIHJldHVybiBgPCR7bm9kZS5sb2NhbE5hbWV9ICR7YXR0clBhaXJzfT5gO1xuICAgIH07XG4gICAgdGhpcy5sb2cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgbGV0IGFyZ3MgPSBBcnJheS5mcm9tKGFyZ3VtZW50cywgYXJnID0+IHtcbiAgICAgICAgICBpZiAoYXJnICYmIGFyZy5ub2RlVHlwZSA9PSB0aGlzLkVMRU1FTlRfTk9ERSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvZ05vZGUoYXJnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGFyZztcbiAgICAgICAgfSk7XG4gICAgICAgIGFyZ3MudW5zaGlmdChcIlJlYWRlcjogKFJlYWRhYmlsaXR5KVwiKTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnNvbGVcbiAgICAgICAgY29uc29sZS5sb2coLi4uYXJncyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBkdW1wICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIC8qIGdsb2JhbCBkdW1wICovXG4gICAgICAgIHZhciBtc2cgPSBBcnJheS5wcm90b3R5cGUubWFwXG4gICAgICAgICAgLmNhbGwoYXJndW1lbnRzLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgcmV0dXJuIHggJiYgeC5ub2RlTmFtZSA/IGxvZ05vZGUoeCkgOiB4O1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmpvaW4oXCIgXCIpO1xuICAgICAgICBkdW1wKFwiUmVhZGVyOiAoUmVhZGFiaWxpdHkpIFwiICsgbXNnICsgXCJcXG5cIik7XG4gICAgICB9XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICB0aGlzLmxvZyA9IGZ1bmN0aW9uICgpIHt9O1xuICB9XG59XG5cblJlYWRhYmlsaXR5LnByb3RvdHlwZSA9IHtcbiAgRkxBR19TVFJJUF9VTkxJS0VMWVM6IDB4MSxcbiAgRkxBR19XRUlHSFRfQ0xBU1NFUzogMHgyLFxuICBGTEFHX0NMRUFOX0NPTkRJVElPTkFMTFk6IDB4NCxcblxuICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvTm9kZS9ub2RlVHlwZVxuICBFTEVNRU5UX05PREU6IDEsXG4gIFRFWFRfTk9ERTogMyxcblxuICAvLyBNYXggbnVtYmVyIG9mIG5vZGVzIHN1cHBvcnRlZCBieSB0aGlzIHBhcnNlci4gRGVmYXVsdDogMCAobm8gbGltaXQpXG4gIERFRkFVTFRfTUFYX0VMRU1TX1RPX1BBUlNFOiAwLFxuXG4gIC8vIFRoZSBudW1iZXIgb2YgdG9wIGNhbmRpZGF0ZXMgdG8gY29uc2lkZXIgd2hlbiBhbmFseXNpbmcgaG93XG4gIC8vIHRpZ2h0IHRoZSBjb21wZXRpdGlvbiBpcyBhbW9uZyBjYW5kaWRhdGVzLlxuICBERUZBVUxUX05fVE9QX0NBTkRJREFURVM6IDUsXG5cbiAgLy8gRWxlbWVudCB0YWdzIHRvIHNjb3JlIGJ5IGRlZmF1bHQuXG4gIERFRkFVTFRfVEFHU19UT19TQ09SRTogXCJzZWN0aW9uLGgyLGgzLGg0LGg1LGg2LHAsdGQscHJlXCJcbiAgICAudG9VcHBlckNhc2UoKVxuICAgIC5zcGxpdChcIixcIiksXG5cbiAgLy8gVGhlIGRlZmF1bHQgbnVtYmVyIG9mIGNoYXJzIGFuIGFydGljbGUgbXVzdCBoYXZlIGluIG9yZGVyIHRvIHJldHVybiBhIHJlc3VsdFxuICBERUZBVUxUX0NIQVJfVEhSRVNIT0xEOiA1MDAsXG5cbiAgLy8gQWxsIG9mIHRoZSByZWd1bGFyIGV4cHJlc3Npb25zIGluIHVzZSB3aXRoaW4gcmVhZGFiaWxpdHkuXG4gIC8vIERlZmluZWQgdXAgaGVyZSBzbyB3ZSBkb24ndCBpbnN0YW50aWF0ZSB0aGVtIHJlcGVhdGVkbHkgaW4gbG9vcHMuXG4gIFJFR0VYUFM6IHtcbiAgICAvLyBOT1RFOiBUaGVzZSB0d28gcmVndWxhciBleHByZXNzaW9ucyBhcmUgZHVwbGljYXRlZCBpblxuICAgIC8vIFJlYWRhYmlsaXR5LXJlYWRlcmFibGUuanMuIFBsZWFzZSBrZWVwIGJvdGggY29waWVzIGluIHN5bmMuXG4gICAgdW5saWtlbHlDYW5kaWRhdGVzOlxuICAgICAgLy1hZC18YWkyaHRtbHxiYW5uZXJ8YnJlYWRjcnVtYnN8Y29tYnh8Y29tbWVudHxjb21tdW5pdHl8Y292ZXItd3JhcHxkaXNxdXN8ZXh0cmF8Zm9vdGVyfGdkcHJ8aGVhZGVyfGxlZ2VuZHN8bWVudXxyZWxhdGVkfHJlbWFya3xyZXBsaWVzfHJzc3xzaG91dGJveHxzaWRlYmFyfHNreXNjcmFwZXJ8c29jaWFsfHNwb25zb3J8c3VwcGxlbWVudGFsfGFkLWJyZWFrfGFnZWdhdGV8cGFnaW5hdGlvbnxwYWdlcnxwb3B1cHx5b20tcmVtb3RlL2ksXG4gICAgb2tNYXliZUl0c0FDYW5kaWRhdGU6IC9hbmR8YXJ0aWNsZXxib2R5fGNvbHVtbnxjb250ZW50fG1haW58c2hhZG93L2ksXG5cbiAgICBwb3NpdGl2ZTpcbiAgICAgIC9hcnRpY2xlfGJvZHl8Y29udGVudHxlbnRyeXxoZW50cnl8aC1lbnRyeXxtYWlufHBhZ2V8cGFnaW5hdGlvbnxwb3N0fHRleHR8YmxvZ3xzdG9yeS9pLFxuICAgIG5lZ2F0aXZlOlxuICAgICAgLy1hZC18aGlkZGVufF5oaWQkfCBoaWQkfCBoaWQgfF5oaWQgfGJhbm5lcnxjb21ieHxjb21tZW50fGNvbS18Y29udGFjdHxmb290ZXJ8Z2RwcnxtYXN0aGVhZHxtZWRpYXxtZXRhfG91dGJyYWlufHByb21vfHJlbGF0ZWR8c2Nyb2xsfHNoYXJlfHNob3V0Ym94fHNpZGViYXJ8c2t5c2NyYXBlcnxzcG9uc29yfHNob3BwaW5nfHRhZ3N8d2lkZ2V0L2ksXG4gICAgZXh0cmFuZW91czpcbiAgICAgIC9wcmludHxhcmNoaXZlfGNvbW1lbnR8ZGlzY3Vzc3xlW1xcLV0/bWFpbHxzaGFyZXxyZXBseXxhbGx8bG9naW58c2lnbnxzaW5nbGV8dXRpbGl0eS9pLFxuICAgIGJ5bGluZTogL2J5bGluZXxhdXRob3J8ZGF0ZWxpbmV8d3JpdHRlbmJ5fHAtYXV0aG9yL2ksXG4gICAgcmVwbGFjZUZvbnRzOiAvPChcXC8/KWZvbnRbXj5dKj4vZ2ksXG4gICAgbm9ybWFsaXplOiAvXFxzezIsfS9nLFxuICAgIHZpZGVvczpcbiAgICAgIC9cXC9cXC8od3d3XFwuKT8oKGRhaWx5bW90aW9ufHlvdXR1YmV8eW91dHViZS1ub2Nvb2tpZXxwbGF5ZXJcXC52aW1lb3x2XFwucXEpXFwuY29tfChhcmNoaXZlfHVwbG9hZFxcLndpa2ltZWRpYSlcXC5vcmd8cGxheWVyXFwudHdpdGNoXFwudHYpL2ksXG4gICAgc2hhcmVFbGVtZW50czogLyhcXGJ8Xykoc2hhcmV8c2hhcmVkYWRkeSkoXFxifF8pL2ksXG4gICAgbmV4dExpbms6IC8obmV4dHx3ZWl0ZXJ8Y29udGludWV8PihbXlxcfF18JCl8wrsoW15cXHxdfCQpKS9pLFxuICAgIHByZXZMaW5rOiAvKHByZXZ8ZWFybHxvbGR8bmV3fDx8wqspL2ksXG4gICAgdG9rZW5pemU6IC9cXFcrL2csXG4gICAgd2hpdGVzcGFjZTogL15cXHMqJC8sXG4gICAgaGFzQ29udGVudDogL1xcUyQvLFxuICAgIGhhc2hVcmw6IC9eIy4rLyxcbiAgICBzcmNzZXRVcmw6IC8oXFxTKykoXFxzK1tcXGQuXStbeHddKT8oXFxzKig/Oix8JCkpL2csXG4gICAgYjY0RGF0YVVybDogL15kYXRhOlxccyooW15cXHM7LF0rKVxccyo7XFxzKmJhc2U2NFxccyosL2ksXG4gICAgLy8gQ29tbWFzIGFzIHVzZWQgaW4gTGF0aW4sIFNpbmRoaSwgQ2hpbmVzZSBhbmQgdmFyaW91cyBvdGhlciBzY3JpcHRzLlxuICAgIC8vIHNlZTogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tbWEjQ29tbWFfdmFyaWFudHNcbiAgICBjb21tYXM6IC9cXHUwMDJDfFxcdTA2MEN8XFx1RkU1MHxcXHVGRTEwfFxcdUZFMTF8XFx1MkU0MXxcXHUyRTM0fFxcdTJFMzJ8XFx1RkYwQy9nLFxuICAgIC8vIFNlZTogaHR0cHM6Ly9zY2hlbWEub3JnL0FydGljbGVcbiAgICBqc29uTGRBcnRpY2xlVHlwZXM6XG4gICAgICAvXkFydGljbGV8QWR2ZXJ0aXNlckNvbnRlbnRBcnRpY2xlfE5ld3NBcnRpY2xlfEFuYWx5c2lzTmV3c0FydGljbGV8QXNrUHVibGljTmV3c0FydGljbGV8QmFja2dyb3VuZE5ld3NBcnRpY2xlfE9waW5pb25OZXdzQXJ0aWNsZXxSZXBvcnRhZ2VOZXdzQXJ0aWNsZXxSZXZpZXdOZXdzQXJ0aWNsZXxSZXBvcnR8U2F0aXJpY2FsQXJ0aWNsZXxTY2hvbGFybHlBcnRpY2xlfE1lZGljYWxTY2hvbGFybHlBcnRpY2xlfFNvY2lhbE1lZGlhUG9zdGluZ3xCbG9nUG9zdGluZ3xMaXZlQmxvZ1Bvc3Rpbmd8RGlzY3Vzc2lvbkZvcnVtUG9zdGluZ3xUZWNoQXJ0aWNsZXxBUElSZWZlcmVuY2UkLyxcbiAgICAvLyB1c2VkIHRvIHNlZSBpZiBhIG5vZGUncyBjb250ZW50IG1hdGNoZXMgd29yZHMgY29tbW9ubHkgdXNlZCBmb3IgYWQgYmxvY2tzIG9yIGxvYWRpbmcgaW5kaWNhdG9yc1xuICAgIGFkV29yZHM6XG4gICAgICAvXihhZCh2ZXJ0aXNpbmd8dmVydGlzZW1lbnQpP3xwdWIobGljaXTDqSk/fHdlcmIodW5nKT985bm/5ZGKfNCg0LXQutC70LDQvNCwfEFudW5jaW8pJC9pdSxcbiAgICBsb2FkaW5nV29yZHM6XG4gICAgICAvXigobG9hZGluZ3zmraPlnKjliqDovb180JfQsNCz0YDRg9C30LrQsHxjaGFyZ2VtZW50fGNhcmdhbmRvKSjigKZ8XFwuXFwuXFwuKT8pJC9pdSxcbiAgfSxcblxuICBVTkxJS0VMWV9ST0xFUzogW1xuICAgIFwibWVudVwiLFxuICAgIFwibWVudWJhclwiLFxuICAgIFwiY29tcGxlbWVudGFyeVwiLFxuICAgIFwibmF2aWdhdGlvblwiLFxuICAgIFwiYWxlcnRcIixcbiAgICBcImFsZXJ0ZGlhbG9nXCIsXG4gICAgXCJkaWFsb2dcIixcbiAgXSxcblxuICBESVZfVE9fUF9FTEVNUzogbmV3IFNldChbXG4gICAgXCJCTE9DS1FVT1RFXCIsXG4gICAgXCJETFwiLFxuICAgIFwiRElWXCIsXG4gICAgXCJJTUdcIixcbiAgICBcIk9MXCIsXG4gICAgXCJQXCIsXG4gICAgXCJQUkVcIixcbiAgICBcIlRBQkxFXCIsXG4gICAgXCJVTFwiLFxuICBdKSxcblxuICBBTFRFUl9UT19ESVZfRVhDRVBUSU9OUzogW1wiRElWXCIsIFwiQVJUSUNMRVwiLCBcIlNFQ1RJT05cIiwgXCJQXCIsIFwiT0xcIiwgXCJVTFwiXSxcblxuICBQUkVTRU5UQVRJT05BTF9BVFRSSUJVVEVTOiBbXG4gICAgXCJhbGlnblwiLFxuICAgIFwiYmFja2dyb3VuZFwiLFxuICAgIFwiYmdjb2xvclwiLFxuICAgIFwiYm9yZGVyXCIsXG4gICAgXCJjZWxscGFkZGluZ1wiLFxuICAgIFwiY2VsbHNwYWNpbmdcIixcbiAgICBcImZyYW1lXCIsXG4gICAgXCJoc3BhY2VcIixcbiAgICBcInJ1bGVzXCIsXG4gICAgXCJzdHlsZVwiLFxuICAgIFwidmFsaWduXCIsXG4gICAgXCJ2c3BhY2VcIixcbiAgXSxcblxuICBERVBSRUNBVEVEX1NJWkVfQVRUUklCVVRFX0VMRU1TOiBbXCJUQUJMRVwiLCBcIlRIXCIsIFwiVERcIiwgXCJIUlwiLCBcIlBSRVwiXSxcblxuICAvLyBUaGUgY29tbWVudGVkIG91dCBlbGVtZW50cyBxdWFsaWZ5IGFzIHBocmFzaW5nIGNvbnRlbnQgYnV0IHRlbmQgdG8gYmVcbiAgLy8gcmVtb3ZlZCBieSByZWFkYWJpbGl0eSB3aGVuIHB1dCBpbnRvIHBhcmFncmFwaHMsIHNvIHdlIGlnbm9yZSB0aGVtIGhlcmUuXG4gIFBIUkFTSU5HX0VMRU1TOiBbXG4gICAgLy8gXCJDQU5WQVNcIiwgXCJJRlJBTUVcIiwgXCJTVkdcIiwgXCJWSURFT1wiLFxuICAgIFwiQUJCUlwiLFxuICAgIFwiQVVESU9cIixcbiAgICBcIkJcIixcbiAgICBcIkJET1wiLFxuICAgIFwiQlJcIixcbiAgICBcIkJVVFRPTlwiLFxuICAgIFwiQ0lURVwiLFxuICAgIFwiQ09ERVwiLFxuICAgIFwiREFUQVwiLFxuICAgIFwiREFUQUxJU1RcIixcbiAgICBcIkRGTlwiLFxuICAgIFwiRU1cIixcbiAgICBcIkVNQkVEXCIsXG4gICAgXCJJXCIsXG4gICAgXCJJTUdcIixcbiAgICBcIklOUFVUXCIsXG4gICAgXCJLQkRcIixcbiAgICBcIkxBQkVMXCIsXG4gICAgXCJNQVJLXCIsXG4gICAgXCJNQVRIXCIsXG4gICAgXCJNRVRFUlwiLFxuICAgIFwiTk9TQ1JJUFRcIixcbiAgICBcIk9CSkVDVFwiLFxuICAgIFwiT1VUUFVUXCIsXG4gICAgXCJQUk9HUkVTU1wiLFxuICAgIFwiUVwiLFxuICAgIFwiUlVCWVwiLFxuICAgIFwiU0FNUFwiLFxuICAgIFwiU0NSSVBUXCIsXG4gICAgXCJTRUxFQ1RcIixcbiAgICBcIlNNQUxMXCIsXG4gICAgXCJTUEFOXCIsXG4gICAgXCJTVFJPTkdcIixcbiAgICBcIlNVQlwiLFxuICAgIFwiU1VQXCIsXG4gICAgXCJURVhUQVJFQVwiLFxuICAgIFwiVElNRVwiLFxuICAgIFwiVkFSXCIsXG4gICAgXCJXQlJcIixcbiAgXSxcblxuICAvLyBUaGVzZSBhcmUgdGhlIGNsYXNzZXMgdGhhdCByZWFkYWJpbGl0eSBzZXRzIGl0c2VsZi5cbiAgQ0xBU1NFU19UT19QUkVTRVJWRTogW1wicGFnZVwiXSxcblxuICAvLyBUaGVzZSBhcmUgdGhlIGxpc3Qgb2YgSFRNTCBlbnRpdGllcyB0aGF0IG5lZWQgdG8gYmUgZXNjYXBlZC5cbiAgSFRNTF9FU0NBUEVfTUFQOiB7XG4gICAgbHQ6IFwiPFwiLFxuICAgIGd0OiBcIj5cIixcbiAgICBhbXA6IFwiJlwiLFxuICAgIHF1b3Q6ICdcIicsXG4gICAgYXBvczogXCInXCIsXG4gIH0sXG5cbiAgLyoqXG4gICAqIFJ1biBhbnkgcG9zdC1wcm9jZXNzIG1vZGlmaWNhdGlvbnMgdG8gYXJ0aWNsZSBjb250ZW50IGFzIG5lY2Vzc2FyeS5cbiAgICpcbiAgICogQHBhcmFtIEVsZW1lbnRcbiAgICogQHJldHVybiB2b2lkXG4gICAqKi9cbiAgX3Bvc3RQcm9jZXNzQ29udGVudChhcnRpY2xlQ29udGVudCkge1xuICAgIC8vIFJlYWRhYmlsaXR5IGNhbm5vdCBvcGVuIHJlbGF0aXZlIHVyaXMgc28gd2UgY29udmVydCB0aGVtIHRvIGFic29sdXRlIHVyaXMuXG4gICAgdGhpcy5fZml4UmVsYXRpdmVVcmlzKGFydGljbGVDb250ZW50KTtcblxuICAgIHRoaXMuX3NpbXBsaWZ5TmVzdGVkRWxlbWVudHMoYXJ0aWNsZUNvbnRlbnQpO1xuXG4gICAgaWYgKCF0aGlzLl9rZWVwQ2xhc3Nlcykge1xuICAgICAgLy8gUmVtb3ZlIGNsYXNzZXMuXG4gICAgICB0aGlzLl9jbGVhbkNsYXNzZXMoYXJ0aWNsZUNvbnRlbnQpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBhIE5vZGVMaXN0LCBjYWxscyBgZmlsdGVyRm5gIGZvciBlYWNoIG5vZGUgYW5kIHJlbW92ZXMgbm9kZVxuICAgKiBpZiBmdW5jdGlvbiByZXR1cm5lZCBgdHJ1ZWAuXG4gICAqXG4gICAqIElmIGZ1bmN0aW9uIGlzIG5vdCBwYXNzZWQsIHJlbW92ZXMgYWxsIHRoZSBub2RlcyBpbiBub2RlIGxpc3QuXG4gICAqXG4gICAqIEBwYXJhbSBOb2RlTGlzdCBub2RlTGlzdCBUaGUgbm9kZXMgdG8gb3BlcmF0ZSBvblxuICAgKiBAcGFyYW0gRnVuY3Rpb24gZmlsdGVyRm4gdGhlIGZ1bmN0aW9uIHRvIHVzZSBhcyBhIGZpbHRlclxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIF9yZW1vdmVOb2Rlcyhub2RlTGlzdCwgZmlsdGVyRm4pIHtcbiAgICAvLyBBdm9pZCBldmVyIG9wZXJhdGluZyBvbiBsaXZlIG5vZGUgbGlzdHMuXG4gICAgaWYgKHRoaXMuX2RvY0pTRE9NUGFyc2VyICYmIG5vZGVMaXN0Ll9pc0xpdmVOb2RlTGlzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG8gbm90IHBhc3MgbGl2ZSBub2RlIGxpc3RzIHRvIF9yZW1vdmVOb2Rlc1wiKTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IG5vZGVMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgbm9kZSA9IG5vZGVMaXN0W2ldO1xuICAgICAgdmFyIHBhcmVudE5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICBpZiAocGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAoIWZpbHRlckZuIHx8IGZpbHRlckZuLmNhbGwodGhpcywgbm9kZSwgaSwgbm9kZUxpc3QpKSB7XG4gICAgICAgICAgcGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogSXRlcmF0ZXMgb3ZlciBhIE5vZGVMaXN0LCBhbmQgY2FsbHMgX3NldE5vZGVUYWcgZm9yIGVhY2ggbm9kZS5cbiAgICpcbiAgICogQHBhcmFtIE5vZGVMaXN0IG5vZGVMaXN0IFRoZSBub2RlcyB0byBvcGVyYXRlIG9uXG4gICAqIEBwYXJhbSBTdHJpbmcgbmV3VGFnTmFtZSB0aGUgbmV3IHRhZyBuYW1lIHRvIHVzZVxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIF9yZXBsYWNlTm9kZVRhZ3Mobm9kZUxpc3QsIG5ld1RhZ05hbWUpIHtcbiAgICAvLyBBdm9pZCBldmVyIG9wZXJhdGluZyBvbiBsaXZlIG5vZGUgbGlzdHMuXG4gICAgaWYgKHRoaXMuX2RvY0pTRE9NUGFyc2VyICYmIG5vZGVMaXN0Ll9pc0xpdmVOb2RlTGlzdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRG8gbm90IHBhc3MgbGl2ZSBub2RlIGxpc3RzIHRvIF9yZXBsYWNlTm9kZVRhZ3NcIik7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2RlTGlzdCkge1xuICAgICAgdGhpcy5fc2V0Tm9kZVRhZyhub2RlLCBuZXdUYWdOYW1lKTtcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhIE5vZGVMaXN0LCB3aGljaCBkb2Vzbid0IG5hdGl2ZWx5IGZ1bGx5IGltcGxlbWVudCB0aGUgQXJyYXlcbiAgICogaW50ZXJmYWNlLlxuICAgKlxuICAgKiBGb3IgY29udmVuaWVuY2UsIHRoZSBjdXJyZW50IG9iamVjdCBjb250ZXh0IGlzIGFwcGxpZWQgdG8gdGhlIHByb3ZpZGVkXG4gICAqIGl0ZXJhdGUgZnVuY3Rpb24uXG4gICAqXG4gICAqIEBwYXJhbSAgTm9kZUxpc3Qgbm9kZUxpc3QgVGhlIE5vZGVMaXN0LlxuICAgKiBAcGFyYW0gIEZ1bmN0aW9uIGZuICAgICAgIFRoZSBpdGVyYXRlIGZ1bmN0aW9uLlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIF9mb3JFYWNoTm9kZShub2RlTGlzdCwgZm4pIHtcbiAgICBBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKG5vZGVMaXN0LCBmbiwgdGhpcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhIE5vZGVMaXN0LCBhbmQgcmV0dXJuIHRoZSBmaXJzdCBub2RlIHRoYXQgcGFzc2VzXG4gICAqIHRoZSBzdXBwbGllZCB0ZXN0IGZ1bmN0aW9uXG4gICAqXG4gICAqIEZvciBjb252ZW5pZW5jZSwgdGhlIGN1cnJlbnQgb2JqZWN0IGNvbnRleHQgaXMgYXBwbGllZCB0byB0aGUgcHJvdmlkZWRcbiAgICogdGVzdCBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICBOb2RlTGlzdCBub2RlTGlzdCBUaGUgTm9kZUxpc3QuXG4gICAqIEBwYXJhbSAgRnVuY3Rpb24gZm4gICAgICAgVGhlIHRlc3QgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKi9cbiAgX2ZpbmROb2RlKG5vZGVMaXN0LCBmbikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZmluZC5jYWxsKG5vZGVMaXN0LCBmbiwgdGhpcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhIE5vZGVMaXN0LCByZXR1cm4gdHJ1ZSBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIGl0ZXJhdGVcbiAgICogZnVuY3Rpb24gY2FsbHMgcmV0dXJucyB0cnVlLCBmYWxzZSBvdGhlcndpc2UuXG4gICAqXG4gICAqIEZvciBjb252ZW5pZW5jZSwgdGhlIGN1cnJlbnQgb2JqZWN0IGNvbnRleHQgaXMgYXBwbGllZCB0byB0aGVcbiAgICogcHJvdmlkZWQgaXRlcmF0ZSBmdW5jdGlvbi5cbiAgICpcbiAgICogQHBhcmFtICBOb2RlTGlzdCBub2RlTGlzdCBUaGUgTm9kZUxpc3QuXG4gICAqIEBwYXJhbSAgRnVuY3Rpb24gZm4gICAgICAgVGhlIGl0ZXJhdGUgZnVuY3Rpb24uXG4gICAqIEByZXR1cm4gQm9vbGVhblxuICAgKi9cbiAgX3NvbWVOb2RlKG5vZGVMaXN0LCBmbikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuc29tZS5jYWxsKG5vZGVMaXN0LCBmbiwgdGhpcyk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEl0ZXJhdGUgb3ZlciBhIE5vZGVMaXN0LCByZXR1cm4gdHJ1ZSBpZiBhbGwgb2YgdGhlIHByb3ZpZGVkIGl0ZXJhdGVcbiAgICogZnVuY3Rpb24gY2FsbHMgcmV0dXJuIHRydWUsIGZhbHNlIG90aGVyd2lzZS5cbiAgICpcbiAgICogRm9yIGNvbnZlbmllbmNlLCB0aGUgY3VycmVudCBvYmplY3QgY29udGV4dCBpcyBhcHBsaWVkIHRvIHRoZVxuICAgKiBwcm92aWRlZCBpdGVyYXRlIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBAcGFyYW0gIE5vZGVMaXN0IG5vZGVMaXN0IFRoZSBOb2RlTGlzdC5cbiAgICogQHBhcmFtICBGdW5jdGlvbiBmbiAgICAgICBUaGUgaXRlcmF0ZSBmdW5jdGlvbi5cbiAgICogQHJldHVybiBCb29sZWFuXG4gICAqL1xuICBfZXZlcnlOb2RlKG5vZGVMaXN0LCBmbikge1xuICAgIHJldHVybiBBcnJheS5wcm90b3R5cGUuZXZlcnkuY2FsbChub2RlTGlzdCwgZm4sIHRoaXMpO1xuICB9LFxuXG4gIF9nZXRBbGxOb2Rlc1dpdGhUYWcobm9kZSwgdGFnTmFtZXMpIHtcbiAgICBpZiAobm9kZS5xdWVyeVNlbGVjdG9yQWxsKSB7XG4gICAgICByZXR1cm4gbm9kZS5xdWVyeVNlbGVjdG9yQWxsKHRhZ05hbWVzLmpvaW4oXCIsXCIpKTtcbiAgICB9XG4gICAgcmV0dXJuIFtdLmNvbmNhdC5hcHBseShcbiAgICAgIFtdLFxuICAgICAgdGFnTmFtZXMubWFwKGZ1bmN0aW9uICh0YWcpIHtcbiAgICAgICAgdmFyIGNvbGxlY3Rpb24gPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZyk7XG4gICAgICAgIHJldHVybiBBcnJheS5pc0FycmF5KGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IEFycmF5LmZyb20oY29sbGVjdGlvbik7XG4gICAgICB9KVxuICAgICk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGNsYXNzPVwiXCIgYXR0cmlidXRlIGZyb20gZXZlcnkgZWxlbWVudCBpbiB0aGUgZ2l2ZW5cbiAgICogc3VidHJlZSwgZXhjZXB0IHRob3NlIHRoYXQgbWF0Y2ggQ0xBU1NFU19UT19QUkVTRVJWRSBhbmRcbiAgICogdGhlIGNsYXNzZXNUb1ByZXNlcnZlIGFycmF5IGZyb20gdGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIF9jbGVhbkNsYXNzZXMobm9kZSkge1xuICAgIHZhciBjbGFzc2VzVG9QcmVzZXJ2ZSA9IHRoaXMuX2NsYXNzZXNUb1ByZXNlcnZlO1xuICAgIHZhciBjbGFzc05hbWUgPSAobm9kZS5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKSB8fCBcIlwiKVxuICAgICAgLnNwbGl0KC9cXHMrLylcbiAgICAgIC5maWx0ZXIoY2xzID0+IGNsYXNzZXNUb1ByZXNlcnZlLmluY2x1ZGVzKGNscykpXG4gICAgICAuam9pbihcIiBcIik7XG5cbiAgICBpZiAoY2xhc3NOYW1lKSB7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIGNsYXNzTmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKFwiY2xhc3NcIik7XG4gICAgfVxuXG4gICAgZm9yIChub2RlID0gbm9kZS5maXJzdEVsZW1lbnRDaGlsZDsgbm9kZTsgbm9kZSA9IG5vZGUubmV4dEVsZW1lbnRTaWJsaW5nKSB7XG4gICAgICB0aGlzLl9jbGVhbkNsYXNzZXMobm9kZSk7XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBUZXN0cyB3aGV0aGVyIGEgc3RyaW5nIGlzIGEgVVJMIG9yIG5vdC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIHRlc3RcbiAgICogQHJldHVybiB7Ym9vbGVhbn0gdHJ1ZSBpZiBzdHIgaXMgYSBVUkwsIGZhbHNlIGlmIG5vdFxuICAgKi9cbiAgX2lzVXJsKHN0cikge1xuICAgIHRyeSB7XG4gICAgICBuZXcgVVJMKHN0cik7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGNhdGNoIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBlYWNoIDxhPiBhbmQgPGltZz4gdXJpIGluIHRoZSBnaXZlbiBlbGVtZW50IHRvIGFuIGFic29sdXRlIFVSSSxcbiAgICogaWdub3JpbmcgI3JlZiBVUklzLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICovXG4gIF9maXhSZWxhdGl2ZVVyaXMoYXJ0aWNsZUNvbnRlbnQpIHtcbiAgICB2YXIgYmFzZVVSSSA9IHRoaXMuX2RvYy5iYXNlVVJJO1xuICAgIHZhciBkb2N1bWVudFVSSSA9IHRoaXMuX2RvYy5kb2N1bWVudFVSSTtcbiAgICBmdW5jdGlvbiB0b0Fic29sdXRlVVJJKHVyaSkge1xuICAgICAgLy8gTGVhdmUgaGFzaCBsaW5rcyBhbG9uZSBpZiB0aGUgYmFzZSBVUkkgbWF0Y2hlcyB0aGUgZG9jdW1lbnQgVVJJOlxuICAgICAgaWYgKGJhc2VVUkkgPT0gZG9jdW1lbnRVUkkgJiYgdXJpLmNoYXJBdCgwKSA9PSBcIiNcIikge1xuICAgICAgICByZXR1cm4gdXJpO1xuICAgICAgfVxuXG4gICAgICAvLyBPdGhlcndpc2UsIHJlc29sdmUgYWdhaW5zdCBiYXNlIFVSSTpcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBuZXcgVVJMKHVyaSwgYmFzZVVSSSkuaHJlZjtcbiAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgIC8vIFNvbWV0aGluZyB3ZW50IHdyb25nLCBqdXN0IHJldHVybiB0aGUgb3JpZ2luYWw6XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJpO1xuICAgIH1cblxuICAgIHZhciBsaW5rcyA9IHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhhcnRpY2xlQ29udGVudCwgW1wiYVwiXSk7XG4gICAgdGhpcy5fZm9yRWFjaE5vZGUobGlua3MsIGZ1bmN0aW9uIChsaW5rKSB7XG4gICAgICB2YXIgaHJlZiA9IGxpbmsuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKTtcbiAgICAgIGlmIChocmVmKSB7XG4gICAgICAgIC8vIFJlbW92ZSBsaW5rcyB3aXRoIGphdmFzY3JpcHQ6IFVSSXMsIHNpbmNlXG4gICAgICAgIC8vIHRoZXkgd29uJ3Qgd29yayBhZnRlciBzY3JpcHRzIGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIHBhZ2UuXG4gICAgICAgIGlmIChocmVmLmluZGV4T2YoXCJqYXZhc2NyaXB0OlwiKSA9PT0gMCkge1xuICAgICAgICAgIC8vIGlmIHRoZSBsaW5rIG9ubHkgY29udGFpbnMgc2ltcGxlIHRleHQgY29udGVudCwgaXQgY2FuIGJlIGNvbnZlcnRlZCB0byBhIHRleHQgbm9kZVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGxpbmsuY2hpbGROb2Rlcy5sZW5ndGggPT09IDEgJiZcbiAgICAgICAgICAgIGxpbmsuY2hpbGROb2Rlc1swXS5ub2RlVHlwZSA9PT0gdGhpcy5URVhUX05PREVcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gdGhpcy5fZG9jLmNyZWF0ZVRleHROb2RlKGxpbmsudGV4dENvbnRlbnQpO1xuICAgICAgICAgICAgbGluay5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZCh0ZXh0LCBsaW5rKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgdGhlIGxpbmsgaGFzIG11bHRpcGxlIGNoaWxkcmVuLCB0aGV5IHNob3VsZCBhbGwgYmUgcHJlc2VydmVkXG4gICAgICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5fZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICAgICAgd2hpbGUgKGxpbmsuZmlyc3RDaGlsZCkge1xuICAgICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGluay5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxpbmsucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoY29udGFpbmVyLCBsaW5rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGluay5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIHRvQWJzb2x1dGVVUkkoaHJlZikpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB2YXIgbWVkaWFzID0gdGhpcy5fZ2V0QWxsTm9kZXNXaXRoVGFnKGFydGljbGVDb250ZW50LCBbXG4gICAgICBcImltZ1wiLFxuICAgICAgXCJwaWN0dXJlXCIsXG4gICAgICBcImZpZ3VyZVwiLFxuICAgICAgXCJ2aWRlb1wiLFxuICAgICAgXCJhdWRpb1wiLFxuICAgICAgXCJzb3VyY2VcIixcbiAgICBdKTtcblxuICAgIHRoaXMuX2ZvckVhY2hOb2RlKG1lZGlhcywgZnVuY3Rpb24gKG1lZGlhKSB7XG4gICAgICB2YXIgc3JjID0gbWVkaWEuZ2V0QXR0cmlidXRlKFwic3JjXCIpO1xuICAgICAgdmFyIHBvc3RlciA9IG1lZGlhLmdldEF0dHJpYnV0ZShcInBvc3RlclwiKTtcbiAgICAgIHZhciBzcmNzZXQgPSBtZWRpYS5nZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIik7XG5cbiAgICAgIGlmIChzcmMpIHtcbiAgICAgICAgbWVkaWEuc2V0QXR0cmlidXRlKFwic3JjXCIsIHRvQWJzb2x1dGVVUkkoc3JjKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3N0ZXIpIHtcbiAgICAgICAgbWVkaWEuc2V0QXR0cmlidXRlKFwicG9zdGVyXCIsIHRvQWJzb2x1dGVVUkkocG9zdGVyKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChzcmNzZXQpIHtcbiAgICAgICAgdmFyIG5ld1NyY3NldCA9IHNyY3NldC5yZXBsYWNlKFxuICAgICAgICAgIHRoaXMuUkVHRVhQUy5zcmNzZXRVcmwsXG4gICAgICAgICAgZnVuY3Rpb24gKF8sIHAxLCBwMiwgcDMpIHtcbiAgICAgICAgICAgIHJldHVybiB0b0Fic29sdXRlVVJJKHAxKSArIChwMiB8fCBcIlwiKSArIHAzO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBtZWRpYS5zZXRBdHRyaWJ1dGUoXCJzcmNzZXRcIiwgbmV3U3Jjc2V0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfc2ltcGxpZnlOZXN0ZWRFbGVtZW50cyhhcnRpY2xlQ29udGVudCkge1xuICAgIHZhciBub2RlID0gYXJ0aWNsZUNvbnRlbnQ7XG5cbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKFxuICAgICAgICBub2RlLnBhcmVudE5vZGUgJiZcbiAgICAgICAgW1wiRElWXCIsIFwiU0VDVElPTlwiXS5pbmNsdWRlcyhub2RlLnRhZ05hbWUpICYmXG4gICAgICAgICEobm9kZS5pZCAmJiBub2RlLmlkLnN0YXJ0c1dpdGgoXCJyZWFkYWJpbGl0eVwiKSlcbiAgICAgICkge1xuICAgICAgICBpZiAodGhpcy5faXNFbGVtZW50V2l0aG91dENvbnRlbnQobm9kZSkpIHtcbiAgICAgICAgICBub2RlID0gdGhpcy5fcmVtb3ZlQW5kR2V0TmV4dChub2RlKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICB0aGlzLl9oYXNTaW5nbGVUYWdJbnNpZGVFbGVtZW50KG5vZGUsIFwiRElWXCIpIHx8XG4gICAgICAgICAgdGhpcy5faGFzU2luZ2xlVGFnSW5zaWRlRWxlbWVudChub2RlLCBcIlNFQ1RJT05cIilcbiAgICAgICAgKSB7XG4gICAgICAgICAgdmFyIGNoaWxkID0gbm9kZS5jaGlsZHJlblswXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2hpbGQuc2V0QXR0cmlidXRlTm9kZShub2RlLmF0dHJpYnV0ZXNbaV0uY2xvbmVOb2RlKCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBub2RlLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGNoaWxkLCBub2RlKTtcbiAgICAgICAgICBub2RlID0gY2hpbGQ7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbm9kZSA9IHRoaXMuX2dldE5leHROb2RlKG5vZGUpO1xuICAgIH1cbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBhcnRpY2xlIHRpdGxlIGFzIGFuIEgxLlxuICAgKlxuICAgKiBAcmV0dXJuIHN0cmluZ1xuICAgKiovXG4gIF9nZXRBcnRpY2xlVGl0bGUoKSB7XG4gICAgdmFyIGRvYyA9IHRoaXMuX2RvYztcbiAgICB2YXIgY3VyVGl0bGUgPSBcIlwiO1xuICAgIHZhciBvcmlnVGl0bGUgPSBcIlwiO1xuXG4gICAgdHJ5IHtcbiAgICAgIGN1clRpdGxlID0gb3JpZ1RpdGxlID0gZG9jLnRpdGxlLnRyaW0oKTtcblxuICAgICAgLy8gSWYgdGhleSBoYWQgYW4gZWxlbWVudCB3aXRoIGlkIFwidGl0bGVcIiBpbiB0aGVpciBIVE1MXG4gICAgICBpZiAodHlwZW9mIGN1clRpdGxlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGN1clRpdGxlID0gb3JpZ1RpdGxlID0gdGhpcy5fZ2V0SW5uZXJUZXh0KFxuICAgICAgICAgIGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpWzBdXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLyogaWdub3JlIGV4Y2VwdGlvbnMgc2V0dGluZyB0aGUgdGl0bGUuICovXG4gICAgfVxuXG4gICAgdmFyIHRpdGxlSGFkSGllcmFyY2hpY2FsU2VwYXJhdG9ycyA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHdvcmRDb3VudChzdHIpIHtcbiAgICAgIHJldHVybiBzdHIuc3BsaXQoL1xccysvKS5sZW5ndGg7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUncyBhIHNlcGFyYXRvciBpbiB0aGUgdGl0bGUsIGZpcnN0IHJlbW92ZSB0aGUgZmluYWwgcGFydFxuICAgIGlmICgvIFtcXHxcXC1cXFxcXFwvPsK7XSAvLnRlc3QoY3VyVGl0bGUpKSB7XG4gICAgICB0aXRsZUhhZEhpZXJhcmNoaWNhbFNlcGFyYXRvcnMgPSAvIFtcXFxcXFwvPsK7XSAvLnRlc3QoY3VyVGl0bGUpO1xuICAgICAgbGV0IGFsbFNlcGFyYXRvcnMgPSBBcnJheS5mcm9tKG9yaWdUaXRsZS5tYXRjaEFsbCgvIFtcXHxcXC1cXFxcXFwvPsK7XSAvZ2kpKTtcbiAgICAgIGN1clRpdGxlID0gb3JpZ1RpdGxlLnN1YnN0cmluZygwLCBhbGxTZXBhcmF0b3JzLnBvcCgpLmluZGV4KTtcblxuICAgICAgLy8gSWYgdGhlIHJlc3VsdGluZyB0aXRsZSBpcyB0b28gc2hvcnQsIHJlbW92ZSB0aGUgZmlyc3QgcGFydCBpbnN0ZWFkOlxuICAgICAgaWYgKHdvcmRDb3VudChjdXJUaXRsZSkgPCAzKSB7XG4gICAgICAgIGN1clRpdGxlID0gb3JpZ1RpdGxlLnJlcGxhY2UoL15bXlxcfFxcLVxcXFxcXC8+wrtdKltcXHxcXC1cXFxcXFwvPsK7XS9naSwgXCJcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJUaXRsZS5pbmNsdWRlcyhcIjogXCIpKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBoYXZlIGFuIGhlYWRpbmcgY29udGFpbmluZyB0aGlzIGV4YWN0IHN0cmluZywgc28gd2VcbiAgICAgIC8vIGNvdWxkIGFzc3VtZSBpdCdzIHRoZSBmdWxsIHRpdGxlLlxuICAgICAgdmFyIGhlYWRpbmdzID0gdGhpcy5fZ2V0QWxsTm9kZXNXaXRoVGFnKGRvYywgW1wiaDFcIiwgXCJoMlwiXSk7XG4gICAgICB2YXIgdHJpbW1lZFRpdGxlID0gY3VyVGl0bGUudHJpbSgpO1xuICAgICAgdmFyIG1hdGNoID0gdGhpcy5fc29tZU5vZGUoaGVhZGluZ3MsIGZ1bmN0aW9uIChoZWFkaW5nKSB7XG4gICAgICAgIHJldHVybiBoZWFkaW5nLnRleHRDb250ZW50LnRyaW0oKSA9PT0gdHJpbW1lZFRpdGxlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIElmIHdlIGRvbid0LCBsZXQncyBleHRyYWN0IHRoZSB0aXRsZSBvdXQgb2YgdGhlIG9yaWdpbmFsIHRpdGxlIHN0cmluZy5cbiAgICAgIGlmICghbWF0Y2gpIHtcbiAgICAgICAgY3VyVGl0bGUgPSBvcmlnVGl0bGUuc3Vic3RyaW5nKG9yaWdUaXRsZS5sYXN0SW5kZXhPZihcIjpcIikgKyAxKTtcblxuICAgICAgICAvLyBJZiB0aGUgdGl0bGUgaXMgbm93IHRvbyBzaG9ydCwgdHJ5IHRoZSBmaXJzdCBjb2xvbiBpbnN0ZWFkOlxuICAgICAgICBpZiAod29yZENvdW50KGN1clRpdGxlKSA8IDMpIHtcbiAgICAgICAgICBjdXJUaXRsZSA9IG9yaWdUaXRsZS5zdWJzdHJpbmcob3JpZ1RpdGxlLmluZGV4T2YoXCI6XCIpICsgMSk7XG4gICAgICAgICAgLy8gQnV0IGlmIHdlIGhhdmUgdG9vIG1hbnkgd29yZHMgYmVmb3JlIHRoZSBjb2xvbiB0aGVyZSdzIHNvbWV0aGluZyB3ZWlyZFxuICAgICAgICAgIC8vIHdpdGggdGhlIHRpdGxlcyBhbmQgdGhlIEggdGFncyBzbyBsZXQncyBqdXN0IHVzZSB0aGUgb3JpZ2luYWwgdGl0bGUgaW5zdGVhZFxuICAgICAgICB9IGVsc2UgaWYgKHdvcmRDb3VudChvcmlnVGl0bGUuc3Vic3RyKDAsIG9yaWdUaXRsZS5pbmRleE9mKFwiOlwiKSkpID4gNSkge1xuICAgICAgICAgIGN1clRpdGxlID0gb3JpZ1RpdGxlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJUaXRsZS5sZW5ndGggPiAxNTAgfHwgY3VyVGl0bGUubGVuZ3RoIDwgMTUpIHtcbiAgICAgIHZhciBoT25lcyA9IGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcImgxXCIpO1xuXG4gICAgICBpZiAoaE9uZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGN1clRpdGxlID0gdGhpcy5fZ2V0SW5uZXJUZXh0KGhPbmVzWzBdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjdXJUaXRsZSA9IGN1clRpdGxlLnRyaW0oKS5yZXBsYWNlKHRoaXMuUkVHRVhQUy5ub3JtYWxpemUsIFwiIFwiKTtcbiAgICAvLyBJZiB3ZSBub3cgaGF2ZSA0IHdvcmRzIG9yIGZld2VyIGFzIG91ciB0aXRsZSwgYW5kIGVpdGhlciBub1xuICAgIC8vICdoaWVyYXJjaGljYWwnIHNlcGFyYXRvcnMgKFxcLCAvLCA+IG9yIMK7KSB3ZXJlIGZvdW5kIGluIHRoZSBvcmlnaW5hbFxuICAgIC8vIHRpdGxlIG9yIHdlIGRlY3JlYXNlZCB0aGUgbnVtYmVyIG9mIHdvcmRzIGJ5IG1vcmUgdGhhbiAxIHdvcmQsIHVzZVxuICAgIC8vIHRoZSBvcmlnaW5hbCB0aXRsZS5cbiAgICB2YXIgY3VyVGl0bGVXb3JkQ291bnQgPSB3b3JkQ291bnQoY3VyVGl0bGUpO1xuICAgIGlmIChcbiAgICAgIGN1clRpdGxlV29yZENvdW50IDw9IDQgJiZcbiAgICAgICghdGl0bGVIYWRIaWVyYXJjaGljYWxTZXBhcmF0b3JzIHx8XG4gICAgICAgIGN1clRpdGxlV29yZENvdW50ICE9XG4gICAgICAgICAgd29yZENvdW50KG9yaWdUaXRsZS5yZXBsYWNlKC9bXFx8XFwtXFxcXFxcLz7Cu10rL2csIFwiXCIpKSAtIDEpXG4gICAgKSB7XG4gICAgICBjdXJUaXRsZSA9IG9yaWdUaXRsZTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3VyVGl0bGU7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFByZXBhcmUgdGhlIEhUTUwgZG9jdW1lbnQgZm9yIHJlYWRhYmlsaXR5IHRvIHNjcmFwZSBpdC5cbiAgICogVGhpcyBpbmNsdWRlcyB0aGluZ3MgbGlrZSBzdHJpcHBpbmcgamF2YXNjcmlwdCwgQ1NTLCBhbmQgaGFuZGxpbmcgdGVycmlibGUgbWFya3VwLlxuICAgKlxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICoqL1xuICBfcHJlcERvY3VtZW50KCkge1xuICAgIHZhciBkb2MgPSB0aGlzLl9kb2M7XG5cbiAgICAvLyBSZW1vdmUgYWxsIHN0eWxlIHRhZ3MgaW4gaGVhZFxuICAgIHRoaXMuX3JlbW92ZU5vZGVzKHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhkb2MsIFtcInN0eWxlXCJdKSk7XG5cbiAgICBpZiAoZG9jLmJvZHkpIHtcbiAgICAgIHRoaXMuX3JlcGxhY2VCcnMoZG9jLmJvZHkpO1xuICAgIH1cblxuICAgIHRoaXMuX3JlcGxhY2VOb2RlVGFncyh0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcoZG9jLCBbXCJmb250XCJdKSwgXCJTUEFOXCIpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kcyB0aGUgbmV4dCBub2RlLCBzdGFydGluZyBmcm9tIHRoZSBnaXZlbiBub2RlLCBhbmQgaWdub3JpbmdcbiAgICogd2hpdGVzcGFjZSBpbiBiZXR3ZWVuLiBJZiB0aGUgZ2l2ZW4gbm9kZSBpcyBhbiBlbGVtZW50LCB0aGUgc2FtZSBub2RlIGlzXG4gICAqIHJldHVybmVkLlxuICAgKi9cbiAgX25leHROb2RlKG5vZGUpIHtcbiAgICB2YXIgbmV4dCA9IG5vZGU7XG4gICAgd2hpbGUgKFxuICAgICAgbmV4dCAmJlxuICAgICAgbmV4dC5ub2RlVHlwZSAhPSB0aGlzLkVMRU1FTlRfTk9ERSAmJlxuICAgICAgdGhpcy5SRUdFWFBTLndoaXRlc3BhY2UudGVzdChuZXh0LnRleHRDb250ZW50KVxuICAgICkge1xuICAgICAgbmV4dCA9IG5leHQubmV4dFNpYmxpbmc7XG4gICAgfVxuICAgIHJldHVybiBuZXh0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBSZXBsYWNlcyAyIG9yIG1vcmUgc3VjY2Vzc2l2ZSA8YnI+IGVsZW1lbnRzIHdpdGggYSBzaW5nbGUgPHA+LlxuICAgKiBXaGl0ZXNwYWNlIGJldHdlZW4gPGJyPiBlbGVtZW50cyBhcmUgaWdub3JlZC4gRm9yIGV4YW1wbGU6XG4gICAqICAgPGRpdj5mb288YnI+YmFyPGJyPiA8YnI+PGJyPmFiYzwvZGl2PlxuICAgKiB3aWxsIGJlY29tZTpcbiAgICogICA8ZGl2PmZvbzxicj5iYXI8cD5hYmM8L3A+PC9kaXY+XG4gICAqL1xuICBfcmVwbGFjZUJycyhlbGVtKSB7XG4gICAgdGhpcy5fZm9yRWFjaE5vZGUodGhpcy5fZ2V0QWxsTm9kZXNXaXRoVGFnKGVsZW0sIFtcImJyXCJdKSwgZnVuY3Rpb24gKGJyKSB7XG4gICAgICB2YXIgbmV4dCA9IGJyLm5leHRTaWJsaW5nO1xuXG4gICAgICAvLyBXaGV0aGVyIDIgb3IgbW9yZSA8YnI+IGVsZW1lbnRzIGhhdmUgYmVlbiBmb3VuZCBhbmQgcmVwbGFjZWQgd2l0aCBhXG4gICAgICAvLyA8cD4gYmxvY2suXG4gICAgICB2YXIgcmVwbGFjZWQgPSBmYWxzZTtcblxuICAgICAgLy8gSWYgd2UgZmluZCBhIDxicj4gY2hhaW4sIHJlbW92ZSB0aGUgPGJyPnMgdW50aWwgd2UgaGl0IGFub3RoZXIgbm9kZVxuICAgICAgLy8gb3Igbm9uLXdoaXRlc3BhY2UuIFRoaXMgbGVhdmVzIGJlaGluZCB0aGUgZmlyc3QgPGJyPiBpbiB0aGUgY2hhaW5cbiAgICAgIC8vICh3aGljaCB3aWxsIGJlIHJlcGxhY2VkIHdpdGggYSA8cD4gbGF0ZXIpLlxuICAgICAgd2hpbGUgKChuZXh0ID0gdGhpcy5fbmV4dE5vZGUobmV4dCkpICYmIG5leHQudGFnTmFtZSA9PSBcIkJSXCIpIHtcbiAgICAgICAgcmVwbGFjZWQgPSB0cnVlO1xuICAgICAgICB2YXIgYnJTaWJsaW5nID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgbmV4dC5yZW1vdmUoKTtcbiAgICAgICAgbmV4dCA9IGJyU2libGluZztcbiAgICAgIH1cblxuICAgICAgLy8gSWYgd2UgcmVtb3ZlZCBhIDxicj4gY2hhaW4sIHJlcGxhY2UgdGhlIHJlbWFpbmluZyA8YnI+IHdpdGggYSA8cD4uIEFkZFxuICAgICAgLy8gYWxsIHNpYmxpbmcgbm9kZXMgYXMgY2hpbGRyZW4gb2YgdGhlIDxwPiB1bnRpbCB3ZSBoaXQgYW5vdGhlciA8YnI+XG4gICAgICAvLyBjaGFpbi5cbiAgICAgIGlmIChyZXBsYWNlZCkge1xuICAgICAgICB2YXIgcCA9IHRoaXMuX2RvYy5jcmVhdGVFbGVtZW50KFwicFwiKTtcbiAgICAgICAgYnIucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocCwgYnIpO1xuXG4gICAgICAgIG5leHQgPSBwLm5leHRTaWJsaW5nO1xuICAgICAgICB3aGlsZSAobmV4dCkge1xuICAgICAgICAgIC8vIElmIHdlJ3ZlIGhpdCBhbm90aGVyIDxicj48YnI+LCB3ZSdyZSBkb25lIGFkZGluZyBjaGlsZHJlbiB0byB0aGlzIDxwPi5cbiAgICAgICAgICBpZiAobmV4dC50YWdOYW1lID09IFwiQlJcIikge1xuICAgICAgICAgICAgdmFyIG5leHRFbGVtID0gdGhpcy5fbmV4dE5vZGUobmV4dC5uZXh0U2libGluZyk7XG4gICAgICAgICAgICBpZiAobmV4dEVsZW0gJiYgbmV4dEVsZW0udGFnTmFtZSA9PSBcIkJSXCIpIHtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCF0aGlzLl9pc1BocmFzaW5nQ29udGVudChuZXh0KSkge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gT3RoZXJ3aXNlLCBtYWtlIHRoaXMgbm9kZSBhIGNoaWxkIG9mIHRoZSBuZXcgPHA+LlxuICAgICAgICAgIHZhciBzaWJsaW5nID0gbmV4dC5uZXh0U2libGluZztcbiAgICAgICAgICBwLmFwcGVuZENoaWxkKG5leHQpO1xuICAgICAgICAgIG5leHQgPSBzaWJsaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgd2hpbGUgKHAubGFzdENoaWxkICYmIHRoaXMuX2lzV2hpdGVzcGFjZShwLmxhc3RDaGlsZCkpIHtcbiAgICAgICAgICBwLmxhc3RDaGlsZC5yZW1vdmUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwLnBhcmVudE5vZGUudGFnTmFtZSA9PT0gXCJQXCIpIHtcbiAgICAgICAgICB0aGlzLl9zZXROb2RlVGFnKHAucGFyZW50Tm9kZSwgXCJESVZcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcblxuICBfc2V0Tm9kZVRhZyhub2RlLCB0YWcpIHtcbiAgICB0aGlzLmxvZyhcIl9zZXROb2RlVGFnXCIsIG5vZGUsIHRhZyk7XG4gICAgaWYgKHRoaXMuX2RvY0pTRE9NUGFyc2VyKSB7XG4gICAgICBub2RlLmxvY2FsTmFtZSA9IHRhZy50b0xvd2VyQ2FzZSgpO1xuICAgICAgbm9kZS50YWdOYW1lID0gdGFnLnRvVXBwZXJDYXNlKCk7XG4gICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICB2YXIgcmVwbGFjZW1lbnQgPSBub2RlLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuICAgIHdoaWxlIChub2RlLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHJlcGxhY2VtZW50LmFwcGVuZENoaWxkKG5vZGUuZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIG5vZGUucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQocmVwbGFjZW1lbnQsIG5vZGUpO1xuICAgIGlmIChub2RlLnJlYWRhYmlsaXR5KSB7XG4gICAgICByZXBsYWNlbWVudC5yZWFkYWJpbGl0eSA9IG5vZGUucmVhZGFiaWxpdHk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlcGxhY2VtZW50LnNldEF0dHJpYnV0ZU5vZGUobm9kZS5hdHRyaWJ1dGVzW2ldLmNsb25lTm9kZSgpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcGxhY2VtZW50O1xuICB9LFxuXG4gIC8qKlxuICAgKiBQcmVwYXJlIHRoZSBhcnRpY2xlIG5vZGUgZm9yIGRpc3BsYXkuIENsZWFuIG91dCBhbnkgaW5saW5lIHN0eWxlcyxcbiAgICogaWZyYW1lcywgZm9ybXMsIHN0cmlwIGV4dHJhbmVvdXMgPHA+IHRhZ3MsIGV0Yy5cbiAgICpcbiAgICogQHBhcmFtIEVsZW1lbnRcbiAgICogQHJldHVybiB2b2lkXG4gICAqKi9cbiAgX3ByZXBBcnRpY2xlKGFydGljbGVDb250ZW50KSB7XG4gICAgdGhpcy5fY2xlYW5TdHlsZXMoYXJ0aWNsZUNvbnRlbnQpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIGRhdGEgdGFibGVzIGJlZm9yZSB3ZSBjb250aW51ZSwgdG8gYXZvaWQgcmVtb3ZpbmcgaXRlbXMgaW5cbiAgICAvLyB0aG9zZSB0YWJsZXMsIHdoaWNoIHdpbGwgb2Z0ZW4gYmUgaXNvbGF0ZWQgZXZlbiB0aG91Z2ggdGhleSdyZVxuICAgIC8vIHZpc3VhbGx5IGxpbmtlZCB0byBvdGhlciBjb250ZW50LWZ1bCBlbGVtZW50cyAodGV4dCwgaW1hZ2VzLCBldGMuKS5cbiAgICB0aGlzLl9tYXJrRGF0YVRhYmxlcyhhcnRpY2xlQ29udGVudCk7XG5cbiAgICB0aGlzLl9maXhMYXp5SW1hZ2VzKGFydGljbGVDb250ZW50KTtcblxuICAgIC8vIENsZWFuIG91dCBqdW5rIGZyb20gdGhlIGFydGljbGUgY29udGVudFxuICAgIHRoaXMuX2NsZWFuQ29uZGl0aW9uYWxseShhcnRpY2xlQ29udGVudCwgXCJmb3JtXCIpO1xuICAgIHRoaXMuX2NsZWFuQ29uZGl0aW9uYWxseShhcnRpY2xlQ29udGVudCwgXCJmaWVsZHNldFwiKTtcbiAgICB0aGlzLl9jbGVhbihhcnRpY2xlQ29udGVudCwgXCJvYmplY3RcIik7XG4gICAgdGhpcy5fY2xlYW4oYXJ0aWNsZUNvbnRlbnQsIFwiZW1iZWRcIik7XG4gICAgdGhpcy5fY2xlYW4oYXJ0aWNsZUNvbnRlbnQsIFwiZm9vdGVyXCIpO1xuICAgIHRoaXMuX2NsZWFuKGFydGljbGVDb250ZW50LCBcImxpbmtcIik7XG4gICAgdGhpcy5fY2xlYW4oYXJ0aWNsZUNvbnRlbnQsIFwiYXNpZGVcIik7XG5cbiAgICAvLyBDbGVhbiBvdXQgZWxlbWVudHMgd2l0aCBsaXR0bGUgY29udGVudCB0aGF0IGhhdmUgXCJzaGFyZVwiIGluIHRoZWlyIGlkL2NsYXNzIGNvbWJpbmF0aW9ucyBmcm9tIGZpbmFsIHRvcCBjYW5kaWRhdGVzLFxuICAgIC8vIHdoaWNoIG1lYW5zIHdlIGRvbid0IHJlbW92ZSB0aGUgdG9wIGNhbmRpZGF0ZXMgZXZlbiB0aGV5IGhhdmUgXCJzaGFyZVwiLlxuXG4gICAgdmFyIHNoYXJlRWxlbWVudFRocmVzaG9sZCA9IHRoaXMuREVGQVVMVF9DSEFSX1RIUkVTSE9MRDtcblxuICAgIHRoaXMuX2ZvckVhY2hOb2RlKGFydGljbGVDb250ZW50LmNoaWxkcmVuLCBmdW5jdGlvbiAodG9wQ2FuZGlkYXRlKSB7XG4gICAgICB0aGlzLl9jbGVhbk1hdGNoZWROb2Rlcyh0b3BDYW5kaWRhdGUsIGZ1bmN0aW9uIChub2RlLCBtYXRjaFN0cmluZykge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIHRoaXMuUkVHRVhQUy5zaGFyZUVsZW1lbnRzLnRlc3QobWF0Y2hTdHJpbmcpICYmXG4gICAgICAgICAgbm9kZS50ZXh0Q29udGVudC5sZW5ndGggPCBzaGFyZUVsZW1lbnRUaHJlc2hvbGRcbiAgICAgICAgKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fY2xlYW4oYXJ0aWNsZUNvbnRlbnQsIFwiaWZyYW1lXCIpO1xuICAgIHRoaXMuX2NsZWFuKGFydGljbGVDb250ZW50LCBcImlucHV0XCIpO1xuICAgIHRoaXMuX2NsZWFuKGFydGljbGVDb250ZW50LCBcInRleHRhcmVhXCIpO1xuICAgIHRoaXMuX2NsZWFuKGFydGljbGVDb250ZW50LCBcInNlbGVjdFwiKTtcbiAgICB0aGlzLl9jbGVhbihhcnRpY2xlQ29udGVudCwgXCJidXR0b25cIik7XG4gICAgdGhpcy5fY2xlYW5IZWFkZXJzKGFydGljbGVDb250ZW50KTtcblxuICAgIC8vIERvIHRoZXNlIGxhc3QgYXMgdGhlIHByZXZpb3VzIHN0dWZmIG1heSBoYXZlIHJlbW92ZWQganVua1xuICAgIC8vIHRoYXQgd2lsbCBhZmZlY3QgdGhlc2VcbiAgICB0aGlzLl9jbGVhbkNvbmRpdGlvbmFsbHkoYXJ0aWNsZUNvbnRlbnQsIFwidGFibGVcIik7XG4gICAgdGhpcy5fY2xlYW5Db25kaXRpb25hbGx5KGFydGljbGVDb250ZW50LCBcInVsXCIpO1xuICAgIHRoaXMuX2NsZWFuQ29uZGl0aW9uYWxseShhcnRpY2xlQ29udGVudCwgXCJkaXZcIik7XG5cbiAgICAvLyByZXBsYWNlIEgxIHdpdGggSDIgYXMgSDEgc2hvdWxkIGJlIG9ubHkgdGl0bGUgdGhhdCBpcyBkaXNwbGF5ZWQgc2VwYXJhdGVseVxuICAgIHRoaXMuX3JlcGxhY2VOb2RlVGFncyhcbiAgICAgIHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhhcnRpY2xlQ29udGVudCwgW1wiaDFcIl0pLFxuICAgICAgXCJoMlwiXG4gICAgKTtcblxuICAgIC8vIFJlbW92ZSBleHRyYSBwYXJhZ3JhcGhzXG4gICAgdGhpcy5fcmVtb3ZlTm9kZXMoXG4gICAgICB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcoYXJ0aWNsZUNvbnRlbnQsIFtcInBcIl0pLFxuICAgICAgZnVuY3Rpb24gKHBhcmFncmFwaCkge1xuICAgICAgICAvLyBBdCB0aGlzIHBvaW50LCBuYXN0eSBpZnJhbWVzIGhhdmUgYmVlbiByZW1vdmVkOyBvbmx5IGVtYmVkZGVkIHZpZGVvXG4gICAgICAgIC8vIG9uZXMgcmVtYWluLlxuICAgICAgICB2YXIgY29udGVudEVsZW1lbnRDb3VudCA9IHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhwYXJhZ3JhcGgsIFtcbiAgICAgICAgICBcImltZ1wiLFxuICAgICAgICAgIFwiZW1iZWRcIixcbiAgICAgICAgICBcIm9iamVjdFwiLFxuICAgICAgICAgIFwiaWZyYW1lXCIsXG4gICAgICAgIF0pLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICBjb250ZW50RWxlbWVudENvdW50ID09PSAwICYmICF0aGlzLl9nZXRJbm5lclRleHQocGFyYWdyYXBoLCBmYWxzZSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICApO1xuXG4gICAgdGhpcy5fZm9yRWFjaE5vZGUoXG4gICAgICB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcoYXJ0aWNsZUNvbnRlbnQsIFtcImJyXCJdKSxcbiAgICAgIGZ1bmN0aW9uIChicikge1xuICAgICAgICB2YXIgbmV4dCA9IHRoaXMuX25leHROb2RlKGJyLm5leHRTaWJsaW5nKTtcbiAgICAgICAgaWYgKG5leHQgJiYgbmV4dC50YWdOYW1lID09IFwiUFwiKSB7XG4gICAgICAgICAgYnIucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuXG4gICAgLy8gUmVtb3ZlIHNpbmdsZS1jZWxsIHRhYmxlc1xuICAgIHRoaXMuX2ZvckVhY2hOb2RlKFxuICAgICAgdGhpcy5fZ2V0QWxsTm9kZXNXaXRoVGFnKGFydGljbGVDb250ZW50LCBbXCJ0YWJsZVwiXSksXG4gICAgICBmdW5jdGlvbiAodGFibGUpIHtcbiAgICAgICAgdmFyIHRib2R5ID0gdGhpcy5faGFzU2luZ2xlVGFnSW5zaWRlRWxlbWVudCh0YWJsZSwgXCJUQk9EWVwiKVxuICAgICAgICAgID8gdGFibGUuZmlyc3RFbGVtZW50Q2hpbGRcbiAgICAgICAgICA6IHRhYmxlO1xuICAgICAgICBpZiAodGhpcy5faGFzU2luZ2xlVGFnSW5zaWRlRWxlbWVudCh0Ym9keSwgXCJUUlwiKSkge1xuICAgICAgICAgIHZhciByb3cgPSB0Ym9keS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICAgICAgICBpZiAodGhpcy5faGFzU2luZ2xlVGFnSW5zaWRlRWxlbWVudChyb3csIFwiVERcIikpIHtcbiAgICAgICAgICAgIHZhciBjZWxsID0gcm93LmZpcnN0RWxlbWVudENoaWxkO1xuICAgICAgICAgICAgY2VsbCA9IHRoaXMuX3NldE5vZGVUYWcoXG4gICAgICAgICAgICAgIGNlbGwsXG4gICAgICAgICAgICAgIHRoaXMuX2V2ZXJ5Tm9kZShjZWxsLmNoaWxkTm9kZXMsIHRoaXMuX2lzUGhyYXNpbmdDb250ZW50KVxuICAgICAgICAgICAgICAgID8gXCJQXCJcbiAgICAgICAgICAgICAgICA6IFwiRElWXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICB0YWJsZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChjZWxsLCB0YWJsZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBhIG5vZGUgd2l0aCB0aGUgcmVhZGFiaWxpdHkgb2JqZWN0LiBBbHNvIGNoZWNrcyB0aGVcbiAgICogY2xhc3NOYW1lL2lkIGZvciBzcGVjaWFsIG5hbWVzIHRvIGFkZCB0byBpdHMgc2NvcmUuXG4gICAqXG4gICAqIEBwYXJhbSBFbGVtZW50XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKiovXG4gIF9pbml0aWFsaXplTm9kZShub2RlKSB7XG4gICAgbm9kZS5yZWFkYWJpbGl0eSA9IHsgY29udGVudFNjb3JlOiAwIH07XG5cbiAgICBzd2l0Y2ggKG5vZGUudGFnTmFtZSkge1xuICAgICAgY2FzZSBcIkRJVlwiOlxuICAgICAgICBub2RlLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZSArPSA1O1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIlBSRVwiOlxuICAgICAgY2FzZSBcIlREXCI6XG4gICAgICBjYXNlIFwiQkxPQ0tRVU9URVwiOlxuICAgICAgICBub2RlLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZSArPSAzO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBcIkFERFJFU1NcIjpcbiAgICAgIGNhc2UgXCJPTFwiOlxuICAgICAgY2FzZSBcIlVMXCI6XG4gICAgICBjYXNlIFwiRExcIjpcbiAgICAgIGNhc2UgXCJERFwiOlxuICAgICAgY2FzZSBcIkRUXCI6XG4gICAgICBjYXNlIFwiTElcIjpcbiAgICAgIGNhc2UgXCJGT1JNXCI6XG4gICAgICAgIG5vZGUucmVhZGFiaWxpdHkuY29udGVudFNjb3JlIC09IDM7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIFwiSDFcIjpcbiAgICAgIGNhc2UgXCJIMlwiOlxuICAgICAgY2FzZSBcIkgzXCI6XG4gICAgICBjYXNlIFwiSDRcIjpcbiAgICAgIGNhc2UgXCJINVwiOlxuICAgICAgY2FzZSBcIkg2XCI6XG4gICAgICBjYXNlIFwiVEhcIjpcbiAgICAgICAgbm9kZS5yZWFkYWJpbGl0eS5jb250ZW50U2NvcmUgLT0gNTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgbm9kZS5yZWFkYWJpbGl0eS5jb250ZW50U2NvcmUgKz0gdGhpcy5fZ2V0Q2xhc3NXZWlnaHQobm9kZSk7XG4gIH0sXG5cbiAgX3JlbW92ZUFuZEdldE5leHQobm9kZSkge1xuICAgIHZhciBuZXh0Tm9kZSA9IHRoaXMuX2dldE5leHROb2RlKG5vZGUsIHRydWUpO1xuICAgIG5vZGUucmVtb3ZlKCk7XG4gICAgcmV0dXJuIG5leHROb2RlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBUcmF2ZXJzZSB0aGUgRE9NIGZyb20gbm9kZSB0byBub2RlLCBzdGFydGluZyBhdCB0aGUgbm9kZSBwYXNzZWQgaW4uXG4gICAqIFBhc3MgdHJ1ZSBmb3IgdGhlIHNlY29uZCBwYXJhbWV0ZXIgdG8gaW5kaWNhdGUgdGhpcyBub2RlIGl0c2VsZlxuICAgKiAoYW5kIGl0cyBraWRzKSBhcmUgZ29pbmcgYXdheSwgYW5kIHdlIHdhbnQgdGhlIG5leHQgbm9kZSBvdmVyLlxuICAgKlxuICAgKiBDYWxsaW5nIHRoaXMgaW4gYSBsb29wIHdpbGwgdHJhdmVyc2UgdGhlIERPTSBkZXB0aC1maXJzdC5cbiAgICpcbiAgICogQHBhcmFtIHtFbGVtZW50fSBub2RlXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaWdub3JlU2VsZkFuZEtpZHNcbiAgICogQHJldHVybiB7RWxlbWVudH1cbiAgICovXG4gIF9nZXROZXh0Tm9kZShub2RlLCBpZ25vcmVTZWxmQW5kS2lkcykge1xuICAgIC8vIEZpcnN0IGNoZWNrIGZvciBraWRzIGlmIHRob3NlIGFyZW4ndCBiZWluZyBpZ25vcmVkXG4gICAgaWYgKCFpZ25vcmVTZWxmQW5kS2lkcyAmJiBub2RlLmZpcnN0RWxlbWVudENoaWxkKSB7XG4gICAgICByZXR1cm4gbm9kZS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB9XG4gICAgLy8gVGhlbiBmb3Igc2libGluZ3MuLi5cbiAgICBpZiAobm9kZS5uZXh0RWxlbWVudFNpYmxpbmcpIHtcbiAgICAgIHJldHVybiBub2RlLm5leHRFbGVtZW50U2libGluZztcbiAgICB9XG4gICAgLy8gQW5kIGZpbmFsbHksIG1vdmUgdXAgdGhlIHBhcmVudCBjaGFpbiAqYW5kKiBmaW5kIGEgc2libGluZ1xuICAgIC8vIChiZWNhdXNlIHRoaXMgaXMgZGVwdGgtZmlyc3QgdHJhdmVyc2FsLCB3ZSB3aWxsIGhhdmUgYWxyZWFkeVxuICAgIC8vIHNlZW4gdGhlIHBhcmVudCBub2RlcyB0aGVtc2VsdmVzKS5cbiAgICBkbyB7XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH0gd2hpbGUgKG5vZGUgJiYgIW5vZGUubmV4dEVsZW1lbnRTaWJsaW5nKTtcbiAgICByZXR1cm4gbm9kZSAmJiBub2RlLm5leHRFbGVtZW50U2libGluZztcbiAgfSxcblxuICAvLyBjb21wYXJlcyBzZWNvbmQgdGV4dCB0byBmaXJzdCBvbmVcbiAgLy8gMSA9IHNhbWUgdGV4dCwgMCA9IGNvbXBsZXRlbHkgZGlmZmVyZW50IHRleHRcbiAgLy8gd29ya3MgdGhlIHdheSB0aGF0IGl0IHNwbGl0cyBib3RoIHRleHRzIGludG8gd29yZHMgYW5kIHRoZW4gZmluZHMgd29yZHMgdGhhdCBhcmUgdW5pcXVlIGluIHNlY29uZCB0ZXh0XG4gIC8vIHRoZSByZXN1bHQgaXMgZ2l2ZW4gYnkgdGhlIGxvd2VyIGxlbmd0aCBvZiB1bmlxdWUgcGFydHNcbiAgX3RleHRTaW1pbGFyaXR5KHRleHRBLCB0ZXh0Qikge1xuICAgIHZhciB0b2tlbnNBID0gdGV4dEFcbiAgICAgIC50b0xvd2VyQ2FzZSgpXG4gICAgICAuc3BsaXQodGhpcy5SRUdFWFBTLnRva2VuaXplKVxuICAgICAgLmZpbHRlcihCb29sZWFuKTtcbiAgICB2YXIgdG9rZW5zQiA9IHRleHRCXG4gICAgICAudG9Mb3dlckNhc2UoKVxuICAgICAgLnNwbGl0KHRoaXMuUkVHRVhQUy50b2tlbml6ZSlcbiAgICAgIC5maWx0ZXIoQm9vbGVhbik7XG4gICAgaWYgKCF0b2tlbnNBLmxlbmd0aCB8fCAhdG9rZW5zQi5sZW5ndGgpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cbiAgICB2YXIgdW5pcVRva2Vuc0IgPSB0b2tlbnNCLmZpbHRlcih0b2tlbiA9PiAhdG9rZW5zQS5pbmNsdWRlcyh0b2tlbikpO1xuICAgIHZhciBkaXN0YW5jZUIgPSB1bmlxVG9rZW5zQi5qb2luKFwiIFwiKS5sZW5ndGggLyB0b2tlbnNCLmpvaW4oXCIgXCIpLmxlbmd0aDtcbiAgICByZXR1cm4gMSAtIGRpc3RhbmNlQjtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBub2RlIGNvbnRhaW5zIGEgdmFsaWQgYnlsaW5lXG4gICAqXG4gICAqIEBwYXJhbSBub2RlIHtFbGVtZW50fVxuICAgKiBAcGFyYW0gbWF0Y2hTdHJpbmcge3N0cmluZ31cbiAgICogQHJldHVybiBib29sZWFuXG4gICAqL1xuICBfaXNWYWxpZEJ5bGluZShub2RlLCBtYXRjaFN0cmluZykge1xuICAgIHZhciByZWwgPSBub2RlLmdldEF0dHJpYnV0ZShcInJlbFwiKTtcbiAgICB2YXIgaXRlbXByb3AgPSBub2RlLmdldEF0dHJpYnV0ZShcIml0ZW1wcm9wXCIpO1xuICAgIHZhciBieWxpbmVMZW5ndGggPSBub2RlLnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGg7XG5cbiAgICByZXR1cm4gKFxuICAgICAgKHJlbCA9PT0gXCJhdXRob3JcIiB8fFxuICAgICAgICAoaXRlbXByb3AgJiYgaXRlbXByb3AuaW5jbHVkZXMoXCJhdXRob3JcIikpIHx8XG4gICAgICAgIHRoaXMuUkVHRVhQUy5ieWxpbmUudGVzdChtYXRjaFN0cmluZykpICYmXG4gICAgICAhIWJ5bGluZUxlbmd0aCAmJlxuICAgICAgYnlsaW5lTGVuZ3RoIDwgMTAwXG4gICAgKTtcbiAgfSxcblxuICBfZ2V0Tm9kZUFuY2VzdG9ycyhub2RlLCBtYXhEZXB0aCkge1xuICAgIG1heERlcHRoID0gbWF4RGVwdGggfHwgMDtcbiAgICB2YXIgaSA9IDAsXG4gICAgICBhbmNlc3RvcnMgPSBbXTtcbiAgICB3aGlsZSAobm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICBhbmNlc3RvcnMucHVzaChub2RlLnBhcmVudE5vZGUpO1xuICAgICAgaWYgKG1heERlcHRoICYmICsraSA9PT0gbWF4RGVwdGgpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIH1cbiAgICByZXR1cm4gYW5jZXN0b3JzO1xuICB9LFxuXG4gIC8qKipcbiAgICogZ3JhYkFydGljbGUgLSBVc2luZyBhIHZhcmlldHkgb2YgbWV0cmljcyAoY29udGVudCBzY29yZSwgY2xhc3NuYW1lLCBlbGVtZW50IHR5cGVzKSwgZmluZCB0aGUgY29udGVudCB0aGF0IGlzXG4gICAqICAgICAgICAgbW9zdCBsaWtlbHkgdG8gYmUgdGhlIHN0dWZmIGEgdXNlciB3YW50cyB0byByZWFkLiBUaGVuIHJldHVybiBpdCB3cmFwcGVkIHVwIGluIGEgZGl2LlxuICAgKlxuICAgKiBAcGFyYW0gcGFnZSBhIGRvY3VtZW50IHRvIHJ1biB1cG9uLiBOZWVkcyB0byBiZSBhIGZ1bGwgZG9jdW1lbnQsIGNvbXBsZXRlIHdpdGggYm9keS5cbiAgICogQHJldHVybiBFbGVtZW50XG4gICAqKi9cbiAgLyogZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGNvbXBsZXhpdHkgKi9cbiAgX2dyYWJBcnRpY2xlKHBhZ2UpIHtcbiAgICB0aGlzLmxvZyhcIioqKiogZ3JhYkFydGljbGUgKioqKlwiKTtcbiAgICB2YXIgZG9jID0gdGhpcy5fZG9jO1xuICAgIHZhciBpc1BhZ2luZyA9IHBhZ2UgIT09IG51bGw7XG4gICAgcGFnZSA9IHBhZ2UgPyBwYWdlIDogdGhpcy5fZG9jLmJvZHk7XG5cbiAgICAvLyBXZSBjYW4ndCBncmFiIGFuIGFydGljbGUgaWYgd2UgZG9uJ3QgaGF2ZSBhIHBhZ2UhXG4gICAgaWYgKCFwYWdlKSB7XG4gICAgICB0aGlzLmxvZyhcIk5vIGJvZHkgZm91bmQgaW4gZG9jdW1lbnQuIEFib3J0LlwiKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciBwYWdlQ2FjaGVIdG1sID0gcGFnZS5pbm5lckhUTUw7XG5cbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdGhpcy5sb2coXCJTdGFydGluZyBncmFiQXJ0aWNsZSBsb29wXCIpO1xuICAgICAgdmFyIHN0cmlwVW5saWtlbHlDYW5kaWRhdGVzID0gdGhpcy5fZmxhZ0lzQWN0aXZlKFxuICAgICAgICB0aGlzLkZMQUdfU1RSSVBfVU5MSUtFTFlTXG4gICAgICApO1xuXG4gICAgICAvLyBGaXJzdCwgbm9kZSBwcmVwcGluZy4gVHJhc2ggbm9kZXMgdGhhdCBsb29rIGNydWRkeSAobGlrZSBvbmVzIHdpdGggdGhlXG4gICAgICAvLyBjbGFzcyBuYW1lIFwiY29tbWVudFwiLCBldGMpLCBhbmQgdHVybiBkaXZzIGludG8gUCB0YWdzIHdoZXJlIHRoZXkgaGF2ZSBiZWVuXG4gICAgICAvLyB1c2VkIGluYXBwcm9wcmlhdGVseSAoYXMgaW4sIHdoZXJlIHRoZXkgY29udGFpbiBubyBvdGhlciBibG9jayBsZXZlbCBlbGVtZW50cy4pXG4gICAgICB2YXIgZWxlbWVudHNUb1Njb3JlID0gW107XG4gICAgICB2YXIgbm9kZSA9IHRoaXMuX2RvYy5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICAgIGxldCBzaG91bGRSZW1vdmVUaXRsZUhlYWRlciA9IHRydWU7XG5cbiAgICAgIHdoaWxlIChub2RlKSB7XG4gICAgICAgIGlmIChub2RlLnRhZ05hbWUgPT09IFwiSFRNTFwiKSB7XG4gICAgICAgICAgdGhpcy5fYXJ0aWNsZUxhbmcgPSBub2RlLmdldEF0dHJpYnV0ZShcImxhbmdcIik7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWF0Y2hTdHJpbmcgPSBub2RlLmNsYXNzTmFtZSArIFwiIFwiICsgbm9kZS5pZDtcblxuICAgICAgICBpZiAoIXRoaXMuX2lzUHJvYmFibHlWaXNpYmxlKG5vZGUpKSB7XG4gICAgICAgICAgdGhpcy5sb2coXCJSZW1vdmluZyBoaWRkZW4gbm9kZSAtIFwiICsgbWF0Y2hTdHJpbmcpO1xuICAgICAgICAgIG5vZGUgPSB0aGlzLl9yZW1vdmVBbmRHZXROZXh0KG5vZGUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlciBpcyBub3QgYWJsZSB0byBzZWUgZWxlbWVudHMgYXBwbGllZCB3aXRoIGJvdGggXCJhcmlhLW1vZGFsID0gdHJ1ZVwiIGFuZCBcInJvbGUgPSBkaWFsb2dcIlxuICAgICAgICBpZiAoXG4gICAgICAgICAgbm9kZS5nZXRBdHRyaWJ1dGUoXCJhcmlhLW1vZGFsXCIpID09IFwidHJ1ZVwiICYmXG4gICAgICAgICAgbm9kZS5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpID09IFwiZGlhbG9nXCJcbiAgICAgICAgKSB7XG4gICAgICAgICAgbm9kZSA9IHRoaXMuX3JlbW92ZUFuZEdldE5leHQobm9kZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBJZiB3ZSBkb24ndCBoYXZlIGEgYnlsaW5lIHlldCBjaGVjayB0byBzZWUgaWYgdGhpcyBub2RlIGlzIGEgYnlsaW5lOyBpZiBpdCBpcyBzdG9yZSB0aGUgYnlsaW5lIGFuZCByZW1vdmUgdGhlIG5vZGUuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAhdGhpcy5fYXJ0aWNsZUJ5bGluZSAmJlxuICAgICAgICAgICF0aGlzLl9tZXRhZGF0YS5ieWxpbmUgJiZcbiAgICAgICAgICB0aGlzLl9pc1ZhbGlkQnlsaW5lKG5vZGUsIG1hdGNoU3RyaW5nKVxuICAgICAgICApIHtcbiAgICAgICAgICAvLyBGaW5kIGNoaWxkIG5vZGUgbWF0Y2hpbmcgW2l0ZW1wcm9wPVwibmFtZVwiXSBhbmQgdXNlIHRoYXQgaWYgaXQgZXhpc3RzIGZvciBhIG1vcmUgYWNjdXJhdGUgYXV0aG9yIG5hbWUgYnlsaW5lXG4gICAgICAgICAgdmFyIGVuZE9mU2VhcmNoTWFya2VyTm9kZSA9IHRoaXMuX2dldE5leHROb2RlKG5vZGUsIHRydWUpO1xuICAgICAgICAgIHZhciBuZXh0ID0gdGhpcy5fZ2V0TmV4dE5vZGUobm9kZSk7XG4gICAgICAgICAgdmFyIGl0ZW1Qcm9wTmFtZU5vZGUgPSBudWxsO1xuICAgICAgICAgIHdoaWxlIChuZXh0ICYmIG5leHQgIT0gZW5kT2ZTZWFyY2hNYXJrZXJOb2RlKSB7XG4gICAgICAgICAgICB2YXIgaXRlbXByb3AgPSBuZXh0LmdldEF0dHJpYnV0ZShcIml0ZW1wcm9wXCIpO1xuICAgICAgICAgICAgaWYgKGl0ZW1wcm9wICYmIGl0ZW1wcm9wLmluY2x1ZGVzKFwibmFtZVwiKSkge1xuICAgICAgICAgICAgICBpdGVtUHJvcE5hbWVOb2RlID0gbmV4dDtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXh0ID0gdGhpcy5fZ2V0TmV4dE5vZGUobmV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMuX2FydGljbGVCeWxpbmUgPSAoaXRlbVByb3BOYW1lTm9kZSA/PyBub2RlKS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICAgICAgbm9kZSA9IHRoaXMuX3JlbW92ZUFuZEdldE5leHQobm9kZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2hvdWxkUmVtb3ZlVGl0bGVIZWFkZXIgJiYgdGhpcy5faGVhZGVyRHVwbGljYXRlc1RpdGxlKG5vZGUpKSB7XG4gICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICBcIlJlbW92aW5nIGhlYWRlcjogXCIsXG4gICAgICAgICAgICBub2RlLnRleHRDb250ZW50LnRyaW0oKSxcbiAgICAgICAgICAgIHRoaXMuX2FydGljbGVUaXRsZS50cmltKClcbiAgICAgICAgICApO1xuICAgICAgICAgIHNob3VsZFJlbW92ZVRpdGxlSGVhZGVyID0gZmFsc2U7XG4gICAgICAgICAgbm9kZSA9IHRoaXMuX3JlbW92ZUFuZEdldE5leHQobm9kZSk7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZW1vdmUgdW5saWtlbHkgY2FuZGlkYXRlc1xuICAgICAgICBpZiAoc3RyaXBVbmxpa2VseUNhbmRpZGF0ZXMpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB0aGlzLlJFR0VYUFMudW5saWtlbHlDYW5kaWRhdGVzLnRlc3QobWF0Y2hTdHJpbmcpICYmXG4gICAgICAgICAgICAhdGhpcy5SRUdFWFBTLm9rTWF5YmVJdHNBQ2FuZGlkYXRlLnRlc3QobWF0Y2hTdHJpbmcpICYmXG4gICAgICAgICAgICAhdGhpcy5faGFzQW5jZXN0b3JUYWcobm9kZSwgXCJ0YWJsZVwiKSAmJlxuICAgICAgICAgICAgIXRoaXMuX2hhc0FuY2VzdG9yVGFnKG5vZGUsIFwiY29kZVwiKSAmJlxuICAgICAgICAgICAgbm9kZS50YWdOYW1lICE9PSBcIkJPRFlcIiAmJlxuICAgICAgICAgICAgbm9kZS50YWdOYW1lICE9PSBcIkFcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdGhpcy5sb2coXCJSZW1vdmluZyB1bmxpa2VseSBjYW5kaWRhdGUgLSBcIiArIG1hdGNoU3RyaW5nKTtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLl9yZW1vdmVBbmRHZXROZXh0KG5vZGUpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHRoaXMuVU5MSUtFTFlfUk9MRVMuaW5jbHVkZXMobm9kZS5nZXRBdHRyaWJ1dGUoXCJyb2xlXCIpKSkge1xuICAgICAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgICAgIFwiUmVtb3ZpbmcgY29udGVudCB3aXRoIHJvbGUgXCIgK1xuICAgICAgICAgICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKFwicm9sZVwiKSArXG4gICAgICAgICAgICAgICAgXCIgLSBcIiArXG4gICAgICAgICAgICAgICAgbWF0Y2hTdHJpbmdcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBub2RlID0gdGhpcy5fcmVtb3ZlQW5kR2V0TmV4dChub2RlKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJlbW92ZSBESVYsIFNFQ1RJT04sIGFuZCBIRUFERVIgbm9kZXMgd2l0aG91dCBhbnkgY29udGVudChlLmcuIHRleHQsIGltYWdlLCB2aWRlbywgb3IgaWZyYW1lKS5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChub2RlLnRhZ05hbWUgPT09IFwiRElWXCIgfHxcbiAgICAgICAgICAgIG5vZGUudGFnTmFtZSA9PT0gXCJTRUNUSU9OXCIgfHxcbiAgICAgICAgICAgIG5vZGUudGFnTmFtZSA9PT0gXCJIRUFERVJcIiB8fFxuICAgICAgICAgICAgbm9kZS50YWdOYW1lID09PSBcIkgxXCIgfHxcbiAgICAgICAgICAgIG5vZGUudGFnTmFtZSA9PT0gXCJIMlwiIHx8XG4gICAgICAgICAgICBub2RlLnRhZ05hbWUgPT09IFwiSDNcIiB8fFxuICAgICAgICAgICAgbm9kZS50YWdOYW1lID09PSBcIkg0XCIgfHxcbiAgICAgICAgICAgIG5vZGUudGFnTmFtZSA9PT0gXCJINVwiIHx8XG4gICAgICAgICAgICBub2RlLnRhZ05hbWUgPT09IFwiSDZcIikgJiZcbiAgICAgICAgICB0aGlzLl9pc0VsZW1lbnRXaXRob3V0Q29udGVudChub2RlKVxuICAgICAgICApIHtcbiAgICAgICAgICBub2RlID0gdGhpcy5fcmVtb3ZlQW5kR2V0TmV4dChub2RlKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLkRFRkFVTFRfVEFHU19UT19TQ09SRS5pbmNsdWRlcyhub2RlLnRhZ05hbWUpKSB7XG4gICAgICAgICAgZWxlbWVudHNUb1Njb3JlLnB1c2gobm9kZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUdXJuIGFsbCBkaXZzIHRoYXQgZG9uJ3QgaGF2ZSBjaGlsZHJlbiBibG9jayBsZXZlbCBlbGVtZW50cyBpbnRvIHAnc1xuICAgICAgICBpZiAobm9kZS50YWdOYW1lID09PSBcIkRJVlwiKSB7XG4gICAgICAgICAgLy8gUHV0IHBocmFzaW5nIGNvbnRlbnQgaW50byBwYXJhZ3JhcGhzLlxuICAgICAgICAgIHZhciBwID0gbnVsbDtcbiAgICAgICAgICB2YXIgY2hpbGROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgICAgIHdoaWxlIChjaGlsZE5vZGUpIHtcbiAgICAgICAgICAgIHZhciBuZXh0U2libGluZyA9IGNoaWxkTm9kZS5uZXh0U2libGluZztcbiAgICAgICAgICAgIGlmICh0aGlzLl9pc1BocmFzaW5nQ29udGVudChjaGlsZE5vZGUpKSB7XG4gICAgICAgICAgICAgIGlmIChwICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcC5hcHBlbmRDaGlsZChjaGlsZE5vZGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF0aGlzLl9pc1doaXRlc3BhY2UoY2hpbGROb2RlKSkge1xuICAgICAgICAgICAgICAgIHAgPSBkb2MuY3JlYXRlRWxlbWVudChcInBcIik7XG4gICAgICAgICAgICAgICAgbm9kZS5yZXBsYWNlQ2hpbGQocCwgY2hpbGROb2RlKTtcbiAgICAgICAgICAgICAgICBwLmFwcGVuZENoaWxkKGNoaWxkTm9kZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAocCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICB3aGlsZSAocC5sYXN0Q2hpbGQgJiYgdGhpcy5faXNXaGl0ZXNwYWNlKHAubGFzdENoaWxkKSkge1xuICAgICAgICAgICAgICAgIHAubGFzdENoaWxkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHAgPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hpbGROb2RlID0gbmV4dFNpYmxpbmc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU2l0ZXMgbGlrZSBodHRwOi8vbW9iaWxlLnNsYXRlLmNvbSBlbmNsb3NlcyBlYWNoIHBhcmFncmFwaCB3aXRoIGEgRElWXG4gICAgICAgICAgLy8gZWxlbWVudC4gRElWcyB3aXRoIG9ubHkgYSBQIGVsZW1lbnQgaW5zaWRlIGFuZCBubyB0ZXh0IGNvbnRlbnQgY2FuIGJlXG4gICAgICAgICAgLy8gc2FmZWx5IGNvbnZlcnRlZCBpbnRvIHBsYWluIFAgZWxlbWVudHMgdG8gYXZvaWQgY29uZnVzaW5nIHRoZSBzY29yaW5nXG4gICAgICAgICAgLy8gYWxnb3JpdGhtIHdpdGggRElWcyB3aXRoIGFyZSwgaW4gcHJhY3RpY2UsIHBhcmFncmFwaHMuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgdGhpcy5faGFzU2luZ2xlVGFnSW5zaWRlRWxlbWVudChub2RlLCBcIlBcIikgJiZcbiAgICAgICAgICAgIHRoaXMuX2dldExpbmtEZW5zaXR5KG5vZGUpIDwgMC4yNVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdmFyIG5ld05vZGUgPSBub2RlLmNoaWxkcmVuWzBdO1xuICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChuZXdOb2RlLCBub2RlKTtcbiAgICAgICAgICAgIG5vZGUgPSBuZXdOb2RlO1xuICAgICAgICAgICAgZWxlbWVudHNUb1Njb3JlLnB1c2gobm9kZSk7XG4gICAgICAgICAgfSBlbHNlIGlmICghdGhpcy5faGFzQ2hpbGRCbG9ja0VsZW1lbnQobm9kZSkpIHtcbiAgICAgICAgICAgIG5vZGUgPSB0aGlzLl9zZXROb2RlVGFnKG5vZGUsIFwiUFwiKTtcbiAgICAgICAgICAgIGVsZW1lbnRzVG9TY29yZS5wdXNoKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBub2RlID0gdGhpcy5fZ2V0TmV4dE5vZGUobm9kZSk7XG4gICAgICB9XG5cbiAgICAgIC8qKlxuICAgICAgICogTG9vcCB0aHJvdWdoIGFsbCBwYXJhZ3JhcGhzLCBhbmQgYXNzaWduIGEgc2NvcmUgdG8gdGhlbSBiYXNlZCBvbiBob3cgY29udGVudC15IHRoZXkgbG9vay5cbiAgICAgICAqIFRoZW4gYWRkIHRoZWlyIHNjb3JlIHRvIHRoZWlyIHBhcmVudCBub2RlLlxuICAgICAgICpcbiAgICAgICAqIEEgc2NvcmUgaXMgZGV0ZXJtaW5lZCBieSB0aGluZ3MgbGlrZSBudW1iZXIgb2YgY29tbWFzLCBjbGFzcyBuYW1lcywgZXRjLiBNYXliZSBldmVudHVhbGx5IGxpbmsgZGVuc2l0eS5cbiAgICAgICAqKi9cbiAgICAgIHZhciBjYW5kaWRhdGVzID0gW107XG4gICAgICB0aGlzLl9mb3JFYWNoTm9kZShlbGVtZW50c1RvU2NvcmUsIGZ1bmN0aW9uIChlbGVtZW50VG9TY29yZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgICAgIWVsZW1lbnRUb1Njb3JlLnBhcmVudE5vZGUgfHxcbiAgICAgICAgICB0eXBlb2YgZWxlbWVudFRvU2NvcmUucGFyZW50Tm9kZS50YWdOYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIElmIHRoaXMgcGFyYWdyYXBoIGlzIGxlc3MgdGhhbiAyNSBjaGFyYWN0ZXJzLCBkb24ndCBldmVuIGNvdW50IGl0LlxuICAgICAgICB2YXIgaW5uZXJUZXh0ID0gdGhpcy5fZ2V0SW5uZXJUZXh0KGVsZW1lbnRUb1Njb3JlKTtcbiAgICAgICAgaWYgKGlubmVyVGV4dC5sZW5ndGggPCAyNSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEV4Y2x1ZGUgbm9kZXMgd2l0aCBubyBhbmNlc3Rvci5cbiAgICAgICAgdmFyIGFuY2VzdG9ycyA9IHRoaXMuX2dldE5vZGVBbmNlc3RvcnMoZWxlbWVudFRvU2NvcmUsIDUpO1xuICAgICAgICBpZiAoYW5jZXN0b3JzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZW50U2NvcmUgPSAwO1xuXG4gICAgICAgIC8vIEFkZCBhIHBvaW50IGZvciB0aGUgcGFyYWdyYXBoIGl0c2VsZiBhcyBhIGJhc2UuXG4gICAgICAgIGNvbnRlbnRTY29yZSArPSAxO1xuXG4gICAgICAgIC8vIEFkZCBwb2ludHMgZm9yIGFueSBjb21tYXMgd2l0aGluIHRoaXMgcGFyYWdyYXBoLlxuICAgICAgICBjb250ZW50U2NvcmUgKz0gaW5uZXJUZXh0LnNwbGl0KHRoaXMuUkVHRVhQUy5jb21tYXMpLmxlbmd0aDtcblxuICAgICAgICAvLyBGb3IgZXZlcnkgMTAwIGNoYXJhY3RlcnMgaW4gdGhpcyBwYXJhZ3JhcGgsIGFkZCBhbm90aGVyIHBvaW50LiBVcCB0byAzIHBvaW50cy5cbiAgICAgICAgY29udGVudFNjb3JlICs9IE1hdGgubWluKE1hdGguZmxvb3IoaW5uZXJUZXh0Lmxlbmd0aCAvIDEwMCksIDMpO1xuXG4gICAgICAgIC8vIEluaXRpYWxpemUgYW5kIHNjb3JlIGFuY2VzdG9ycy5cbiAgICAgICAgdGhpcy5fZm9yRWFjaE5vZGUoYW5jZXN0b3JzLCBmdW5jdGlvbiAoYW5jZXN0b3IsIGxldmVsKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgIWFuY2VzdG9yLnRhZ05hbWUgfHxcbiAgICAgICAgICAgICFhbmNlc3Rvci5wYXJlbnROb2RlIHx8XG4gICAgICAgICAgICB0eXBlb2YgYW5jZXN0b3IucGFyZW50Tm9kZS50YWdOYW1lID09PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHR5cGVvZiBhbmNlc3Rvci5yZWFkYWJpbGl0eSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZU5vZGUoYW5jZXN0b3IpO1xuICAgICAgICAgICAgY2FuZGlkYXRlcy5wdXNoKGFuY2VzdG9yKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBOb2RlIHNjb3JlIGRpdmlkZXI6XG4gICAgICAgICAgLy8gLSBwYXJlbnQ6ICAgICAgICAgICAgIDEgKG5vIGRpdmlzaW9uKVxuICAgICAgICAgIC8vIC0gZ3JhbmRwYXJlbnQ6ICAgICAgICAyXG4gICAgICAgICAgLy8gLSBncmVhdCBncmFuZHBhcmVudCs6IGFuY2VzdG9yIGxldmVsICogM1xuICAgICAgICAgIGlmIChsZXZlbCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIHNjb3JlRGl2aWRlciA9IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChsZXZlbCA9PT0gMSkge1xuICAgICAgICAgICAgc2NvcmVEaXZpZGVyID0gMjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NvcmVEaXZpZGVyID0gbGV2ZWwgKiAzO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhbmNlc3Rvci5yZWFkYWJpbGl0eS5jb250ZW50U2NvcmUgKz0gY29udGVudFNjb3JlIC8gc2NvcmVEaXZpZGVyO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBBZnRlciB3ZSd2ZSBjYWxjdWxhdGVkIHNjb3JlcywgbG9vcCB0aHJvdWdoIGFsbCBvZiB0aGUgcG9zc2libGVcbiAgICAgIC8vIGNhbmRpZGF0ZSBub2RlcyB3ZSBmb3VuZCBhbmQgZmluZCB0aGUgb25lIHdpdGggdGhlIGhpZ2hlc3Qgc2NvcmUuXG4gICAgICB2YXIgdG9wQ2FuZGlkYXRlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgYyA9IDAsIGNsID0gY2FuZGlkYXRlcy5sZW5ndGg7IGMgPCBjbDsgYyArPSAxKSB7XG4gICAgICAgIHZhciBjYW5kaWRhdGUgPSBjYW5kaWRhdGVzW2NdO1xuXG4gICAgICAgIC8vIFNjYWxlIHRoZSBmaW5hbCBjYW5kaWRhdGVzIHNjb3JlIGJhc2VkIG9uIGxpbmsgZGVuc2l0eS4gR29vZCBjb250ZW50XG4gICAgICAgIC8vIHNob3VsZCBoYXZlIGEgcmVsYXRpdmVseSBzbWFsbCBsaW5rIGRlbnNpdHkgKDUlIG9yIGxlc3MpIGFuZCBiZSBtb3N0bHlcbiAgICAgICAgLy8gdW5hZmZlY3RlZCBieSB0aGlzIG9wZXJhdGlvbi5cbiAgICAgICAgdmFyIGNhbmRpZGF0ZVNjb3JlID1cbiAgICAgICAgICBjYW5kaWRhdGUucmVhZGFiaWxpdHkuY29udGVudFNjb3JlICpcbiAgICAgICAgICAoMSAtIHRoaXMuX2dldExpbmtEZW5zaXR5KGNhbmRpZGF0ZSkpO1xuICAgICAgICBjYW5kaWRhdGUucmVhZGFiaWxpdHkuY29udGVudFNjb3JlID0gY2FuZGlkYXRlU2NvcmU7XG5cbiAgICAgICAgdGhpcy5sb2coXCJDYW5kaWRhdGU6XCIsIGNhbmRpZGF0ZSwgXCJ3aXRoIHNjb3JlIFwiICsgY2FuZGlkYXRlU2NvcmUpO1xuXG4gICAgICAgIGZvciAodmFyIHQgPSAwOyB0IDwgdGhpcy5fbmJUb3BDYW5kaWRhdGVzOyB0KyspIHtcbiAgICAgICAgICB2YXIgYVRvcENhbmRpZGF0ZSA9IHRvcENhbmRpZGF0ZXNbdF07XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhYVRvcENhbmRpZGF0ZSB8fFxuICAgICAgICAgICAgY2FuZGlkYXRlU2NvcmUgPiBhVG9wQ2FuZGlkYXRlLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgdG9wQ2FuZGlkYXRlcy5zcGxpY2UodCwgMCwgY2FuZGlkYXRlKTtcbiAgICAgICAgICAgIGlmICh0b3BDYW5kaWRhdGVzLmxlbmd0aCA+IHRoaXMuX25iVG9wQ2FuZGlkYXRlcykge1xuICAgICAgICAgICAgICB0b3BDYW5kaWRhdGVzLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciB0b3BDYW5kaWRhdGUgPSB0b3BDYW5kaWRhdGVzWzBdIHx8IG51bGw7XG4gICAgICB2YXIgbmVlZGVkVG9DcmVhdGVUb3BDYW5kaWRhdGUgPSBmYWxzZTtcbiAgICAgIHZhciBwYXJlbnRPZlRvcENhbmRpZGF0ZTtcblxuICAgICAgLy8gSWYgd2Ugc3RpbGwgaGF2ZSBubyB0b3AgY2FuZGlkYXRlLCBqdXN0IHVzZSB0aGUgYm9keSBhcyBhIGxhc3QgcmVzb3J0LlxuICAgICAgLy8gV2UgYWxzbyBoYXZlIHRvIGNvcHkgdGhlIGJvZHkgbm9kZSBzbyBpdCBpcyBzb21ldGhpbmcgd2UgY2FuIG1vZGlmeS5cbiAgICAgIGlmICh0b3BDYW5kaWRhdGUgPT09IG51bGwgfHwgdG9wQ2FuZGlkYXRlLnRhZ05hbWUgPT09IFwiQk9EWVwiKSB7XG4gICAgICAgIC8vIE1vdmUgYWxsIG9mIHRoZSBwYWdlJ3MgY2hpbGRyZW4gaW50byB0b3BDYW5kaWRhdGVcbiAgICAgICAgdG9wQ2FuZGlkYXRlID0gZG9jLmNyZWF0ZUVsZW1lbnQoXCJESVZcIik7XG4gICAgICAgIG5lZWRlZFRvQ3JlYXRlVG9wQ2FuZGlkYXRlID0gdHJ1ZTtcbiAgICAgICAgLy8gTW92ZSBldmVyeXRoaW5nIChub3QganVzdCBlbGVtZW50cywgYWxzbyB0ZXh0IG5vZGVzIGV0Yy4pIGludG8gdGhlIGNvbnRhaW5lclxuICAgICAgICAvLyBzbyB3ZSBldmVuIGluY2x1ZGUgdGV4dCBkaXJlY3RseSBpbiB0aGUgYm9keTpcbiAgICAgICAgd2hpbGUgKHBhZ2UuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIHRoaXMubG9nKFwiTW92aW5nIGNoaWxkIG91dDpcIiwgcGFnZS5maXJzdENoaWxkKTtcbiAgICAgICAgICB0b3BDYW5kaWRhdGUuYXBwZW5kQ2hpbGQocGFnZS5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhZ2UuYXBwZW5kQ2hpbGQodG9wQ2FuZGlkYXRlKTtcblxuICAgICAgICB0aGlzLl9pbml0aWFsaXplTm9kZSh0b3BDYW5kaWRhdGUpO1xuICAgICAgfSBlbHNlIGlmICh0b3BDYW5kaWRhdGUpIHtcbiAgICAgICAgLy8gRmluZCBhIGJldHRlciB0b3AgY2FuZGlkYXRlIG5vZGUgaWYgaXQgY29udGFpbnMgKGF0IGxlYXN0IHRocmVlKSBub2RlcyB3aGljaCBiZWxvbmcgdG8gYHRvcENhbmRpZGF0ZXNgIGFycmF5XG4gICAgICAgIC8vIGFuZCB3aG9zZSBzY29yZXMgYXJlIHF1aXRlIGNsb3NlZCB3aXRoIGN1cnJlbnQgYHRvcENhbmRpZGF0ZWAgbm9kZS5cbiAgICAgICAgdmFyIGFsdGVybmF0aXZlQ2FuZGlkYXRlQW5jZXN0b3JzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgdG9wQ2FuZGlkYXRlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHRvcENhbmRpZGF0ZXNbaV0ucmVhZGFiaWxpdHkuY29udGVudFNjb3JlIC9cbiAgICAgICAgICAgICAgdG9wQ2FuZGlkYXRlLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZSA+PVxuICAgICAgICAgICAgMC43NVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgYWx0ZXJuYXRpdmVDYW5kaWRhdGVBbmNlc3RvcnMucHVzaChcbiAgICAgICAgICAgICAgdGhpcy5fZ2V0Tm9kZUFuY2VzdG9ycyh0b3BDYW5kaWRhdGVzW2ldKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIE1JTklNVU1fVE9QQ0FORElEQVRFUyA9IDM7XG4gICAgICAgIGlmIChhbHRlcm5hdGl2ZUNhbmRpZGF0ZUFuY2VzdG9ycy5sZW5ndGggPj0gTUlOSU1VTV9UT1BDQU5ESURBVEVTKSB7XG4gICAgICAgICAgcGFyZW50T2ZUb3BDYW5kaWRhdGUgPSB0b3BDYW5kaWRhdGUucGFyZW50Tm9kZTtcbiAgICAgICAgICB3aGlsZSAocGFyZW50T2ZUb3BDYW5kaWRhdGUudGFnTmFtZSAhPT0gXCJCT0RZXCIpIHtcbiAgICAgICAgICAgIHZhciBsaXN0c0NvbnRhaW5pbmdUaGlzQW5jZXN0b3IgPSAwO1xuICAgICAgICAgICAgZm9yIChcbiAgICAgICAgICAgICAgdmFyIGFuY2VzdG9ySW5kZXggPSAwO1xuICAgICAgICAgICAgICBhbmNlc3RvckluZGV4IDwgYWx0ZXJuYXRpdmVDYW5kaWRhdGVBbmNlc3RvcnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgIGxpc3RzQ29udGFpbmluZ1RoaXNBbmNlc3RvciA8IE1JTklNVU1fVE9QQ0FORElEQVRFUztcbiAgICAgICAgICAgICAgYW5jZXN0b3JJbmRleCsrXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgbGlzdHNDb250YWluaW5nVGhpc0FuY2VzdG9yICs9IE51bWJlcihcbiAgICAgICAgICAgICAgICBhbHRlcm5hdGl2ZUNhbmRpZGF0ZUFuY2VzdG9yc1thbmNlc3RvckluZGV4XS5pbmNsdWRlcyhcbiAgICAgICAgICAgICAgICAgIHBhcmVudE9mVG9wQ2FuZGlkYXRlXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxpc3RzQ29udGFpbmluZ1RoaXNBbmNlc3RvciA+PSBNSU5JTVVNX1RPUENBTkRJREFURVMpIHtcbiAgICAgICAgICAgICAgdG9wQ2FuZGlkYXRlID0gcGFyZW50T2ZUb3BDYW5kaWRhdGU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyZW50T2ZUb3BDYW5kaWRhdGUgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZS5wYXJlbnROb2RlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRvcENhbmRpZGF0ZS5yZWFkYWJpbGl0eSkge1xuICAgICAgICAgIHRoaXMuX2luaXRpYWxpemVOb2RlKHRvcENhbmRpZGF0ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZWNhdXNlIG9mIG91ciBib251cyBzeXN0ZW0sIHBhcmVudHMgb2YgY2FuZGlkYXRlcyBtaWdodCBoYXZlIHNjb3Jlc1xuICAgICAgICAvLyB0aGVtc2VsdmVzLiBUaGV5IGdldCBoYWxmIG9mIHRoZSBub2RlLiBUaGVyZSB3b24ndCBiZSBub2RlcyB3aXRoIGhpZ2hlclxuICAgICAgICAvLyBzY29yZXMgdGhhbiBvdXIgdG9wQ2FuZGlkYXRlLCBidXQgaWYgd2Ugc2VlIHRoZSBzY29yZSBnb2luZyAqdXAqIGluIHRoZSBmaXJzdFxuICAgICAgICAvLyBmZXcgc3RlcHMgdXAgdGhlIHRyZWUsIHRoYXQncyBhIGRlY2VudCBzaWduIHRoYXQgdGhlcmUgbWlnaHQgYmUgbW9yZSBjb250ZW50XG4gICAgICAgIC8vIGx1cmtpbmcgaW4gb3RoZXIgcGxhY2VzIHRoYXQgd2Ugd2FudCB0byB1bmlmeSBpbi4gVGhlIHNpYmxpbmcgc3R1ZmZcbiAgICAgICAgLy8gYmVsb3cgZG9lcyBzb21lIG9mIHRoYXQgLSBidXQgb25seSBpZiB3ZSd2ZSBsb29rZWQgaGlnaCBlbm91Z2ggdXAgdGhlIERPTVxuICAgICAgICAvLyB0cmVlLlxuICAgICAgICBwYXJlbnRPZlRvcENhbmRpZGF0ZSA9IHRvcENhbmRpZGF0ZS5wYXJlbnROb2RlO1xuICAgICAgICB2YXIgbGFzdFNjb3JlID0gdG9wQ2FuZGlkYXRlLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZTtcbiAgICAgICAgLy8gVGhlIHNjb3JlcyBzaG91bGRuJ3QgZ2V0IHRvbyBsb3cuXG4gICAgICAgIHZhciBzY29yZVRocmVzaG9sZCA9IGxhc3RTY29yZSAvIDM7XG4gICAgICAgIHdoaWxlIChwYXJlbnRPZlRvcENhbmRpZGF0ZS50YWdOYW1lICE9PSBcIkJPRFlcIikge1xuICAgICAgICAgIGlmICghcGFyZW50T2ZUb3BDYW5kaWRhdGUucmVhZGFiaWxpdHkpIHtcbiAgICAgICAgICAgIHBhcmVudE9mVG9wQ2FuZGlkYXRlID0gcGFyZW50T2ZUb3BDYW5kaWRhdGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgcGFyZW50U2NvcmUgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZS5yZWFkYWJpbGl0eS5jb250ZW50U2NvcmU7XG4gICAgICAgICAgaWYgKHBhcmVudFNjb3JlIDwgc2NvcmVUaHJlc2hvbGQpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocGFyZW50U2NvcmUgPiBsYXN0U2NvcmUpIHtcbiAgICAgICAgICAgIC8vIEFscmlnaHQhIFdlIGZvdW5kIGEgYmV0dGVyIHBhcmVudCB0byB1c2UuXG4gICAgICAgICAgICB0b3BDYW5kaWRhdGUgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBsYXN0U2NvcmUgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZS5yZWFkYWJpbGl0eS5jb250ZW50U2NvcmU7XG4gICAgICAgICAgcGFyZW50T2ZUb3BDYW5kaWRhdGUgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgdGhlIHRvcCBjYW5kaWRhdGUgaXMgdGhlIG9ubHkgY2hpbGQsIHVzZSBwYXJlbnQgaW5zdGVhZC4gVGhpcyB3aWxsIGhlbHAgc2libGluZ1xuICAgICAgICAvLyBqb2luaW5nIGxvZ2ljIHdoZW4gYWRqYWNlbnQgY29udGVudCBpcyBhY3R1YWxseSBsb2NhdGVkIGluIHBhcmVudCdzIHNpYmxpbmcgbm9kZS5cbiAgICAgICAgcGFyZW50T2ZUb3BDYW5kaWRhdGUgPSB0b3BDYW5kaWRhdGUucGFyZW50Tm9kZTtcbiAgICAgICAgd2hpbGUgKFxuICAgICAgICAgIHBhcmVudE9mVG9wQ2FuZGlkYXRlLnRhZ05hbWUgIT0gXCJCT0RZXCIgJiZcbiAgICAgICAgICBwYXJlbnRPZlRvcENhbmRpZGF0ZS5jaGlsZHJlbi5sZW5ndGggPT0gMVxuICAgICAgICApIHtcbiAgICAgICAgICB0b3BDYW5kaWRhdGUgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZTtcbiAgICAgICAgICBwYXJlbnRPZlRvcENhbmRpZGF0ZSA9IHRvcENhbmRpZGF0ZS5wYXJlbnROb2RlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdG9wQ2FuZGlkYXRlLnJlYWRhYmlsaXR5KSB7XG4gICAgICAgICAgdGhpcy5faW5pdGlhbGl6ZU5vZGUodG9wQ2FuZGlkYXRlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBOb3cgdGhhdCB3ZSBoYXZlIHRoZSB0b3AgY2FuZGlkYXRlLCBsb29rIHRocm91Z2ggaXRzIHNpYmxpbmdzIGZvciBjb250ZW50XG4gICAgICAvLyB0aGF0IG1pZ2h0IGFsc28gYmUgcmVsYXRlZC4gVGhpbmdzIGxpa2UgcHJlYW1ibGVzLCBjb250ZW50IHNwbGl0IGJ5IGFkc1xuICAgICAgLy8gdGhhdCB3ZSByZW1vdmVkLCBldGMuXG4gICAgICB2YXIgYXJ0aWNsZUNvbnRlbnQgPSBkb2MuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgIGlmIChpc1BhZ2luZykge1xuICAgICAgICBhcnRpY2xlQ29udGVudC5pZCA9IFwicmVhZGFiaWxpdHktY29udGVudFwiO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2libGluZ1Njb3JlVGhyZXNob2xkID0gTWF0aC5tYXgoXG4gICAgICAgIDEwLFxuICAgICAgICB0b3BDYW5kaWRhdGUucmVhZGFiaWxpdHkuY29udGVudFNjb3JlICogMC4yXG4gICAgICApO1xuICAgICAgLy8gS2VlcCBwb3RlbnRpYWwgdG9wIGNhbmRpZGF0ZSdzIHBhcmVudCBub2RlIHRvIHRyeSB0byBnZXQgdGV4dCBkaXJlY3Rpb24gb2YgaXQgbGF0ZXIuXG4gICAgICBwYXJlbnRPZlRvcENhbmRpZGF0ZSA9IHRvcENhbmRpZGF0ZS5wYXJlbnROb2RlO1xuICAgICAgdmFyIHNpYmxpbmdzID0gcGFyZW50T2ZUb3BDYW5kaWRhdGUuY2hpbGRyZW47XG5cbiAgICAgIGZvciAodmFyIHMgPSAwLCBzbCA9IHNpYmxpbmdzLmxlbmd0aDsgcyA8IHNsOyBzKyspIHtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBzaWJsaW5nc1tzXTtcbiAgICAgICAgdmFyIGFwcGVuZCA9IGZhbHNlO1xuXG4gICAgICAgIHRoaXMubG9nKFxuICAgICAgICAgIFwiTG9va2luZyBhdCBzaWJsaW5nIG5vZGU6XCIsXG4gICAgICAgICAgc2libGluZyxcbiAgICAgICAgICBzaWJsaW5nLnJlYWRhYmlsaXR5XG4gICAgICAgICAgICA/IFwid2l0aCBzY29yZSBcIiArIHNpYmxpbmcucmVhZGFiaWxpdHkuY29udGVudFNjb3JlXG4gICAgICAgICAgICA6IFwiXCJcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy5sb2coXG4gICAgICAgICAgXCJTaWJsaW5nIGhhcyBzY29yZVwiLFxuICAgICAgICAgIHNpYmxpbmcucmVhZGFiaWxpdHkgPyBzaWJsaW5nLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZSA6IFwiVW5rbm93blwiXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHNpYmxpbmcgPT09IHRvcENhbmRpZGF0ZSkge1xuICAgICAgICAgIGFwcGVuZCA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnRCb251cyA9IDA7XG5cbiAgICAgICAgICAvLyBHaXZlIGEgYm9udXMgaWYgc2libGluZyBub2RlcyBhbmQgdG9wIGNhbmRpZGF0ZXMgaGF2ZSB0aGUgZXhhbXBsZSBzYW1lIGNsYXNzbmFtZVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHNpYmxpbmcuY2xhc3NOYW1lID09PSB0b3BDYW5kaWRhdGUuY2xhc3NOYW1lICYmXG4gICAgICAgICAgICB0b3BDYW5kaWRhdGUuY2xhc3NOYW1lICE9PSBcIlwiXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBjb250ZW50Qm9udXMgKz0gdG9wQ2FuZGlkYXRlLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZSAqIDAuMjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBzaWJsaW5nLnJlYWRhYmlsaXR5ICYmXG4gICAgICAgICAgICBzaWJsaW5nLnJlYWRhYmlsaXR5LmNvbnRlbnRTY29yZSArIGNvbnRlbnRCb251cyA+PVxuICAgICAgICAgICAgICBzaWJsaW5nU2NvcmVUaHJlc2hvbGRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGFwcGVuZCA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIGlmIChzaWJsaW5nLm5vZGVOYW1lID09PSBcIlBcIikge1xuICAgICAgICAgICAgdmFyIGxpbmtEZW5zaXR5ID0gdGhpcy5fZ2V0TGlua0RlbnNpdHkoc2libGluZyk7XG4gICAgICAgICAgICB2YXIgbm9kZUNvbnRlbnQgPSB0aGlzLl9nZXRJbm5lclRleHQoc2libGluZyk7XG4gICAgICAgICAgICB2YXIgbm9kZUxlbmd0aCA9IG5vZGVDb250ZW50Lmxlbmd0aDtcblxuICAgICAgICAgICAgaWYgKG5vZGVMZW5ndGggPiA4MCAmJiBsaW5rRGVuc2l0eSA8IDAuMjUpIHtcbiAgICAgICAgICAgICAgYXBwZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgIG5vZGVMZW5ndGggPCA4MCAmJlxuICAgICAgICAgICAgICBub2RlTGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICBsaW5rRGVuc2l0eSA9PT0gMCAmJlxuICAgICAgICAgICAgICBub2RlQ29udGVudC5zZWFyY2goL1xcLiggfCQpLykgIT09IC0xXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgYXBwZW5kID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYXBwZW5kKSB7XG4gICAgICAgICAgdGhpcy5sb2coXCJBcHBlbmRpbmcgbm9kZTpcIiwgc2libGluZyk7XG5cbiAgICAgICAgICBpZiAoIXRoaXMuQUxURVJfVE9fRElWX0VYQ0VQVElPTlMuaW5jbHVkZXMoc2libGluZy5ub2RlTmFtZSkpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBub2RlIHRoYXQgaXNuJ3QgYSBjb21tb24gYmxvY2sgbGV2ZWwgZWxlbWVudCwgbGlrZSBhIGZvcm0gb3IgdGQgdGFnLlxuICAgICAgICAgICAgLy8gVHVybiBpdCBpbnRvIGEgZGl2IHNvIGl0IGRvZXNuJ3QgZ2V0IGZpbHRlcmVkIG91dCBsYXRlciBieSBhY2NpZGVudC5cbiAgICAgICAgICAgIHRoaXMubG9nKFwiQWx0ZXJpbmcgc2libGluZzpcIiwgc2libGluZywgXCJ0byBkaXYuXCIpO1xuXG4gICAgICAgICAgICBzaWJsaW5nID0gdGhpcy5fc2V0Tm9kZVRhZyhzaWJsaW5nLCBcIkRJVlwiKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBhcnRpY2xlQ29udGVudC5hcHBlbmRDaGlsZChzaWJsaW5nKTtcbiAgICAgICAgICAvLyBGZXRjaCBjaGlsZHJlbiBhZ2FpbiB0byBtYWtlIGl0IGNvbXBhdGlibGVcbiAgICAgICAgICAvLyB3aXRoIERPTSBwYXJzZXJzIHdpdGhvdXQgbGl2ZSBjb2xsZWN0aW9uIHN1cHBvcnQuXG4gICAgICAgICAgc2libGluZ3MgPSBwYXJlbnRPZlRvcENhbmRpZGF0ZS5jaGlsZHJlbjtcbiAgICAgICAgICAvLyBzaWJsaW5ncyBpcyBhIHJlZmVyZW5jZSB0byB0aGUgY2hpbGRyZW4gYXJyYXksIGFuZFxuICAgICAgICAgIC8vIHNpYmxpbmcgaXMgcmVtb3ZlZCBmcm9tIHRoZSBhcnJheSB3aGVuIHdlIGNhbGwgYXBwZW5kQ2hpbGQoKS5cbiAgICAgICAgICAvLyBBcyBhIHJlc3VsdCwgd2UgbXVzdCByZXZpc2l0IHRoaXMgaW5kZXggc2luY2UgdGhlIG5vZGVzXG4gICAgICAgICAgLy8gaGF2ZSBiZWVuIHNoaWZ0ZWQuXG4gICAgICAgICAgcyAtPSAxO1xuICAgICAgICAgIHNsIC09IDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2RlYnVnKSB7XG4gICAgICAgIHRoaXMubG9nKFwiQXJ0aWNsZSBjb250ZW50IHByZS1wcmVwOiBcIiArIGFydGljbGVDb250ZW50LmlubmVySFRNTCk7XG4gICAgICB9XG4gICAgICAvLyBTbyB3ZSBoYXZlIGFsbCBvZiB0aGUgY29udGVudCB0aGF0IHdlIG5lZWQuIE5vdyB3ZSBjbGVhbiBpdCB1cCBmb3IgcHJlc2VudGF0aW9uLlxuICAgICAgdGhpcy5fcHJlcEFydGljbGUoYXJ0aWNsZUNvbnRlbnQpO1xuICAgICAgaWYgKHRoaXMuX2RlYnVnKSB7XG4gICAgICAgIHRoaXMubG9nKFwiQXJ0aWNsZSBjb250ZW50IHBvc3QtcHJlcDogXCIgKyBhcnRpY2xlQ29udGVudC5pbm5lckhUTUwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobmVlZGVkVG9DcmVhdGVUb3BDYW5kaWRhdGUpIHtcbiAgICAgICAgLy8gV2UgYWxyZWFkeSBjcmVhdGVkIGEgZmFrZSBkaXYgdGhpbmcsIGFuZCB0aGVyZSB3b3VsZG4ndCBoYXZlIGJlZW4gYW55IHNpYmxpbmdzIGxlZnRcbiAgICAgICAgLy8gZm9yIHRoZSBwcmV2aW91cyBsb29wLCBzbyB0aGVyZSdzIG5vIHBvaW50IHRyeWluZyB0byBjcmVhdGUgYSBuZXcgZGl2LCBhbmQgdGhlblxuICAgICAgICAvLyBtb3ZlIGFsbCB0aGUgY2hpbGRyZW4gb3Zlci4gSnVzdCBhc3NpZ24gSURzIGFuZCBjbGFzcyBuYW1lcyBoZXJlLiBObyBuZWVkIHRvIGFwcGVuZFxuICAgICAgICAvLyBiZWNhdXNlIHRoYXQgYWxyZWFkeSBoYXBwZW5lZCBhbnl3YXkuXG4gICAgICAgIHRvcENhbmRpZGF0ZS5pZCA9IFwicmVhZGFiaWxpdHktcGFnZS0xXCI7XG4gICAgICAgIHRvcENhbmRpZGF0ZS5jbGFzc05hbWUgPSBcInBhZ2VcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBkaXYgPSBkb2MuY3JlYXRlRWxlbWVudChcIkRJVlwiKTtcbiAgICAgICAgZGl2LmlkID0gXCJyZWFkYWJpbGl0eS1wYWdlLTFcIjtcbiAgICAgICAgZGl2LmNsYXNzTmFtZSA9IFwicGFnZVwiO1xuICAgICAgICB3aGlsZSAoYXJ0aWNsZUNvbnRlbnQuZmlyc3RDaGlsZCkge1xuICAgICAgICAgIGRpdi5hcHBlbmRDaGlsZChhcnRpY2xlQ29udGVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICBhcnRpY2xlQ29udGVudC5hcHBlbmRDaGlsZChkaXYpO1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fZGVidWcpIHtcbiAgICAgICAgdGhpcy5sb2coXCJBcnRpY2xlIGNvbnRlbnQgYWZ0ZXIgcGFnaW5nOiBcIiArIGFydGljbGVDb250ZW50LmlubmVySFRNTCk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwYXJzZVN1Y2Nlc3NmdWwgPSB0cnVlO1xuXG4gICAgICAvLyBOb3cgdGhhdCB3ZSd2ZSBnb25lIHRocm91Z2ggdGhlIGZ1bGwgYWxnb3JpdGhtLCBjaGVjayB0byBzZWUgaWZcbiAgICAgIC8vIHdlIGdvdCBhbnkgbWVhbmluZ2Z1bCBjb250ZW50LiBJZiB3ZSBkaWRuJ3QsIHdlIG1heSBuZWVkIHRvIHJlLXJ1blxuICAgICAgLy8gZ3JhYkFydGljbGUgd2l0aCBkaWZmZXJlbnQgZmxhZ3Mgc2V0LiBUaGlzIGdpdmVzIHVzIGEgaGlnaGVyIGxpa2VsaWhvb2Qgb2ZcbiAgICAgIC8vIGZpbmRpbmcgdGhlIGNvbnRlbnQsIGFuZCB0aGUgc2lldmUgYXBwcm9hY2ggZ2l2ZXMgdXMgYSBoaWdoZXIgbGlrZWxpaG9vZCBvZlxuICAgICAgLy8gZmluZGluZyB0aGUgLXJpZ2h0LSBjb250ZW50LlxuICAgICAgdmFyIHRleHRMZW5ndGggPSB0aGlzLl9nZXRJbm5lclRleHQoYXJ0aWNsZUNvbnRlbnQsIHRydWUpLmxlbmd0aDtcbiAgICAgIGlmICh0ZXh0TGVuZ3RoIDwgdGhpcy5fY2hhclRocmVzaG9sZCkge1xuICAgICAgICBwYXJzZVN1Y2Nlc3NmdWwgPSBmYWxzZTtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuc2FuaXRpemVkL3Byb3BlcnR5XG4gICAgICAgIHBhZ2UuaW5uZXJIVE1MID0gcGFnZUNhY2hlSHRtbDtcblxuICAgICAgICB0aGlzLl9hdHRlbXB0cy5wdXNoKHtcbiAgICAgICAgICBhcnRpY2xlQ29udGVudCxcbiAgICAgICAgICB0ZXh0TGVuZ3RoLFxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodGhpcy5fZmxhZ0lzQWN0aXZlKHRoaXMuRkxBR19TVFJJUF9VTkxJS0VMWVMpKSB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlRmxhZyh0aGlzLkZMQUdfU1RSSVBfVU5MSUtFTFlTKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9mbGFnSXNBY3RpdmUodGhpcy5GTEFHX1dFSUdIVF9DTEFTU0VTKSkge1xuICAgICAgICAgIHRoaXMuX3JlbW92ZUZsYWcodGhpcy5GTEFHX1dFSUdIVF9DTEFTU0VTKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLl9mbGFnSXNBY3RpdmUodGhpcy5GTEFHX0NMRUFOX0NPTkRJVElPTkFMTFkpKSB7XG4gICAgICAgICAgdGhpcy5fcmVtb3ZlRmxhZyh0aGlzLkZMQUdfQ0xFQU5fQ09ORElUSU9OQUxMWSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gbHVjayBhZnRlciByZW1vdmluZyBmbGFncywganVzdCByZXR1cm4gdGhlIGxvbmdlc3QgdGV4dCB3ZSBmb3VuZCBkdXJpbmcgdGhlIGRpZmZlcmVudCBsb29wc1xuICAgICAgICAgIHRoaXMuX2F0dGVtcHRzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgICAgIHJldHVybiBiLnRleHRMZW5ndGggLSBhLnRleHRMZW5ndGg7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAvLyBCdXQgZmlyc3QgY2hlY2sgaWYgd2UgYWN0dWFsbHkgaGF2ZSBzb21ldGhpbmdcbiAgICAgICAgICBpZiAoIXRoaXMuX2F0dGVtcHRzWzBdLnRleHRMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGFydGljbGVDb250ZW50ID0gdGhpcy5fYXR0ZW1wdHNbMF0uYXJ0aWNsZUNvbnRlbnQ7XG4gICAgICAgICAgcGFyc2VTdWNjZXNzZnVsID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAocGFyc2VTdWNjZXNzZnVsKSB7XG4gICAgICAgIC8vIEZpbmQgb3V0IHRleHQgZGlyZWN0aW9uIGZyb20gYW5jZXN0b3JzIG9mIGZpbmFsIHRvcCBjYW5kaWRhdGUuXG4gICAgICAgIHZhciBhbmNlc3RvcnMgPSBbcGFyZW50T2ZUb3BDYW5kaWRhdGUsIHRvcENhbmRpZGF0ZV0uY29uY2F0KFxuICAgICAgICAgIHRoaXMuX2dldE5vZGVBbmNlc3RvcnMocGFyZW50T2ZUb3BDYW5kaWRhdGUpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMuX3NvbWVOb2RlKGFuY2VzdG9ycywgZnVuY3Rpb24gKGFuY2VzdG9yKSB7XG4gICAgICAgICAgaWYgKCFhbmNlc3Rvci50YWdOYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBhcnRpY2xlRGlyID0gYW5jZXN0b3IuZ2V0QXR0cmlidXRlKFwiZGlyXCIpO1xuICAgICAgICAgIGlmIChhcnRpY2xlRGlyKSB7XG4gICAgICAgICAgICB0aGlzLl9hcnRpY2xlRGlyID0gYXJ0aWNsZURpcjtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gYXJ0aWNsZUNvbnRlbnQ7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBzb21lIG9mIHRoZSBjb21tb24gSFRNTCBlbnRpdGllcyBpbiBzdHJpbmcgdG8gdGhlaXIgY29ycmVzcG9uZGluZyBjaGFyYWN0ZXJzLlxuICAgKlxuICAgKiBAcGFyYW0gc3RyIHtzdHJpbmd9IC0gYSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAqIEByZXR1cm4gc3RyaW5nIHdpdGhvdXQgSFRNTCBlbnRpdHkuXG4gICAqL1xuICBfdW5lc2NhcGVIdG1sRW50aXRpZXMoc3RyKSB7XG4gICAgaWYgKCFzdHIpIHtcbiAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgdmFyIGh0bWxFc2NhcGVNYXAgPSB0aGlzLkhUTUxfRVNDQVBFX01BUDtcbiAgICByZXR1cm4gc3RyXG4gICAgICAucmVwbGFjZSgvJihxdW90fGFtcHxhcG9zfGx0fGd0KTsvZywgZnVuY3Rpb24gKF8sIHRhZykge1xuICAgICAgICByZXR1cm4gaHRtbEVzY2FwZU1hcFt0YWddO1xuICAgICAgfSlcbiAgICAgIC5yZXBsYWNlKC8mIyg/OngoWzAtOWEtZl0rKXwoWzAtOV0rKSk7L2dpLCBmdW5jdGlvbiAoXywgaGV4LCBudW1TdHIpIHtcbiAgICAgICAgdmFyIG51bSA9IHBhcnNlSW50KGhleCB8fCBudW1TdHIsIGhleCA/IDE2IDogMTApO1xuXG4gICAgICAgIC8vIHRoZXNlIGNoYXJhY3RlciByZWZlcmVuY2VzIGFyZSByZXBsYWNlZCBieSBhIGNvbmZvcm1pbmcgSFRNTCBwYXJzZXJcbiAgICAgICAgaWYgKG51bSA9PSAwIHx8IG51bSA+IDB4MTBmZmZmIHx8IChudW0gPj0gMHhkODAwICYmIG51bSA8PSAweGRmZmYpKSB7XG4gICAgICAgICAgbnVtID0gMHhmZmZkO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ29kZVBvaW50KG51bSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAvKipcbiAgICogVHJ5IHRvIGV4dHJhY3QgbWV0YWRhdGEgZnJvbSBKU09OLUxEIG9iamVjdC5cbiAgICogRm9yIG5vdywgb25seSBTY2hlbWEub3JnIG9iamVjdHMgb2YgdHlwZSBBcnRpY2xlIG9yIGl0cyBzdWJ0eXBlcyBhcmUgc3VwcG9ydGVkLlxuICAgKiBAcmV0dXJuIE9iamVjdCB3aXRoIGFueSBtZXRhZGF0YSB0aGF0IGNvdWxkIGJlIGV4dHJhY3RlZCAocG9zc2libHkgbm9uZSlcbiAgICovXG4gIF9nZXRKU09OTEQoZG9jKSB7XG4gICAgdmFyIHNjcmlwdHMgPSB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcoZG9jLCBbXCJzY3JpcHRcIl0pO1xuXG4gICAgdmFyIG1ldGFkYXRhO1xuXG4gICAgdGhpcy5fZm9yRWFjaE5vZGUoc2NyaXB0cywgZnVuY3Rpb24gKGpzb25MZEVsZW1lbnQpIHtcbiAgICAgIGlmIChcbiAgICAgICAgIW1ldGFkYXRhICYmXG4gICAgICAgIGpzb25MZEVsZW1lbnQuZ2V0QXR0cmlidXRlKFwidHlwZVwiKSA9PT0gXCJhcHBsaWNhdGlvbi9sZCtqc29uXCJcbiAgICAgICkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFN0cmlwIENEQVRBIG1hcmtlcnMgaWYgcHJlc2VudFxuICAgICAgICAgIHZhciBjb250ZW50ID0ganNvbkxkRWxlbWVudC50ZXh0Q29udGVudC5yZXBsYWNlKFxuICAgICAgICAgICAgL15cXHMqPCFcXFtDREFUQVxcW3xcXF1cXF0+XFxzKiQvZyxcbiAgICAgICAgICAgIFwiXCJcbiAgICAgICAgICApO1xuICAgICAgICAgIHZhciBwYXJzZWQgPSBKU09OLnBhcnNlKGNvbnRlbnQpO1xuXG4gICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkocGFyc2VkKSkge1xuICAgICAgICAgICAgcGFyc2VkID0gcGFyc2VkLmZpbmQoaXQgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgIGl0W1wiQHR5cGVcIl0gJiZcbiAgICAgICAgICAgICAgICBpdFtcIkB0eXBlXCJdLm1hdGNoKHRoaXMuUkVHRVhQUy5qc29uTGRBcnRpY2xlVHlwZXMpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcGFyc2VkKSB7XG4gICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgc2NoZW1hRG90T3JnUmVnZXggPSAvXmh0dHBzP1xcOlxcL1xcL3NjaGVtYVxcLm9yZ1xcLz8kLztcbiAgICAgICAgICB2YXIgbWF0Y2hlcyA9XG4gICAgICAgICAgICAodHlwZW9mIHBhcnNlZFtcIkBjb250ZXh0XCJdID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgIHBhcnNlZFtcIkBjb250ZXh0XCJdLm1hdGNoKHNjaGVtYURvdE9yZ1JlZ2V4KSkgfHxcbiAgICAgICAgICAgICh0eXBlb2YgcGFyc2VkW1wiQGNvbnRleHRcIl0gPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgICAgdHlwZW9mIHBhcnNlZFtcIkBjb250ZXh0XCJdW1wiQHZvY2FiXCJdID09IFwic3RyaW5nXCIgJiZcbiAgICAgICAgICAgICAgcGFyc2VkW1wiQGNvbnRleHRcIl1bXCJAdm9jYWJcIl0ubWF0Y2goc2NoZW1hRG90T3JnUmVnZXgpKTtcblxuICAgICAgICAgIGlmICghbWF0Y2hlcykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcGFyc2VkW1wiQHR5cGVcIl0gJiYgQXJyYXkuaXNBcnJheShwYXJzZWRbXCJAZ3JhcGhcIl0pKSB7XG4gICAgICAgICAgICBwYXJzZWQgPSBwYXJzZWRbXCJAZ3JhcGhcIl0uZmluZChpdCA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiAoaXRbXCJAdHlwZVwiXSB8fCBcIlwiKS5tYXRjaCh0aGlzLlJFR0VYUFMuanNvbkxkQXJ0aWNsZVR5cGVzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFwYXJzZWQgfHxcbiAgICAgICAgICAgICFwYXJzZWRbXCJAdHlwZVwiXSB8fFxuICAgICAgICAgICAgIXBhcnNlZFtcIkB0eXBlXCJdLm1hdGNoKHRoaXMuUkVHRVhQUy5qc29uTGRBcnRpY2xlVHlwZXMpXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgbWV0YWRhdGEgPSB7fTtcblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIHR5cGVvZiBwYXJzZWQubmFtZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgdHlwZW9mIHBhcnNlZC5oZWFkbGluZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgICAgICAgICAgcGFyc2VkLm5hbWUgIT09IHBhcnNlZC5oZWFkbGluZVxuICAgICAgICAgICkge1xuICAgICAgICAgICAgLy8gd2UgaGF2ZSBib3RoIG5hbWUgYW5kIGhlYWRsaW5lIGVsZW1lbnQgaW4gdGhlIEpTT04tTEQuIFRoZXkgc2hvdWxkIGJvdGggYmUgdGhlIHNhbWUgYnV0IHNvbWUgd2Vic2l0ZXMgbGlrZSBha3R1YWxuZS5jelxuICAgICAgICAgICAgLy8gcHV0IHRoZWlyIG93biBuYW1lIGludG8gXCJuYW1lXCIgYW5kIHRoZSBhcnRpY2xlIHRpdGxlIHRvIFwiaGVhZGxpbmVcIiB3aGljaCBjb25mdXNlcyBSZWFkYWJpbGl0eS4gU28gd2UgdHJ5IHRvIGNoZWNrIGlmIGVpdGhlclxuICAgICAgICAgICAgLy8gXCJuYW1lXCIgb3IgXCJoZWFkbGluZVwiIGNsb3NlbHkgbWF0Y2hlcyB0aGUgaHRtbCB0aXRsZSwgYW5kIGlmIHNvLCB1c2UgdGhhdCBvbmUuIElmIG5vdCwgdGhlbiB3ZSB1c2UgXCJuYW1lXCIgYnkgZGVmYXVsdC5cblxuICAgICAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5fZ2V0QXJ0aWNsZVRpdGxlKCk7XG4gICAgICAgICAgICB2YXIgbmFtZU1hdGNoZXMgPSB0aGlzLl90ZXh0U2ltaWxhcml0eShwYXJzZWQubmFtZSwgdGl0bGUpID4gMC43NTtcbiAgICAgICAgICAgIHZhciBoZWFkbGluZU1hdGNoZXMgPVxuICAgICAgICAgICAgICB0aGlzLl90ZXh0U2ltaWxhcml0eShwYXJzZWQuaGVhZGxpbmUsIHRpdGxlKSA+IDAuNzU7XG5cbiAgICAgICAgICAgIGlmIChoZWFkbGluZU1hdGNoZXMgJiYgIW5hbWVNYXRjaGVzKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLnRpdGxlID0gcGFyc2VkLmhlYWRsaW5lO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEudGl0bGUgPSBwYXJzZWQubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBwYXJzZWQubmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbWV0YWRhdGEudGl0bGUgPSBwYXJzZWQubmFtZS50cmltKCk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcGFyc2VkLmhlYWRsaW5lID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS50aXRsZSA9IHBhcnNlZC5oZWFkbGluZS50cmltKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwYXJzZWQuYXV0aG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZC5hdXRob3IubmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5ieWxpbmUgPSBwYXJzZWQuYXV0aG9yLm5hbWUudHJpbSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShwYXJzZWQuYXV0aG9yKSAmJlxuICAgICAgICAgICAgICBwYXJzZWQuYXV0aG9yWzBdICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBwYXJzZWQuYXV0aG9yWzBdLm5hbWUgPT09IFwic3RyaW5nXCJcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5ieWxpbmUgPSBwYXJzZWQuYXV0aG9yXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoYXV0aG9yKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXV0aG9yICYmIHR5cGVvZiBhdXRob3IubmFtZSA9PT0gXCJzdHJpbmdcIjtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKGF1dGhvcikge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGF1dGhvci5uYW1lLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5qb2luKFwiLCBcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgcGFyc2VkLmRlc2NyaXB0aW9uID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5leGNlcnB0ID0gcGFyc2VkLmRlc2NyaXB0aW9uLnRyaW0oKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHBhcnNlZC5wdWJsaXNoZXIgJiYgdHlwZW9mIHBhcnNlZC5wdWJsaXNoZXIubmFtZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbWV0YWRhdGEuc2l0ZU5hbWUgPSBwYXJzZWQucHVibGlzaGVyLm5hbWUudHJpbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAodHlwZW9mIHBhcnNlZC5kYXRlUHVibGlzaGVkID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5kYXRlUHVibGlzaGVkID0gcGFyc2VkLmRhdGVQdWJsaXNoZWQudHJpbSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgdGhpcy5sb2coZXJyLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1ldGFkYXRhID8gbWV0YWRhdGEgOiB7fTtcbiAgfSxcblxuICAvKipcbiAgICogQXR0ZW1wdHMgdG8gZ2V0IGV4Y2VycHQgYW5kIGJ5bGluZSBtZXRhZGF0YSBmb3IgdGhlIGFydGljbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBqc29ubGQg4oCUIG9iamVjdCBjb250YWluaW5nIGFueSBtZXRhZGF0YSB0aGF0XG4gICAqIGNvdWxkIGJlIGV4dHJhY3RlZCBmcm9tIEpTT04tTEQgb2JqZWN0LlxuICAgKlxuICAgKiBAcmV0dXJuIE9iamVjdCB3aXRoIG9wdGlvbmFsIFwiZXhjZXJwdFwiIGFuZCBcImJ5bGluZVwiIHByb3BlcnRpZXNcbiAgICovXG4gIF9nZXRBcnRpY2xlTWV0YWRhdGEoanNvbmxkKSB7XG4gICAgdmFyIG1ldGFkYXRhID0ge307XG4gICAgdmFyIHZhbHVlcyA9IHt9O1xuICAgIHZhciBtZXRhRWxlbWVudHMgPSB0aGlzLl9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJtZXRhXCIpO1xuXG4gICAgLy8gcHJvcGVydHkgaXMgYSBzcGFjZS1zZXBhcmF0ZWQgbGlzdCBvZiB2YWx1ZXNcbiAgICB2YXIgcHJvcGVydHlQYXR0ZXJuID1cbiAgICAgIC9cXHMqKGFydGljbGV8ZGN8ZGN0ZXJtfG9nfHR3aXR0ZXIpXFxzKjpcXHMqKGF1dGhvcnxjcmVhdG9yfGRlc2NyaXB0aW9ufHB1Ymxpc2hlZF90aW1lfHRpdGxlfHNpdGVfbmFtZSlcXHMqL2dpO1xuXG4gICAgLy8gbmFtZSBpcyBhIHNpbmdsZSB2YWx1ZVxuICAgIHZhciBuYW1lUGF0dGVybiA9XG4gICAgICAvXlxccyooPzooZGN8ZGN0ZXJtfG9nfHR3aXR0ZXJ8cGFyc2VseXx3ZWlibzooYXJ0aWNsZXx3ZWJwYWdlKSlcXHMqWy1cXC46XVxccyopPyhhdXRob3J8Y3JlYXRvcnxwdWItZGF0ZXxkZXNjcmlwdGlvbnx0aXRsZXxzaXRlX25hbWUpXFxzKiQvaTtcblxuICAgIC8vIEZpbmQgZGVzY3JpcHRpb24gdGFncy5cbiAgICB0aGlzLl9mb3JFYWNoTm9kZShtZXRhRWxlbWVudHMsIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICB2YXIgZWxlbWVudE5hbWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShcIm5hbWVcIik7XG4gICAgICB2YXIgZWxlbWVudFByb3BlcnR5ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJwcm9wZXJ0eVwiKTtcbiAgICAgIHZhciBjb250ZW50ID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50XCIpO1xuICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBtYXRjaGVzID0gbnVsbDtcbiAgICAgIHZhciBuYW1lID0gbnVsbDtcblxuICAgICAgaWYgKGVsZW1lbnRQcm9wZXJ0eSkge1xuICAgICAgICBtYXRjaGVzID0gZWxlbWVudFByb3BlcnR5Lm1hdGNoKHByb3BlcnR5UGF0dGVybik7XG4gICAgICAgIGlmIChtYXRjaGVzKSB7XG4gICAgICAgICAgLy8gQ29udmVydCB0byBsb3dlcmNhc2UsIGFuZCByZW1vdmUgYW55IHdoaXRlc3BhY2VcbiAgICAgICAgICAvLyBzbyB3ZSBjYW4gbWF0Y2ggYmVsb3cuXG4gICAgICAgICAgbmFtZSA9IG1hdGNoZXNbMF0udG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgXCJcIik7XG4gICAgICAgICAgLy8gbXVsdGlwbGUgYXV0aG9yc1xuICAgICAgICAgIHZhbHVlc1tuYW1lXSA9IGNvbnRlbnQudHJpbSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW1hdGNoZXMgJiYgZWxlbWVudE5hbWUgJiYgbmFtZVBhdHRlcm4udGVzdChlbGVtZW50TmFtZSkpIHtcbiAgICAgICAgbmFtZSA9IGVsZW1lbnROYW1lO1xuICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgIC8vIENvbnZlcnQgdG8gbG93ZXJjYXNlLCByZW1vdmUgYW55IHdoaXRlc3BhY2UsIGFuZCBjb252ZXJ0IGRvdHNcbiAgICAgICAgICAvLyB0byBjb2xvbnMgc28gd2UgY2FuIG1hdGNoIGJlbG93LlxuICAgICAgICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzL2csIFwiXCIpLnJlcGxhY2UoL1xcLi9nLCBcIjpcIik7XG4gICAgICAgICAgdmFsdWVzW25hbWVdID0gY29udGVudC50cmltKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGdldCB0aXRsZVxuICAgIG1ldGFkYXRhLnRpdGxlID1cbiAgICAgIGpzb25sZC50aXRsZSB8fFxuICAgICAgdmFsdWVzW1wiZGM6dGl0bGVcIl0gfHxcbiAgICAgIHZhbHVlc1tcImRjdGVybTp0aXRsZVwiXSB8fFxuICAgICAgdmFsdWVzW1wib2c6dGl0bGVcIl0gfHxcbiAgICAgIHZhbHVlc1tcIndlaWJvOmFydGljbGU6dGl0bGVcIl0gfHxcbiAgICAgIHZhbHVlc1tcIndlaWJvOndlYnBhZ2U6dGl0bGVcIl0gfHxcbiAgICAgIHZhbHVlcy50aXRsZSB8fFxuICAgICAgdmFsdWVzW1widHdpdHRlcjp0aXRsZVwiXSB8fFxuICAgICAgdmFsdWVzW1wicGFyc2VseS10aXRsZVwiXTtcblxuICAgIGlmICghbWV0YWRhdGEudGl0bGUpIHtcbiAgICAgIG1ldGFkYXRhLnRpdGxlID0gdGhpcy5fZ2V0QXJ0aWNsZVRpdGxlKCk7XG4gICAgfVxuXG4gICAgY29uc3QgYXJ0aWNsZUF1dGhvciA9XG4gICAgICB0eXBlb2YgdmFsdWVzW1wiYXJ0aWNsZTphdXRob3JcIl0gPT09IFwic3RyaW5nXCIgJiZcbiAgICAgICF0aGlzLl9pc1VybCh2YWx1ZXNbXCJhcnRpY2xlOmF1dGhvclwiXSlcbiAgICAgICAgPyB2YWx1ZXNbXCJhcnRpY2xlOmF1dGhvclwiXVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgIC8vIGdldCBhdXRob3JcbiAgICBtZXRhZGF0YS5ieWxpbmUgPVxuICAgICAganNvbmxkLmJ5bGluZSB8fFxuICAgICAgdmFsdWVzW1wiZGM6Y3JlYXRvclwiXSB8fFxuICAgICAgdmFsdWVzW1wiZGN0ZXJtOmNyZWF0b3JcIl0gfHxcbiAgICAgIHZhbHVlcy5hdXRob3IgfHxcbiAgICAgIHZhbHVlc1tcInBhcnNlbHktYXV0aG9yXCJdIHx8XG4gICAgICBhcnRpY2xlQXV0aG9yO1xuXG4gICAgLy8gZ2V0IGRlc2NyaXB0aW9uXG4gICAgbWV0YWRhdGEuZXhjZXJwdCA9XG4gICAgICBqc29ubGQuZXhjZXJwdCB8fFxuICAgICAgdmFsdWVzW1wiZGM6ZGVzY3JpcHRpb25cIl0gfHxcbiAgICAgIHZhbHVlc1tcImRjdGVybTpkZXNjcmlwdGlvblwiXSB8fFxuICAgICAgdmFsdWVzW1wib2c6ZGVzY3JpcHRpb25cIl0gfHxcbiAgICAgIHZhbHVlc1tcIndlaWJvOmFydGljbGU6ZGVzY3JpcHRpb25cIl0gfHxcbiAgICAgIHZhbHVlc1tcIndlaWJvOndlYnBhZ2U6ZGVzY3JpcHRpb25cIl0gfHxcbiAgICAgIHZhbHVlcy5kZXNjcmlwdGlvbiB8fFxuICAgICAgdmFsdWVzW1widHdpdHRlcjpkZXNjcmlwdGlvblwiXTtcblxuICAgIC8vIGdldCBzaXRlIG5hbWVcbiAgICBtZXRhZGF0YS5zaXRlTmFtZSA9IGpzb25sZC5zaXRlTmFtZSB8fCB2YWx1ZXNbXCJvZzpzaXRlX25hbWVcIl07XG5cbiAgICAvLyBnZXQgYXJ0aWNsZSBwdWJsaXNoZWQgdGltZVxuICAgIG1ldGFkYXRhLnB1Ymxpc2hlZFRpbWUgPVxuICAgICAganNvbmxkLmRhdGVQdWJsaXNoZWQgfHxcbiAgICAgIHZhbHVlc1tcImFydGljbGU6cHVibGlzaGVkX3RpbWVcIl0gfHxcbiAgICAgIHZhbHVlc1tcInBhcnNlbHktcHViLWRhdGVcIl0gfHxcbiAgICAgIG51bGw7XG5cbiAgICAvLyBpbiBtYW55IHNpdGVzIHRoZSBtZXRhIHZhbHVlIGlzIGVzY2FwZWQgd2l0aCBIVE1MIGVudGl0aWVzLFxuICAgIC8vIHNvIGhlcmUgd2UgbmVlZCB0byB1bmVzY2FwZSBpdFxuICAgIG1ldGFkYXRhLnRpdGxlID0gdGhpcy5fdW5lc2NhcGVIdG1sRW50aXRpZXMobWV0YWRhdGEudGl0bGUpO1xuICAgIG1ldGFkYXRhLmJ5bGluZSA9IHRoaXMuX3VuZXNjYXBlSHRtbEVudGl0aWVzKG1ldGFkYXRhLmJ5bGluZSk7XG4gICAgbWV0YWRhdGEuZXhjZXJwdCA9IHRoaXMuX3VuZXNjYXBlSHRtbEVudGl0aWVzKG1ldGFkYXRhLmV4Y2VycHQpO1xuICAgIG1ldGFkYXRhLnNpdGVOYW1lID0gdGhpcy5fdW5lc2NhcGVIdG1sRW50aXRpZXMobWV0YWRhdGEuc2l0ZU5hbWUpO1xuICAgIG1ldGFkYXRhLnB1Ymxpc2hlZFRpbWUgPSB0aGlzLl91bmVzY2FwZUh0bWxFbnRpdGllcyhtZXRhZGF0YS5wdWJsaXNoZWRUaW1lKTtcblxuICAgIHJldHVybiBtZXRhZGF0YTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgbm9kZSBpcyBpbWFnZSwgb3IgaWYgbm9kZSBjb250YWlucyBleGFjdGx5IG9ubHkgb25lIGltYWdlXG4gICAqIHdoZXRoZXIgYXMgYSBkaXJlY3QgY2hpbGQgb3IgYXMgaXRzIGRlc2NlbmRhbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiovXG4gIF9pc1NpbmdsZUltYWdlKG5vZGUpIHtcbiAgICB3aGlsZSAobm9kZSkge1xuICAgICAgaWYgKG5vZGUudGFnTmFtZSA9PT0gXCJJTUdcIikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChub2RlLmNoaWxkcmVuLmxlbmd0aCAhPT0gMSB8fCBub2RlLnRleHRDb250ZW50LnRyaW0oKSAhPT0gXCJcIikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBub2RlID0gbm9kZS5jaGlsZHJlblswXTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGaW5kIGFsbCA8bm9zY3JpcHQ+IHRoYXQgYXJlIGxvY2F0ZWQgYWZ0ZXIgPGltZz4gbm9kZXMsIGFuZCB3aGljaCBjb250YWluIG9ubHkgb25lXG4gICAqIDxpbWc+IGVsZW1lbnQuIFJlcGxhY2UgdGhlIGZpcnN0IGltYWdlIHdpdGggdGhlIGltYWdlIGZyb20gaW5zaWRlIHRoZSA8bm9zY3JpcHQ+IHRhZyxcbiAgICogYW5kIHJlbW92ZSB0aGUgPG5vc2NyaXB0PiB0YWcuIFRoaXMgaW1wcm92ZXMgdGhlIHF1YWxpdHkgb2YgdGhlIGltYWdlcyB3ZSB1c2Ugb25cbiAgICogc29tZSBzaXRlcyAoZS5nLiBNZWRpdW0pLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiovXG4gIF91bndyYXBOb3NjcmlwdEltYWdlcyhkb2MpIHtcbiAgICAvLyBGaW5kIGltZyB3aXRob3V0IHNvdXJjZSBvciBhdHRyaWJ1dGVzIHRoYXQgbWlnaHQgY29udGFpbnMgaW1hZ2UsIGFuZCByZW1vdmUgaXQuXG4gICAgLy8gVGhpcyBpcyBkb25lIHRvIHByZXZlbnQgYSBwbGFjZWhvbGRlciBpbWcgaXMgcmVwbGFjZWQgYnkgaW1nIGZyb20gbm9zY3JpcHQgaW4gbmV4dCBzdGVwLlxuICAgIHZhciBpbWdzID0gQXJyYXkuZnJvbShkb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIikpO1xuICAgIHRoaXMuX2ZvckVhY2hOb2RlKGltZ3MsIGZ1bmN0aW9uIChpbWcpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaW1nLmF0dHJpYnV0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGF0dHIgPSBpbWcuYXR0cmlidXRlc1tpXTtcbiAgICAgICAgc3dpdGNoIChhdHRyLm5hbWUpIHtcbiAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgY2FzZSBcInNyY3NldFwiOlxuICAgICAgICAgIGNhc2UgXCJkYXRhLXNyY1wiOlxuICAgICAgICAgIGNhc2UgXCJkYXRhLXNyY3NldFwiOlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9cXC4oanBnfGpwZWd8cG5nfHdlYnApL2kudGVzdChhdHRyLnZhbHVlKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpbWcucmVtb3ZlKCk7XG4gICAgfSk7XG5cbiAgICAvLyBOZXh0IGZpbmQgbm9zY3JpcHQgYW5kIHRyeSB0byBleHRyYWN0IGl0cyBpbWFnZVxuICAgIHZhciBub3NjcmlwdHMgPSBBcnJheS5mcm9tKGRvYy5nZXRFbGVtZW50c0J5VGFnTmFtZShcIm5vc2NyaXB0XCIpKTtcbiAgICB0aGlzLl9mb3JFYWNoTm9kZShub3NjcmlwdHMsIGZ1bmN0aW9uIChub3NjcmlwdCkge1xuICAgICAgLy8gUGFyc2UgY29udGVudCBvZiBub3NjcmlwdCBhbmQgbWFrZSBzdXJlIGl0IG9ubHkgY29udGFpbnMgaW1hZ2VcbiAgICAgIGlmICghdGhpcy5faXNTaW5nbGVJbWFnZShub3NjcmlwdCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHRtcCA9IGRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgLy8gV2UncmUgcnVubmluZyBpbiB0aGUgZG9jdW1lbnQgY29udGV4dCwgYW5kIHVzaW5nIHVubW9kaWZpZWRcbiAgICAgIC8vIGRvY3VtZW50IGNvbnRlbnRzLCBzbyBkb2luZyB0aGlzIHNob3VsZCBiZSBzYWZlLlxuICAgICAgLy8gKEFsc28gd2UgaGVhdmlseSBkaXNjb3VyYWdlIHBlb3BsZSBmcm9tIGFsbG93aW5nIHNjcmlwdCB0b1xuICAgICAgLy8gcnVuIGF0IGFsbCBpbiB0aGlzIGRvY3VtZW50Li4uKVxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuc2FuaXRpemVkL3Byb3BlcnR5XG4gICAgICB0bXAuaW5uZXJIVE1MID0gbm9zY3JpcHQuaW5uZXJIVE1MO1xuXG4gICAgICAvLyBJZiBub3NjcmlwdCBoYXMgcHJldmlvdXMgc2libGluZyBhbmQgaXQgb25seSBjb250YWlucyBpbWFnZSxcbiAgICAgIC8vIHJlcGxhY2UgaXQgd2l0aCBub3NjcmlwdCBjb250ZW50LiBIb3dldmVyIHdlIGFsc28ga2VlcCBvbGRcbiAgICAgIC8vIGF0dHJpYnV0ZXMgdGhhdCBtaWdodCBjb250YWlucyBpbWFnZS5cbiAgICAgIHZhciBwcmV2RWxlbWVudCA9IG5vc2NyaXB0LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XG4gICAgICBpZiAocHJldkVsZW1lbnQgJiYgdGhpcy5faXNTaW5nbGVJbWFnZShwcmV2RWxlbWVudCkpIHtcbiAgICAgICAgdmFyIHByZXZJbWcgPSBwcmV2RWxlbWVudDtcbiAgICAgICAgaWYgKHByZXZJbWcudGFnTmFtZSAhPT0gXCJJTUdcIikge1xuICAgICAgICAgIHByZXZJbWcgPSBwcmV2RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImltZ1wiKVswXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdJbWcgPSB0bXAuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJpbWdcIilbMF07XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJldkltZy5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGF0dHIgPSBwcmV2SW1nLmF0dHJpYnV0ZXNbaV07XG4gICAgICAgICAgaWYgKGF0dHIudmFsdWUgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgIGF0dHIubmFtZSA9PT0gXCJzcmNcIiB8fFxuICAgICAgICAgICAgYXR0ci5uYW1lID09PSBcInNyY3NldFwiIHx8XG4gICAgICAgICAgICAvXFwuKGpwZ3xqcGVnfHBuZ3x3ZWJwKS9pLnRlc3QoYXR0ci52YWx1ZSlcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGlmIChuZXdJbWcuZ2V0QXR0cmlidXRlKGF0dHIubmFtZSkgPT09IGF0dHIudmFsdWUpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBhdHRyTmFtZSA9IGF0dHIubmFtZTtcbiAgICAgICAgICAgIGlmIChuZXdJbWcuaGFzQXR0cmlidXRlKGF0dHJOYW1lKSkge1xuICAgICAgICAgICAgICBhdHRyTmFtZSA9IFwiZGF0YS1vbGQtXCIgKyBhdHRyTmFtZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbmV3SW1nLnNldEF0dHJpYnV0ZShhdHRyTmFtZSwgYXR0ci52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbm9zY3JpcHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQodG1wLmZpcnN0RWxlbWVudENoaWxkLCBwcmV2RWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgc2NyaXB0IHRhZ3MgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBFbGVtZW50XG4gICAqKi9cbiAgX3JlbW92ZVNjcmlwdHMoZG9jKSB7XG4gICAgdGhpcy5fcmVtb3ZlTm9kZXModGhpcy5fZ2V0QWxsTm9kZXNXaXRoVGFnKGRvYywgW1wic2NyaXB0XCIsIFwibm9zY3JpcHRcIl0pKTtcbiAgfSxcblxuICAvKipcbiAgICogQ2hlY2sgaWYgdGhpcyBub2RlIGhhcyBvbmx5IHdoaXRlc3BhY2UgYW5kIGEgc2luZ2xlIGVsZW1lbnQgd2l0aCBnaXZlbiB0YWdcbiAgICogUmV0dXJucyBmYWxzZSBpZiB0aGUgRElWIG5vZGUgY29udGFpbnMgbm9uLWVtcHR5IHRleHQgbm9kZXNcbiAgICogb3IgaWYgaXQgY29udGFpbnMgbm8gZWxlbWVudCB3aXRoIGdpdmVuIHRhZyBvciBtb3JlIHRoYW4gMSBlbGVtZW50LlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcGFyYW0gc3RyaW5nIHRhZyBvZiBjaGlsZCBlbGVtZW50XG4gICAqKi9cbiAgX2hhc1NpbmdsZVRhZ0luc2lkZUVsZW1lbnQoZWxlbWVudCwgdGFnKSB7XG4gICAgLy8gVGhlcmUgc2hvdWxkIGJlIGV4YWN0bHkgMSBlbGVtZW50IGNoaWxkIHdpdGggZ2l2ZW4gdGFnXG4gICAgaWYgKGVsZW1lbnQuY2hpbGRyZW4ubGVuZ3RoICE9IDEgfHwgZWxlbWVudC5jaGlsZHJlblswXS50YWdOYW1lICE9PSB0YWcpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBBbmQgdGhlcmUgc2hvdWxkIGJlIG5vIHRleHQgbm9kZXMgd2l0aCByZWFsIGNvbnRlbnRcbiAgICByZXR1cm4gIXRoaXMuX3NvbWVOb2RlKGVsZW1lbnQuY2hpbGROb2RlcywgZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIG5vZGUubm9kZVR5cGUgPT09IHRoaXMuVEVYVF9OT0RFICYmXG4gICAgICAgIHRoaXMuUkVHRVhQUy5oYXNDb250ZW50LnRlc3Qobm9kZS50ZXh0Q29udGVudClcbiAgICAgICk7XG4gICAgfSk7XG4gIH0sXG5cbiAgX2lzRWxlbWVudFdpdGhvdXRDb250ZW50KG5vZGUpIHtcbiAgICByZXR1cm4gKFxuICAgICAgbm9kZS5ub2RlVHlwZSA9PT0gdGhpcy5FTEVNRU5UX05PREUgJiZcbiAgICAgICFub2RlLnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGggJiZcbiAgICAgICghbm9kZS5jaGlsZHJlbi5sZW5ndGggfHxcbiAgICAgICAgbm9kZS5jaGlsZHJlbi5sZW5ndGggPT1cbiAgICAgICAgICBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYnJcIikubGVuZ3RoICtcbiAgICAgICAgICAgIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoclwiKS5sZW5ndGgpXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogRGV0ZXJtaW5lIHdoZXRoZXIgZWxlbWVudCBoYXMgYW55IGNoaWxkcmVuIGJsb2NrIGxldmVsIGVsZW1lbnRzLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKi9cbiAgX2hhc0NoaWxkQmxvY2tFbGVtZW50KGVsZW1lbnQpIHtcbiAgICByZXR1cm4gdGhpcy5fc29tZU5vZGUoZWxlbWVudC5jaGlsZE5vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgdGhpcy5ESVZfVE9fUF9FTEVNUy5oYXMobm9kZS50YWdOYW1lKSB8fFxuICAgICAgICB0aGlzLl9oYXNDaGlsZEJsb2NrRWxlbWVudChub2RlKVxuICAgICAgKTtcbiAgICB9KTtcbiAgfSxcblxuICAvKioqXG4gICAqIERldGVybWluZSBpZiBhIG5vZGUgcXVhbGlmaWVzIGFzIHBocmFzaW5nIGNvbnRlbnQuXG4gICAqIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0d1aWRlL0hUTUwvQ29udGVudF9jYXRlZ29yaWVzI1BocmFzaW5nX2NvbnRlbnRcbiAgICoqL1xuICBfaXNQaHJhc2luZ0NvbnRlbnQobm9kZSkge1xuICAgIHJldHVybiAoXG4gICAgICBub2RlLm5vZGVUeXBlID09PSB0aGlzLlRFWFRfTk9ERSB8fFxuICAgICAgdGhpcy5QSFJBU0lOR19FTEVNUy5pbmNsdWRlcyhub2RlLnRhZ05hbWUpIHx8XG4gICAgICAoKG5vZGUudGFnTmFtZSA9PT0gXCJBXCIgfHxcbiAgICAgICAgbm9kZS50YWdOYW1lID09PSBcIkRFTFwiIHx8XG4gICAgICAgIG5vZGUudGFnTmFtZSA9PT0gXCJJTlNcIikgJiZcbiAgICAgICAgdGhpcy5fZXZlcnlOb2RlKG5vZGUuY2hpbGROb2RlcywgdGhpcy5faXNQaHJhc2luZ0NvbnRlbnQpKVxuICAgICk7XG4gIH0sXG5cbiAgX2lzV2hpdGVzcGFjZShub2RlKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIChub2RlLm5vZGVUeXBlID09PSB0aGlzLlRFWFRfTk9ERSAmJlxuICAgICAgICBub2RlLnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGggPT09IDApIHx8XG4gICAgICAobm9kZS5ub2RlVHlwZSA9PT0gdGhpcy5FTEVNRU5UX05PREUgJiYgbm9kZS50YWdOYW1lID09PSBcIkJSXCIpXG4gICAgKTtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBpbm5lciB0ZXh0IG9mIGEgbm9kZSAtIGNyb3NzIGJyb3dzZXIgY29tcGF0aWJseS5cbiAgICogVGhpcyBhbHNvIHN0cmlwcyBvdXQgYW55IGV4Y2VzcyB3aGl0ZXNwYWNlIHRvIGJlIGZvdW5kLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcGFyYW0gQm9vbGVhbiBub3JtYWxpemVTcGFjZXMgKGRlZmF1bHQ6IHRydWUpXG4gICAqIEByZXR1cm4gc3RyaW5nXG4gICAqKi9cbiAgX2dldElubmVyVGV4dChlLCBub3JtYWxpemVTcGFjZXMpIHtcbiAgICBub3JtYWxpemVTcGFjZXMgPVxuICAgICAgdHlwZW9mIG5vcm1hbGl6ZVNwYWNlcyA9PT0gXCJ1bmRlZmluZWRcIiA/IHRydWUgOiBub3JtYWxpemVTcGFjZXM7XG4gICAgdmFyIHRleHRDb250ZW50ID0gZS50ZXh0Q29udGVudC50cmltKCk7XG5cbiAgICBpZiAobm9ybWFsaXplU3BhY2VzKSB7XG4gICAgICByZXR1cm4gdGV4dENvbnRlbnQucmVwbGFjZSh0aGlzLlJFR0VYUFMubm9ybWFsaXplLCBcIiBcIik7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0Q29udGVudDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IHRoZSBudW1iZXIgb2YgdGltZXMgYSBzdHJpbmcgcyBhcHBlYXJzIGluIHRoZSBub2RlIGUuXG4gICAqXG4gICAqIEBwYXJhbSBFbGVtZW50XG4gICAqIEBwYXJhbSBzdHJpbmcgLSB3aGF0IHRvIHNwbGl0IG9uLiBEZWZhdWx0IGlzIFwiLFwiXG4gICAqIEByZXR1cm4gbnVtYmVyIChpbnRlZ2VyKVxuICAgKiovXG4gIF9nZXRDaGFyQ291bnQoZSwgcykge1xuICAgIHMgPSBzIHx8IFwiLFwiO1xuICAgIHJldHVybiB0aGlzLl9nZXRJbm5lclRleHQoZSkuc3BsaXQocykubGVuZ3RoIC0gMTtcbiAgfSxcblxuICAvKipcbiAgICogUmVtb3ZlIHRoZSBzdHlsZSBhdHRyaWJ1dGUgb24gZXZlcnkgZSBhbmQgdW5kZXIuXG4gICAqIFRPRE86IFRlc3QgaWYgZ2V0RWxlbWVudHNCeVRhZ05hbWUoKikgaXMgZmFzdGVyLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICoqL1xuICBfY2xlYW5TdHlsZXMoZSkge1xuICAgIGlmICghZSB8fCBlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gXCJzdmdcIikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBgc3R5bGVgIGFuZCBkZXByZWNhdGVkIHByZXNlbnRhdGlvbmFsIGF0dHJpYnV0ZXNcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuUFJFU0VOVEFUSU9OQUxfQVRUUklCVVRFUy5sZW5ndGg7IGkrKykge1xuICAgICAgZS5yZW1vdmVBdHRyaWJ1dGUodGhpcy5QUkVTRU5UQVRJT05BTF9BVFRSSUJVVEVTW2ldKTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5ERVBSRUNBVEVEX1NJWkVfQVRUUklCVVRFX0VMRU1TLmluY2x1ZGVzKGUudGFnTmFtZSkpIHtcbiAgICAgIGUucmVtb3ZlQXR0cmlidXRlKFwid2lkdGhcIik7XG4gICAgICBlLnJlbW92ZUF0dHJpYnV0ZShcImhlaWdodFwiKTtcbiAgICB9XG5cbiAgICB2YXIgY3VyID0gZS5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICB3aGlsZSAoY3VyICE9PSBudWxsKSB7XG4gICAgICB0aGlzLl9jbGVhblN0eWxlcyhjdXIpO1xuICAgICAgY3VyID0gY3VyLm5leHRFbGVtZW50U2libGluZztcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZGVuc2l0eSBvZiBsaW5rcyBhcyBhIHBlcmNlbnRhZ2Ugb2YgdGhlIGNvbnRlbnRcbiAgICogVGhpcyBpcyB0aGUgYW1vdW50IG9mIHRleHQgdGhhdCBpcyBpbnNpZGUgYSBsaW5rIGRpdmlkZWQgYnkgdGhlIHRvdGFsIHRleHQgaW4gdGhlIG5vZGUuXG4gICAqXG4gICAqIEBwYXJhbSBFbGVtZW50XG4gICAqIEByZXR1cm4gbnVtYmVyIChmbG9hdClcbiAgICoqL1xuICBfZ2V0TGlua0RlbnNpdHkoZWxlbWVudCkge1xuICAgIHZhciB0ZXh0TGVuZ3RoID0gdGhpcy5fZ2V0SW5uZXJUZXh0KGVsZW1lbnQpLmxlbmd0aDtcbiAgICBpZiAodGV4dExlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgdmFyIGxpbmtMZW5ndGggPSAwO1xuXG4gICAgLy8gWFhYIGltcGxlbWVudCBfcmVkdWNlTm9kZUxpc3Q/XG4gICAgdGhpcy5fZm9yRWFjaE5vZGUoZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIiksIGZ1bmN0aW9uIChsaW5rTm9kZSkge1xuICAgICAgdmFyIGhyZWYgPSBsaW5rTm9kZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpO1xuICAgICAgdmFyIGNvZWZmaWNpZW50ID0gaHJlZiAmJiB0aGlzLlJFR0VYUFMuaGFzaFVybC50ZXN0KGhyZWYpID8gMC4zIDogMTtcbiAgICAgIGxpbmtMZW5ndGggKz0gdGhpcy5fZ2V0SW5uZXJUZXh0KGxpbmtOb2RlKS5sZW5ndGggKiBjb2VmZmljaWVudDtcbiAgICB9KTtcblxuICAgIHJldHVybiBsaW5rTGVuZ3RoIC8gdGV4dExlbmd0aDtcbiAgfSxcblxuICAvKipcbiAgICogR2V0IGFuIGVsZW1lbnRzIGNsYXNzL2lkIHdlaWdodC4gVXNlcyByZWd1bGFyIGV4cHJlc3Npb25zIHRvIHRlbGwgaWYgdGhpc1xuICAgKiBlbGVtZW50IGxvb2tzIGdvb2Qgb3IgYmFkLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcmV0dXJuIG51bWJlciAoSW50ZWdlcilcbiAgICoqL1xuICBfZ2V0Q2xhc3NXZWlnaHQoZSkge1xuICAgIGlmICghdGhpcy5fZmxhZ0lzQWN0aXZlKHRoaXMuRkxBR19XRUlHSFRfQ0xBU1NFUykpIHtcbiAgICAgIHJldHVybiAwO1xuICAgIH1cblxuICAgIHZhciB3ZWlnaHQgPSAwO1xuXG4gICAgLy8gTG9vayBmb3IgYSBzcGVjaWFsIGNsYXNzbmFtZVxuICAgIGlmICh0eXBlb2YgZS5jbGFzc05hbWUgPT09IFwic3RyaW5nXCIgJiYgZS5jbGFzc05hbWUgIT09IFwiXCIpIHtcbiAgICAgIGlmICh0aGlzLlJFR0VYUFMubmVnYXRpdmUudGVzdChlLmNsYXNzTmFtZSkpIHtcbiAgICAgICAgd2VpZ2h0IC09IDI1O1xuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5SRUdFWFBTLnBvc2l0aXZlLnRlc3QoZS5jbGFzc05hbWUpKSB7XG4gICAgICAgIHdlaWdodCArPSAyNTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBMb29rIGZvciBhIHNwZWNpYWwgSURcbiAgICBpZiAodHlwZW9mIGUuaWQgPT09IFwic3RyaW5nXCIgJiYgZS5pZCAhPT0gXCJcIikge1xuICAgICAgaWYgKHRoaXMuUkVHRVhQUy5uZWdhdGl2ZS50ZXN0KGUuaWQpKSB7XG4gICAgICAgIHdlaWdodCAtPSAyNTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuUkVHRVhQUy5wb3NpdGl2ZS50ZXN0KGUuaWQpKSB7XG4gICAgICAgIHdlaWdodCArPSAyNTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gd2VpZ2h0O1xuICB9LFxuXG4gIC8qKlxuICAgKiBDbGVhbiBhIG5vZGUgb2YgYWxsIGVsZW1lbnRzIG9mIHR5cGUgXCJ0YWdcIi5cbiAgICogKFVubGVzcyBpdCdzIGEgeW91dHViZS92aW1lbyB2aWRlby4gUGVvcGxlIGxvdmUgbW92aWVzLilcbiAgICpcbiAgICogQHBhcmFtIEVsZW1lbnRcbiAgICogQHBhcmFtIHN0cmluZyB0YWcgdG8gY2xlYW5cbiAgICogQHJldHVybiB2b2lkXG4gICAqKi9cbiAgX2NsZWFuKGUsIHRhZykge1xuICAgIHZhciBpc0VtYmVkID0gW1wib2JqZWN0XCIsIFwiZW1iZWRcIiwgXCJpZnJhbWVcIl0uaW5jbHVkZXModGFnKTtcblxuICAgIHRoaXMuX3JlbW92ZU5vZGVzKHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhlLCBbdGFnXSksIGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAvLyBBbGxvdyB5b3V0dWJlIGFuZCB2aW1lbyB2aWRlb3MgdGhyb3VnaCBhcyBwZW9wbGUgdXN1YWxseSB3YW50IHRvIHNlZSB0aG9zZS5cbiAgICAgIGlmIChpc0VtYmVkKSB7XG4gICAgICAgIC8vIEZpcnN0LCBjaGVjayB0aGUgZWxlbWVudHMgYXR0cmlidXRlcyB0byBzZWUgaWYgYW55IG9mIHRoZW0gY29udGFpbiB5b3V0dWJlIG9yIHZpbWVvXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudC5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKHRoaXMuX2FsbG93ZWRWaWRlb1JlZ2V4LnRlc3QoZWxlbWVudC5hdHRyaWJ1dGVzW2ldLnZhbHVlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZvciBlbWJlZCB3aXRoIDxvYmplY3Q+IHRhZywgY2hlY2sgaW5uZXIgSFRNTCBhcyB3ZWxsLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgZWxlbWVudC50YWdOYW1lID09PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgdGhpcy5fYWxsb3dlZFZpZGVvUmVnZXgudGVzdChlbGVtZW50LmlubmVySFRNTClcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9LFxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIGdpdmVuIG5vZGUgaGFzIG9uZSBvZiBpdHMgYW5jZXN0b3IgdGFnIG5hbWUgbWF0Y2hpbmcgdGhlXG4gICAqIHByb3ZpZGVkIG9uZS5cbiAgICogQHBhcmFtICBIVE1MRWxlbWVudCBub2RlXG4gICAqIEBwYXJhbSAgU3RyaW5nICAgICAgdGFnTmFtZVxuICAgKiBAcGFyYW0gIE51bWJlciAgICAgIG1heERlcHRoXG4gICAqIEBwYXJhbSAgRnVuY3Rpb24gICAgZmlsdGVyRm4gYSBmaWx0ZXIgdG8gaW52b2tlIHRvIGRldGVybWluZSB3aGV0aGVyIHRoaXMgbm9kZSAnY291bnRzJ1xuICAgKiBAcmV0dXJuIEJvb2xlYW5cbiAgICovXG4gIF9oYXNBbmNlc3RvclRhZyhub2RlLCB0YWdOYW1lLCBtYXhEZXB0aCwgZmlsdGVyRm4pIHtcbiAgICBtYXhEZXB0aCA9IG1heERlcHRoIHx8IDM7XG4gICAgdGFnTmFtZSA9IHRhZ05hbWUudG9VcHBlckNhc2UoKTtcbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIHdoaWxlIChub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgIGlmIChtYXhEZXB0aCA+IDAgJiYgZGVwdGggPiBtYXhEZXB0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lID09PSB0YWdOYW1lICYmXG4gICAgICAgICghZmlsdGVyRm4gfHwgZmlsdGVyRm4obm9kZS5wYXJlbnROb2RlKSlcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIG5vZGUgPSBub2RlLnBhcmVudE5vZGU7XG4gICAgICBkZXB0aCsrO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIFJldHVybiBhbiBvYmplY3QgaW5kaWNhdGluZyBob3cgbWFueSByb3dzIGFuZCBjb2x1bW5zIHRoaXMgdGFibGUgaGFzLlxuICAgKi9cbiAgX2dldFJvd0FuZENvbHVtbkNvdW50KHRhYmxlKSB7XG4gICAgdmFyIHJvd3MgPSAwO1xuICAgIHZhciBjb2x1bW5zID0gMDtcbiAgICB2YXIgdHJzID0gdGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ0clwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJvd3NwYW4gPSB0cnNbaV0uZ2V0QXR0cmlidXRlKFwicm93c3BhblwiKSB8fCAwO1xuICAgICAgaWYgKHJvd3NwYW4pIHtcbiAgICAgICAgcm93c3BhbiA9IHBhcnNlSW50KHJvd3NwYW4sIDEwKTtcbiAgICAgIH1cbiAgICAgIHJvd3MgKz0gcm93c3BhbiB8fCAxO1xuXG4gICAgICAvLyBOb3cgbG9vayBmb3IgY29sdW1uLXJlbGF0ZWQgaW5mb1xuICAgICAgdmFyIGNvbHVtbnNJblRoaXNSb3cgPSAwO1xuICAgICAgdmFyIGNlbGxzID0gdHJzW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGRcIik7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNlbGxzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBjb2xzcGFuID0gY2VsbHNbal0uZ2V0QXR0cmlidXRlKFwiY29sc3BhblwiKSB8fCAwO1xuICAgICAgICBpZiAoY29sc3Bhbikge1xuICAgICAgICAgIGNvbHNwYW4gPSBwYXJzZUludChjb2xzcGFuLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgY29sdW1uc0luVGhpc1JvdyArPSBjb2xzcGFuIHx8IDE7XG4gICAgICB9XG4gICAgICBjb2x1bW5zID0gTWF0aC5tYXgoY29sdW1ucywgY29sdW1uc0luVGhpc1Jvdyk7XG4gICAgfVxuICAgIHJldHVybiB7IHJvd3MsIGNvbHVtbnMgfTtcbiAgfSxcblxuICAvKipcbiAgICogTG9vayBmb3IgJ2RhdGEnIChhcyBvcHBvc2VkIHRvICdsYXlvdXQnKSB0YWJsZXMsIGZvciB3aGljaCB3ZSB1c2VcbiAgICogc2ltaWxhciBjaGVja3MgYXNcbiAgICogaHR0cHM6Ly9zZWFyY2hmb3gub3JnL21vemlsbGEtY2VudHJhbC9yZXYvZjgyZDVjNTQ5ZjA0NmNiNjRjZTU2MDJiZmQ4OTRiN2FlODA3YzhmOC9hY2Nlc3NpYmxlL2dlbmVyaWMvVGFibGVBY2Nlc3NpYmxlLmNwcCMxOVxuICAgKi9cbiAgX21hcmtEYXRhVGFibGVzKHJvb3QpIHtcbiAgICB2YXIgdGFibGVzID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgdGFibGUgPSB0YWJsZXNbaV07XG4gICAgICB2YXIgcm9sZSA9IHRhYmxlLmdldEF0dHJpYnV0ZShcInJvbGVcIik7XG4gICAgICBpZiAocm9sZSA9PSBcInByZXNlbnRhdGlvblwiKSB7XG4gICAgICAgIHRhYmxlLl9yZWFkYWJpbGl0eURhdGFUYWJsZSA9IGZhbHNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRhdGFibGUgPSB0YWJsZS5nZXRBdHRyaWJ1dGUoXCJkYXRhdGFibGVcIik7XG4gICAgICBpZiAoZGF0YXRhYmxlID09IFwiMFwiKSB7XG4gICAgICAgIHRhYmxlLl9yZWFkYWJpbGl0eURhdGFUYWJsZSA9IGZhbHNlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdW1tYXJ5ID0gdGFibGUuZ2V0QXR0cmlidXRlKFwic3VtbWFyeVwiKTtcbiAgICAgIGlmIChzdW1tYXJ5KSB7XG4gICAgICAgIHRhYmxlLl9yZWFkYWJpbGl0eURhdGFUYWJsZSA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FwdGlvbiA9IHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiY2FwdGlvblwiKVswXTtcbiAgICAgIGlmIChjYXB0aW9uICYmIGNhcHRpb24uY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICAgICAgdGFibGUuX3JlYWRhYmlsaXR5RGF0YVRhYmxlID0gdHJ1ZTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIHRoZSB0YWJsZSBoYXMgYSBkZXNjZW5kYW50IHdpdGggYW55IG9mIHRoZXNlIHRhZ3MsIGNvbnNpZGVyIGEgZGF0YSB0YWJsZTpcbiAgICAgIHZhciBkYXRhVGFibGVEZXNjZW5kYW50cyA9IFtcImNvbFwiLCBcImNvbGdyb3VwXCIsIFwidGZvb3RcIiwgXCJ0aGVhZFwiLCBcInRoXCJdO1xuICAgICAgdmFyIGRlc2NlbmRhbnRFeGlzdHMgPSBmdW5jdGlvbiAodGFnKSB7XG4gICAgICAgIHJldHVybiAhIXRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKHRhZylbMF07XG4gICAgICB9O1xuICAgICAgaWYgKGRhdGFUYWJsZURlc2NlbmRhbnRzLnNvbWUoZGVzY2VuZGFudEV4aXN0cykpIHtcbiAgICAgICAgdGhpcy5sb2coXCJEYXRhIHRhYmxlIGJlY2F1c2UgZm91bmQgZGF0YS15IGRlc2NlbmRhbnRcIik7XG4gICAgICAgIHRhYmxlLl9yZWFkYWJpbGl0eURhdGFUYWJsZSA9IHRydWU7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBOZXN0ZWQgdGFibGVzIGluZGljYXRlIGEgbGF5b3V0IHRhYmxlOlxuICAgICAgaWYgKHRhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwidGFibGVcIilbMF0pIHtcbiAgICAgICAgdGFibGUuX3JlYWRhYmlsaXR5RGF0YVRhYmxlID0gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgc2l6ZUluZm8gPSB0aGlzLl9nZXRSb3dBbmRDb2x1bW5Db3VudCh0YWJsZSk7XG5cbiAgICAgIGlmIChzaXplSW5mby5jb2x1bW5zID09IDEgfHwgc2l6ZUluZm8ucm93cyA9PSAxKSB7XG4gICAgICAgIC8vIHNpbmdsZSBjb2x1bS9yb3cgdGFibGVzIGFyZSBjb21tb25seSB1c2VkIGZvciBwYWdlIGxheW91dCBwdXJwb3Nlcy5cbiAgICAgICAgdGFibGUuX3JlYWRhYmlsaXR5RGF0YVRhYmxlID0gZmFsc2U7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2l6ZUluZm8ucm93cyA+PSAxMCB8fCBzaXplSW5mby5jb2x1bW5zID4gNCkge1xuICAgICAgICB0YWJsZS5fcmVhZGFiaWxpdHlEYXRhVGFibGUgPSB0cnVlO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIC8vIE5vdyBqdXN0IGdvIGJ5IHNpemUgZW50aXJlbHk6XG4gICAgICB0YWJsZS5fcmVhZGFiaWxpdHlEYXRhVGFibGUgPSBzaXplSW5mby5yb3dzICogc2l6ZUluZm8uY29sdW1ucyA+IDEwO1xuICAgIH1cbiAgfSxcblxuICAvKiBjb252ZXJ0IGltYWdlcyBhbmQgZmlndXJlcyB0aGF0IGhhdmUgcHJvcGVydGllcyBsaWtlIGRhdGEtc3JjIGludG8gaW1hZ2VzIHRoYXQgY2FuIGJlIGxvYWRlZCB3aXRob3V0IEpTICovXG4gIF9maXhMYXp5SW1hZ2VzKHJvb3QpIHtcbiAgICB0aGlzLl9mb3JFYWNoTm9kZShcbiAgICAgIHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhyb290LCBbXCJpbWdcIiwgXCJwaWN0dXJlXCIsIFwiZmlndXJlXCJdKSxcbiAgICAgIGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIC8vIEluIHNvbWUgc2l0ZXMgKGUuZy4gS290YWt1KSwgdGhleSBwdXQgMXB4IHNxdWFyZSBpbWFnZSBhcyBiYXNlNjQgZGF0YSB1cmkgaW4gdGhlIHNyYyBhdHRyaWJ1dGUuXG4gICAgICAgIC8vIFNvLCBoZXJlIHdlIGNoZWNrIGlmIHRoZSBkYXRhIHVyaSBpcyB0b28gc2hvcnQsIGp1c3QgbWlnaHQgYXMgd2VsbCByZW1vdmUgaXQuXG4gICAgICAgIGlmIChlbGVtLnNyYyAmJiB0aGlzLlJFR0VYUFMuYjY0RGF0YVVybC50ZXN0KGVsZW0uc3JjKSkge1xuICAgICAgICAgIC8vIE1ha2Ugc3VyZSBpdCdzIG5vdCBTVkcsIGJlY2F1c2UgU1ZHIGNhbiBoYXZlIGEgbWVhbmluZ2Z1bCBpbWFnZSBpbiB1bmRlciAxMzMgYnl0ZXMuXG4gICAgICAgICAgdmFyIHBhcnRzID0gdGhpcy5SRUdFWFBTLmI2NERhdGFVcmwuZXhlYyhlbGVtLnNyYyk7XG4gICAgICAgICAgaWYgKHBhcnRzWzFdID09PSBcImltYWdlL3N2Zyt4bWxcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGlzIGVsZW1lbnQgaGFzIG90aGVyIGF0dHJpYnV0ZXMgd2hpY2ggY29udGFpbnMgaW1hZ2UuXG4gICAgICAgICAgLy8gSWYgaXQgZG9lc24ndCwgdGhlbiB0aGlzIHNyYyBpcyBpbXBvcnRhbnQgYW5kIHNob3VsZG4ndCBiZSByZW1vdmVkLlxuICAgICAgICAgIHZhciBzcmNDb3VsZEJlUmVtb3ZlZCA9IGZhbHNlO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZWxlbS5hdHRyaWJ1dGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXR0ciA9IGVsZW0uYXR0cmlidXRlc1tpXTtcbiAgICAgICAgICAgIGlmIChhdHRyLm5hbWUgPT09IFwic3JjXCIpIHtcbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICgvXFwuKGpwZ3xqcGVnfHBuZ3x3ZWJwKS9pLnRlc3QoYXR0ci52YWx1ZSkpIHtcbiAgICAgICAgICAgICAgc3JjQ291bGRCZVJlbW92ZWQgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBIZXJlIHdlIGFzc3VtZSBpZiBpbWFnZSBpcyBsZXNzIHRoYW4gMTAwIGJ5dGVzIChvciAxMzMgYWZ0ZXIgZW5jb2RlZCB0byBiYXNlNjQpXG4gICAgICAgICAgLy8gaXQgd2lsbCBiZSB0b28gc21hbGwsIHRoZXJlZm9yZSBpdCBtaWdodCBiZSBwbGFjZWhvbGRlciBpbWFnZS5cbiAgICAgICAgICBpZiAoc3JjQ291bGRCZVJlbW92ZWQpIHtcbiAgICAgICAgICAgIHZhciBiNjRzdGFydHMgPSBwYXJ0c1swXS5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgYjY0bGVuZ3RoID0gZWxlbS5zcmMubGVuZ3RoIC0gYjY0c3RhcnRzO1xuICAgICAgICAgICAgaWYgKGI2NGxlbmd0aCA8IDEzMykge1xuICAgICAgICAgICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbHNvIGNoZWNrIGZvciBcIm51bGxcIiB0byB3b3JrIGFyb3VuZCBodHRwczovL2dpdGh1Yi5jb20vanNkb20vanNkb20vaXNzdWVzLzI1ODBcbiAgICAgICAgaWYgKFxuICAgICAgICAgIChlbGVtLnNyYyB8fCAoZWxlbS5zcmNzZXQgJiYgZWxlbS5zcmNzZXQgIT0gXCJudWxsXCIpKSAmJlxuICAgICAgICAgICFlbGVtLmNsYXNzTmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKFwibGF6eVwiKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGVsZW0uYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIGF0dHIgPSBlbGVtLmF0dHJpYnV0ZXNbal07XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgYXR0ci5uYW1lID09PSBcInNyY1wiIHx8XG4gICAgICAgICAgICBhdHRyLm5hbWUgPT09IFwic3Jjc2V0XCIgfHxcbiAgICAgICAgICAgIGF0dHIubmFtZSA9PT0gXCJhbHRcIlxuICAgICAgICAgICkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBjb3B5VG8gPSBudWxsO1xuICAgICAgICAgIGlmICgvXFwuKGpwZ3xqcGVnfHBuZ3x3ZWJwKVxccytcXGQvLnRlc3QoYXR0ci52YWx1ZSkpIHtcbiAgICAgICAgICAgIGNvcHlUbyA9IFwic3Jjc2V0XCI7XG4gICAgICAgICAgfSBlbHNlIGlmICgvXlxccypcXFMrXFwuKGpwZ3xqcGVnfHBuZ3x3ZWJwKVxcUypcXHMqJC8udGVzdChhdHRyLnZhbHVlKSkge1xuICAgICAgICAgICAgY29weVRvID0gXCJzcmNcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNvcHlUbykge1xuICAgICAgICAgICAgLy9pZiB0aGlzIGlzIGFuIGltZyBvciBwaWN0dXJlLCBzZXQgdGhlIGF0dHJpYnV0ZSBkaXJlY3RseVxuICAgICAgICAgICAgaWYgKGVsZW0udGFnTmFtZSA9PT0gXCJJTUdcIiB8fCBlbGVtLnRhZ05hbWUgPT09IFwiUElDVFVSRVwiKSB7XG4gICAgICAgICAgICAgIGVsZW0uc2V0QXR0cmlidXRlKGNvcHlUbywgYXR0ci52YWx1ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgICBlbGVtLnRhZ05hbWUgPT09IFwiRklHVVJFXCIgJiZcbiAgICAgICAgICAgICAgIXRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhlbGVtLCBbXCJpbWdcIiwgXCJwaWN0dXJlXCJdKS5sZW5ndGhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAvL2lmIHRoZSBpdGVtIGlzIGEgPGZpZ3VyZT4gdGhhdCBkb2VzIG5vdCBjb250YWluIGFuIGltYWdlIG9yIHBpY3R1cmUsIGNyZWF0ZSBvbmUgYW5kIHBsYWNlIGl0IGluc2lkZSB0aGUgZmlndXJlXG4gICAgICAgICAgICAgIC8vc2VlIHRoZSBueXRpbWVzLTMgdGVzdGNhc2UgZm9yIGFuIGV4YW1wbGVcbiAgICAgICAgICAgICAgdmFyIGltZyA9IHRoaXMuX2RvYy5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICAgICAgICBpbWcuc2V0QXR0cmlidXRlKGNvcHlUbywgYXR0ci52YWx1ZSk7XG4gICAgICAgICAgICAgIGVsZW0uYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9LFxuXG4gIF9nZXRUZXh0RGVuc2l0eShlLCB0YWdzKSB7XG4gICAgdmFyIHRleHRMZW5ndGggPSB0aGlzLl9nZXRJbm5lclRleHQoZSwgdHJ1ZSkubGVuZ3RoO1xuICAgIGlmICh0ZXh0TGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gMDtcbiAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcoZSwgdGFncyk7XG4gICAgdGhpcy5fZm9yRWFjaE5vZGUoXG4gICAgICBjaGlsZHJlbixcbiAgICAgIGNoaWxkID0+IChjaGlsZHJlbkxlbmd0aCArPSB0aGlzLl9nZXRJbm5lclRleHQoY2hpbGQsIHRydWUpLmxlbmd0aClcbiAgICApO1xuICAgIHJldHVybiBjaGlsZHJlbkxlbmd0aCAvIHRleHRMZW5ndGg7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFuIGFuIGVsZW1lbnQgb2YgYWxsIHRhZ3Mgb2YgdHlwZSBcInRhZ1wiIGlmIHRoZXkgbG9vayBmaXNoeS5cbiAgICogXCJGaXNoeVwiIGlzIGFuIGFsZ29yaXRobSBiYXNlZCBvbiBjb250ZW50IGxlbmd0aCwgY2xhc3NuYW1lcywgbGluayBkZW5zaXR5LCBudW1iZXIgb2YgaW1hZ2VzICYgZW1iZWRzLCBldGMuXG4gICAqXG4gICAqIEByZXR1cm4gdm9pZFxuICAgKiovXG4gIF9jbGVhbkNvbmRpdGlvbmFsbHkoZSwgdGFnKSB7XG4gICAgaWYgKCF0aGlzLl9mbGFnSXNBY3RpdmUodGhpcy5GTEFHX0NMRUFOX0NPTkRJVElPTkFMTFkpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gR2F0aGVyIGNvdW50cyBmb3Igb3RoZXIgdHlwaWNhbCBlbGVtZW50cyBlbWJlZGRlZCB3aXRoaW4uXG4gICAgLy8gVHJhdmVyc2UgYmFja3dhcmRzIHNvIHdlIGNhbiByZW1vdmUgbm9kZXMgYXQgdGhlIHNhbWUgdGltZVxuICAgIC8vIHdpdGhvdXQgZWZmZWN0aW5nIHRoZSB0cmF2ZXJzYWwuXG4gICAgLy9cbiAgICAvLyBUT0RPOiBDb25zaWRlciB0YWtpbmcgaW50byBhY2NvdW50IG9yaWdpbmFsIGNvbnRlbnRTY29yZSBoZXJlLlxuICAgIHRoaXMuX3JlbW92ZU5vZGVzKHRoaXMuX2dldEFsbE5vZGVzV2l0aFRhZyhlLCBbdGFnXSksIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICAvLyBGaXJzdCBjaGVjayBpZiB0aGlzIG5vZGUgSVMgZGF0YSB0YWJsZSwgaW4gd2hpY2ggY2FzZSBkb24ndCByZW1vdmUgaXQuXG4gICAgICB2YXIgaXNEYXRhVGFibGUgPSBmdW5jdGlvbiAodCkge1xuICAgICAgICByZXR1cm4gdC5fcmVhZGFiaWxpdHlEYXRhVGFibGU7XG4gICAgICB9O1xuXG4gICAgICB2YXIgaXNMaXN0ID0gdGFnID09PSBcInVsXCIgfHwgdGFnID09PSBcIm9sXCI7XG4gICAgICBpZiAoIWlzTGlzdCkge1xuICAgICAgICB2YXIgbGlzdExlbmd0aCA9IDA7XG4gICAgICAgIHZhciBsaXN0Tm9kZXMgPSB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcobm9kZSwgW1widWxcIiwgXCJvbFwiXSk7XG4gICAgICAgIHRoaXMuX2ZvckVhY2hOb2RlKFxuICAgICAgICAgIGxpc3ROb2RlcyxcbiAgICAgICAgICBsaXN0ID0+IChsaXN0TGVuZ3RoICs9IHRoaXMuX2dldElubmVyVGV4dChsaXN0KS5sZW5ndGgpXG4gICAgICAgICk7XG4gICAgICAgIGlzTGlzdCA9IGxpc3RMZW5ndGggLyB0aGlzLl9nZXRJbm5lclRleHQobm9kZSkubGVuZ3RoID4gMC45O1xuICAgICAgfVxuXG4gICAgICBpZiAodGFnID09PSBcInRhYmxlXCIgJiYgaXNEYXRhVGFibGUobm9kZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICAvLyBOZXh0IGNoZWNrIGlmIHdlJ3JlIGluc2lkZSBhIGRhdGEgdGFibGUsIGluIHdoaWNoIGNhc2UgZG9uJ3QgcmVtb3ZlIGl0IGFzIHdlbGwuXG4gICAgICBpZiAodGhpcy5faGFzQW5jZXN0b3JUYWcobm9kZSwgXCJ0YWJsZVwiLCAtMSwgaXNEYXRhVGFibGUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKHRoaXMuX2hhc0FuY2VzdG9yVGFnKG5vZGUsIFwiY29kZVwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIC8vIGtlZXAgZWxlbWVudCBpZiBpdCBoYXMgYSBkYXRhIHRhYmxlc1xuICAgICAgaWYgKFxuICAgICAgICBbLi4ubm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRhYmxlXCIpXS5zb21lKFxuICAgICAgICAgIHRibCA9PiB0YmwuX3JlYWRhYmlsaXR5RGF0YVRhYmxlXG4gICAgICAgIClcbiAgICAgICkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHZhciB3ZWlnaHQgPSB0aGlzLl9nZXRDbGFzc1dlaWdodChub2RlKTtcblxuICAgICAgdGhpcy5sb2coXCJDbGVhbmluZyBDb25kaXRpb25hbGx5XCIsIG5vZGUpO1xuXG4gICAgICB2YXIgY29udGVudFNjb3JlID0gMDtcblxuICAgICAgaWYgKHdlaWdodCArIGNvbnRlbnRTY29yZSA8IDApIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9nZXRDaGFyQ291bnQobm9kZSwgXCIsXCIpIDwgMTApIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vdCB2ZXJ5IG1hbnkgY29tbWFzLCBhbmQgdGhlIG51bWJlciBvZlxuICAgICAgICAvLyBub24tcGFyYWdyYXBoIGVsZW1lbnRzIGlzIG1vcmUgdGhhbiBwYXJhZ3JhcGhzIG9yIG90aGVyXG4gICAgICAgIC8vIG9taW5vdXMgc2lnbnMsIHJlbW92ZSB0aGUgZWxlbWVudC5cbiAgICAgICAgdmFyIHAgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicFwiKS5sZW5ndGg7XG4gICAgICAgIHZhciBpbWcgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiaW1nXCIpLmxlbmd0aDtcbiAgICAgICAgdmFyIGxpID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpXCIpLmxlbmd0aCAtIDEwMDtcbiAgICAgICAgdmFyIGlucHV0ID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImlucHV0XCIpLmxlbmd0aDtcbiAgICAgICAgdmFyIGhlYWRpbmdEZW5zaXR5ID0gdGhpcy5fZ2V0VGV4dERlbnNpdHkobm9kZSwgW1xuICAgICAgICAgIFwiaDFcIixcbiAgICAgICAgICBcImgyXCIsXG4gICAgICAgICAgXCJoM1wiLFxuICAgICAgICAgIFwiaDRcIixcbiAgICAgICAgICBcImg1XCIsXG4gICAgICAgICAgXCJoNlwiLFxuICAgICAgICBdKTtcblxuICAgICAgICB2YXIgZW1iZWRDb3VudCA9IDA7XG4gICAgICAgIHZhciBlbWJlZHMgPSB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcobm9kZSwgW1xuICAgICAgICAgIFwib2JqZWN0XCIsXG4gICAgICAgICAgXCJlbWJlZFwiLFxuICAgICAgICAgIFwiaWZyYW1lXCIsXG4gICAgICAgIF0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZW1iZWRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgLy8gSWYgdGhpcyBlbWJlZCBoYXMgYXR0cmlidXRlIHRoYXQgbWF0Y2hlcyB2aWRlbyByZWdleCwgZG9uJ3QgZGVsZXRlIGl0LlxuICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZW1iZWRzW2ldLmF0dHJpYnV0ZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9hbGxvd2VkVmlkZW9SZWdleC50ZXN0KGVtYmVkc1tpXS5hdHRyaWJ1dGVzW2pdLnZhbHVlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRm9yIGVtYmVkIHdpdGggPG9iamVjdD4gdGFnLCBjaGVjayBpbm5lciBIVE1MIGFzIHdlbGwuXG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgZW1iZWRzW2ldLnRhZ05hbWUgPT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICAgIHRoaXMuX2FsbG93ZWRWaWRlb1JlZ2V4LnRlc3QoZW1iZWRzW2ldLmlubmVySFRNTClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlbWJlZENvdW50Kys7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5uZXJUZXh0ID0gdGhpcy5fZ2V0SW5uZXJUZXh0KG5vZGUpO1xuXG4gICAgICAgIC8vIHRvc3MgYW55IG5vZGUgd2hvc2UgaW5uZXIgdGV4dCBjb250YWlucyBub3RoaW5nIGJ1dCBzdXNwaWNpb3VzIHdvcmRzXG4gICAgICAgIGlmIChcbiAgICAgICAgICB0aGlzLlJFR0VYUFMuYWRXb3Jkcy50ZXN0KGlubmVyVGV4dCkgfHxcbiAgICAgICAgICB0aGlzLlJFR0VYUFMubG9hZGluZ1dvcmRzLnRlc3QoaW5uZXJUZXh0KVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb250ZW50TGVuZ3RoID0gaW5uZXJUZXh0Lmxlbmd0aDtcbiAgICAgICAgdmFyIGxpbmtEZW5zaXR5ID0gdGhpcy5fZ2V0TGlua0RlbnNpdHkobm9kZSk7XG4gICAgICAgIHZhciB0ZXh0aXNoVGFncyA9IFtcIlNQQU5cIiwgXCJMSVwiLCBcIlREXCJdLmNvbmNhdChcbiAgICAgICAgICBBcnJheS5mcm9tKHRoaXMuRElWX1RPX1BfRUxFTVMpXG4gICAgICAgICk7XG4gICAgICAgIHZhciB0ZXh0RGVuc2l0eSA9IHRoaXMuX2dldFRleHREZW5zaXR5KG5vZGUsIHRleHRpc2hUYWdzKTtcbiAgICAgICAgdmFyIGlzRmlndXJlQ2hpbGQgPSB0aGlzLl9oYXNBbmNlc3RvclRhZyhub2RlLCBcImZpZ3VyZVwiKTtcblxuICAgICAgICAvLyBhcHBseSBzaGFkaW5lc3MgY2hlY2tzLCB0aGVuIGNoZWNrIGZvciBleGNlcHRpb25zXG4gICAgICAgIGNvbnN0IHNob3VsZFJlbW92ZU5vZGUgPSAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgZXJycyA9IFtdO1xuICAgICAgICAgIGlmICghaXNGaWd1cmVDaGlsZCAmJiBpbWcgPiAxICYmIHAgLyBpbWcgPCAwLjUpIHtcbiAgICAgICAgICAgIGVycnMucHVzaChgQmFkIHAgdG8gaW1nIHJhdGlvIChpbWc9JHtpbWd9LCBwPSR7cH0pYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghaXNMaXN0ICYmIGxpID4gcCkge1xuICAgICAgICAgICAgZXJycy5wdXNoKGBUb28gbWFueSBsaSdzIG91dHNpZGUgb2YgYSBsaXN0LiAobGk9JHtsaX0gPiBwPSR7cH0pYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbnB1dCA+IE1hdGguZmxvb3IocCAvIDMpKSB7XG4gICAgICAgICAgICBlcnJzLnB1c2goYFRvbyBtYW55IGlucHV0cyBwZXIgcC4gKGlucHV0PSR7aW5wdXR9LCBwPSR7cH0pYCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcbiAgICAgICAgICAgICFpc0xpc3QgJiZcbiAgICAgICAgICAgICFpc0ZpZ3VyZUNoaWxkICYmXG4gICAgICAgICAgICBoZWFkaW5nRGVuc2l0eSA8IDAuOSAmJlxuICAgICAgICAgICAgY29udGVudExlbmd0aCA8IDI1ICYmXG4gICAgICAgICAgICAoaW1nID09PSAwIHx8IGltZyA+IDIpICYmXG4gICAgICAgICAgICBsaW5rRGVuc2l0eSA+IDBcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIGVycnMucHVzaChcbiAgICAgICAgICAgICAgYFN1c3BpY2lvdXNseSBzaG9ydC4gKGhlYWRpbmdEZW5zaXR5PSR7aGVhZGluZ0RlbnNpdHl9LCBpbWc9JHtpbWd9LCBsaW5rRGVuc2l0eT0ke2xpbmtEZW5zaXR5fSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAhaXNMaXN0ICYmXG4gICAgICAgICAgICB3ZWlnaHQgPCAyNSAmJlxuICAgICAgICAgICAgbGlua0RlbnNpdHkgPiAwLjIgKyB0aGlzLl9saW5rRGVuc2l0eU1vZGlmaWVyXG4gICAgICAgICAgKSB7XG4gICAgICAgICAgICBlcnJzLnB1c2goXG4gICAgICAgICAgICAgIGBMb3cgd2VpZ2h0IGFuZCBhIGxpdHRsZSBsaW5reS4gKGxpbmtEZW5zaXR5PSR7bGlua0RlbnNpdHl9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh3ZWlnaHQgPj0gMjUgJiYgbGlua0RlbnNpdHkgPiAwLjUgKyB0aGlzLl9saW5rRGVuc2l0eU1vZGlmaWVyKSB7XG4gICAgICAgICAgICBlcnJzLnB1c2goXG4gICAgICAgICAgICAgIGBIaWdoIHdlaWdodCBhbmQgbW9zdGx5IGxpbmtzLiAobGlua0RlbnNpdHk9JHtsaW5rRGVuc2l0eX0pYFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChlbWJlZENvdW50ID09PSAxICYmIGNvbnRlbnRMZW5ndGggPCA3NSkgfHwgZW1iZWRDb3VudCA+IDEpIHtcbiAgICAgICAgICAgIGVycnMucHVzaChcbiAgICAgICAgICAgICAgYFN1c3BpY2lvdXMgZW1iZWQuIChlbWJlZENvdW50PSR7ZW1iZWRDb3VudH0sIGNvbnRlbnRMZW5ndGg9JHtjb250ZW50TGVuZ3RofSlgXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW1nID09PSAwICYmIHRleHREZW5zaXR5ID09PSAwKSB7XG4gICAgICAgICAgICBlcnJzLnB1c2goXG4gICAgICAgICAgICAgIGBObyB1c2VmdWwgY29udGVudC4gKGltZz0ke2ltZ30sIHRleHREZW5zaXR5PSR7dGV4dERlbnNpdHl9KWBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGVycnMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmxvZyhcIkNoZWNrcyBmYWlsZWRcIiwgZXJycyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGhhdmVUb1JlbW92ZSA9IHNob3VsZFJlbW92ZU5vZGUoKTtcblxuICAgICAgICAvLyBBbGxvdyBzaW1wbGUgbGlzdHMgb2YgaW1hZ2VzIHRvIHJlbWFpbiBpbiBwYWdlc1xuICAgICAgICBpZiAoaXNMaXN0ICYmIGhhdmVUb1JlbW92ZSkge1xuICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgbm9kZS5jaGlsZHJlbi5sZW5ndGg7IHgrKykge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gbm9kZS5jaGlsZHJlblt4XTtcbiAgICAgICAgICAgIC8vIERvbid0IGZpbHRlciBpbiBsaXN0cyB3aXRoIGxpJ3MgdGhhdCBjb250YWluIG1vcmUgdGhhbiBvbmUgY2hpbGRcbiAgICAgICAgICAgIGlmIChjaGlsZC5jaGlsZHJlbi5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYXZlVG9SZW1vdmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBsaV9jb3VudCA9IG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKS5sZW5ndGg7XG4gICAgICAgICAgLy8gT25seSBhbGxvdyB0aGUgbGlzdCB0byByZW1haW4gaWYgZXZlcnkgbGkgY29udGFpbnMgYW4gaW1hZ2VcbiAgICAgICAgICBpZiAoaW1nID09IGxpX2NvdW50KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXZlVG9SZW1vdmU7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENsZWFuIG91dCBlbGVtZW50cyB0aGF0IG1hdGNoIHRoZSBzcGVjaWZpZWQgY29uZGl0aW9uc1xuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudFxuICAgKiBAcGFyYW0gRnVuY3Rpb24gZGV0ZXJtaW5lcyB3aGV0aGVyIGEgbm9kZSBzaG91bGQgYmUgcmVtb3ZlZFxuICAgKiBAcmV0dXJuIHZvaWRcbiAgICoqL1xuICBfY2xlYW5NYXRjaGVkTm9kZXMoZSwgZmlsdGVyKSB7XG4gICAgdmFyIGVuZE9mU2VhcmNoTWFya2VyTm9kZSA9IHRoaXMuX2dldE5leHROb2RlKGUsIHRydWUpO1xuICAgIHZhciBuZXh0ID0gdGhpcy5fZ2V0TmV4dE5vZGUoZSk7XG4gICAgd2hpbGUgKG5leHQgJiYgbmV4dCAhPSBlbmRPZlNlYXJjaE1hcmtlck5vZGUpIHtcbiAgICAgIGlmIChmaWx0ZXIuY2FsbCh0aGlzLCBuZXh0LCBuZXh0LmNsYXNzTmFtZSArIFwiIFwiICsgbmV4dC5pZCkpIHtcbiAgICAgICAgbmV4dCA9IHRoaXMuX3JlbW92ZUFuZEdldE5leHQobmV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXh0ID0gdGhpcy5fZ2V0TmV4dE5vZGUobmV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBDbGVhbiBvdXQgc3B1cmlvdXMgaGVhZGVycyBmcm9tIGFuIEVsZW1lbnQuXG4gICAqXG4gICAqIEBwYXJhbSBFbGVtZW50XG4gICAqIEByZXR1cm4gdm9pZFxuICAgKiovXG4gIF9jbGVhbkhlYWRlcnMoZSkge1xuICAgIGxldCBoZWFkaW5nTm9kZXMgPSB0aGlzLl9nZXRBbGxOb2Rlc1dpdGhUYWcoZSwgW1wiaDFcIiwgXCJoMlwiXSk7XG4gICAgdGhpcy5fcmVtb3ZlTm9kZXMoaGVhZGluZ05vZGVzLCBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgbGV0IHNob3VsZFJlbW92ZSA9IHRoaXMuX2dldENsYXNzV2VpZ2h0KG5vZGUpIDwgMDtcbiAgICAgIGlmIChzaG91bGRSZW1vdmUpIHtcbiAgICAgICAgdGhpcy5sb2coXCJSZW1vdmluZyBoZWFkZXIgd2l0aCBsb3cgY2xhc3Mgd2VpZ2h0OlwiLCBub2RlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaG91bGRSZW1vdmU7XG4gICAgfSk7XG4gIH0sXG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIHRoaXMgbm9kZSBpcyBhbiBIMSBvciBIMiBlbGVtZW50IHdob3NlIGNvbnRlbnQgaXMgbW9zdGx5XG4gICAqIHRoZSBzYW1lIGFzIHRoZSBhcnRpY2xlIHRpdGxlLlxuICAgKlxuICAgKiBAcGFyYW0gRWxlbWVudCAgdGhlIG5vZGUgdG8gY2hlY2suXG4gICAqIEByZXR1cm4gYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBpcyBhIHRpdGxlLWxpa2UgaGVhZGVyLlxuICAgKi9cbiAgX2hlYWRlckR1cGxpY2F0ZXNUaXRsZShub2RlKSB7XG4gICAgaWYgKG5vZGUudGFnTmFtZSAhPSBcIkgxXCIgJiYgbm9kZS50YWdOYW1lICE9IFwiSDJcIikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaGVhZGluZyA9IHRoaXMuX2dldElubmVyVGV4dChub2RlLCBmYWxzZSk7XG4gICAgdGhpcy5sb2coXCJFdmFsdWF0aW5nIHNpbWlsYXJpdHkgb2YgaGVhZGVyOlwiLCBoZWFkaW5nLCB0aGlzLl9hcnRpY2xlVGl0bGUpO1xuICAgIHJldHVybiB0aGlzLl90ZXh0U2ltaWxhcml0eSh0aGlzLl9hcnRpY2xlVGl0bGUsIGhlYWRpbmcpID4gMC43NTtcbiAgfSxcblxuICBfZmxhZ0lzQWN0aXZlKGZsYWcpIHtcbiAgICByZXR1cm4gKHRoaXMuX2ZsYWdzICYgZmxhZykgPiAwO1xuICB9LFxuXG4gIF9yZW1vdmVGbGFnKGZsYWcpIHtcbiAgICB0aGlzLl9mbGFncyA9IHRoaXMuX2ZsYWdzICYgfmZsYWc7XG4gIH0sXG5cbiAgX2lzUHJvYmFibHlWaXNpYmxlKG5vZGUpIHtcbiAgICAvLyBIYXZlIHRvIG51bGwtY2hlY2sgbm9kZS5zdHlsZSBhbmQgbm9kZS5jbGFzc05hbWUuaW5jbHVkZXMgdG8gZGVhbCB3aXRoIFNWRyBhbmQgTWF0aE1MIG5vZGVzLlxuICAgIHJldHVybiAoXG4gICAgICAoIW5vZGUuc3R5bGUgfHwgbm9kZS5zdHlsZS5kaXNwbGF5ICE9IFwibm9uZVwiKSAmJlxuICAgICAgKCFub2RlLnN0eWxlIHx8IG5vZGUuc3R5bGUudmlzaWJpbGl0eSAhPSBcImhpZGRlblwiKSAmJlxuICAgICAgIW5vZGUuaGFzQXR0cmlidXRlKFwiaGlkZGVuXCIpICYmXG4gICAgICAvL2NoZWNrIGZvciBcImZhbGxiYWNrLWltYWdlXCIgc28gdGhhdCB3aWtpbWVkaWEgbWF0aCBpbWFnZXMgYXJlIGRpc3BsYXllZFxuICAgICAgKCFub2RlLmhhc0F0dHJpYnV0ZShcImFyaWEtaGlkZGVuXCIpIHx8XG4gICAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgIT0gXCJ0cnVlXCIgfHxcbiAgICAgICAgKG5vZGUuY2xhc3NOYW1lICYmXG4gICAgICAgICAgbm9kZS5jbGFzc05hbWUuaW5jbHVkZXMgJiZcbiAgICAgICAgICBub2RlLmNsYXNzTmFtZS5pbmNsdWRlcyhcImZhbGxiYWNrLWltYWdlXCIpKSlcbiAgICApO1xuICB9LFxuXG4gIC8qKlxuICAgKiBSdW5zIHJlYWRhYmlsaXR5LlxuICAgKlxuICAgKiBXb3JrZmxvdzpcbiAgICogIDEuIFByZXAgdGhlIGRvY3VtZW50IGJ5IHJlbW92aW5nIHNjcmlwdCB0YWdzLCBjc3MsIGV0Yy5cbiAgICogIDIuIEJ1aWxkIHJlYWRhYmlsaXR5J3MgRE9NIHRyZWUuXG4gICAqICAzLiBHcmFiIHRoZSBhcnRpY2xlIGNvbnRlbnQgZnJvbSB0aGUgY3VycmVudCBkb20gdHJlZS5cbiAgICogIDQuIFJlcGxhY2UgdGhlIGN1cnJlbnQgRE9NIHRyZWUgd2l0aCB0aGUgbmV3IG9uZS5cbiAgICogIDUuIFJlYWQgcGVhY2VmdWxseS5cbiAgICpcbiAgICogQHJldHVybiB2b2lkXG4gICAqKi9cbiAgcGFyc2UoKSB7XG4gICAgLy8gQXZvaWQgcGFyc2luZyB0b28gbGFyZ2UgZG9jdW1lbnRzLCBhcyBwZXIgY29uZmlndXJhdGlvbiBvcHRpb25cbiAgICBpZiAodGhpcy5fbWF4RWxlbXNUb1BhcnNlID4gMCkge1xuICAgICAgdmFyIG51bVRhZ3MgPSB0aGlzLl9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCIqXCIpLmxlbmd0aDtcbiAgICAgIGlmIChudW1UYWdzID4gdGhpcy5fbWF4RWxlbXNUb1BhcnNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIkFib3J0aW5nIHBhcnNpbmcgZG9jdW1lbnQ7IFwiICsgbnVtVGFncyArIFwiIGVsZW1lbnRzIGZvdW5kXCJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBVbndyYXAgaW1hZ2UgZnJvbSBub3NjcmlwdFxuICAgIHRoaXMuX3Vud3JhcE5vc2NyaXB0SW1hZ2VzKHRoaXMuX2RvYyk7XG5cbiAgICAvLyBFeHRyYWN0IEpTT04tTEQgbWV0YWRhdGEgYmVmb3JlIHJlbW92aW5nIHNjcmlwdHNcbiAgICB2YXIganNvbkxkID0gdGhpcy5fZGlzYWJsZUpTT05MRCA/IHt9IDogdGhpcy5fZ2V0SlNPTkxEKHRoaXMuX2RvYyk7XG5cbiAgICAvLyBSZW1vdmUgc2NyaXB0IHRhZ3MgZnJvbSB0aGUgZG9jdW1lbnQuXG4gICAgdGhpcy5fcmVtb3ZlU2NyaXB0cyh0aGlzLl9kb2MpO1xuXG4gICAgdGhpcy5fcHJlcERvY3VtZW50KCk7XG5cbiAgICB2YXIgbWV0YWRhdGEgPSB0aGlzLl9nZXRBcnRpY2xlTWV0YWRhdGEoanNvbkxkKTtcbiAgICB0aGlzLl9tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgIHRoaXMuX2FydGljbGVUaXRsZSA9IG1ldGFkYXRhLnRpdGxlO1xuXG4gICAgdmFyIGFydGljbGVDb250ZW50ID0gdGhpcy5fZ3JhYkFydGljbGUoKTtcbiAgICBpZiAoIWFydGljbGVDb250ZW50KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB0aGlzLmxvZyhcIkdyYWJiZWQ6IFwiICsgYXJ0aWNsZUNvbnRlbnQuaW5uZXJIVE1MKTtcblxuICAgIHRoaXMuX3Bvc3RQcm9jZXNzQ29udGVudChhcnRpY2xlQ29udGVudCk7XG5cbiAgICAvLyBJZiB3ZSBoYXZlbid0IGZvdW5kIGFuIGV4Y2VycHQgaW4gdGhlIGFydGljbGUncyBtZXRhZGF0YSwgdXNlIHRoZSBhcnRpY2xlJ3NcbiAgICAvLyBmaXJzdCBwYXJhZ3JhcGggYXMgdGhlIGV4Y2VycHQuIFRoaXMgaXMgdXNlZCBmb3IgZGlzcGxheWluZyBhIHByZXZpZXcgb2ZcbiAgICAvLyB0aGUgYXJ0aWNsZSdzIGNvbnRlbnQuXG4gICAgaWYgKCFtZXRhZGF0YS5leGNlcnB0KSB7XG4gICAgICB2YXIgcGFyYWdyYXBocyA9IGFydGljbGVDb250ZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwicFwiKTtcbiAgICAgIGlmIChwYXJhZ3JhcGhzLmxlbmd0aCkge1xuICAgICAgICBtZXRhZGF0YS5leGNlcnB0ID0gcGFyYWdyYXBoc1swXS50ZXh0Q29udGVudC50cmltKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHRleHRDb250ZW50ID0gYXJ0aWNsZUNvbnRlbnQudGV4dENvbnRlbnQ7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpdGxlOiB0aGlzLl9hcnRpY2xlVGl0bGUsXG4gICAgICBieWxpbmU6IG1ldGFkYXRhLmJ5bGluZSB8fCB0aGlzLl9hcnRpY2xlQnlsaW5lLFxuICAgICAgZGlyOiB0aGlzLl9hcnRpY2xlRGlyLFxuICAgICAgbGFuZzogdGhpcy5fYXJ0aWNsZUxhbmcsXG4gICAgICBjb250ZW50OiB0aGlzLl9zZXJpYWxpemVyKGFydGljbGVDb250ZW50KSxcbiAgICAgIHRleHRDb250ZW50LFxuICAgICAgbGVuZ3RoOiB0ZXh0Q29udGVudC5sZW5ndGgsXG4gICAgICBleGNlcnB0OiBtZXRhZGF0YS5leGNlcnB0LFxuICAgICAgc2l0ZU5hbWU6IG1ldGFkYXRhLnNpdGVOYW1lIHx8IHRoaXMuX2FydGljbGVTaXRlTmFtZSxcbiAgICAgIHB1Ymxpc2hlZFRpbWU6IG1ldGFkYXRhLnB1Ymxpc2hlZFRpbWUsXG4gICAgfTtcbiAgfSxcbn07XG5cbmlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiKSB7XG4gIC8qIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZWRlY2xhcmUgKi9cbiAgLyogZ2xvYmFsIG1vZHVsZSAqL1xuICBtb2R1bGUuZXhwb3J0cyA9IFJlYWRhYmlsaXR5O1xufVxuIiwiLypcbiAqIENvcHlyaWdodCAoYykgMjAxMCBBcmM5MCBJbmNcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLypcbiAqIFRoaXMgY29kZSBpcyBoZWF2aWx5IGJhc2VkIG9uIEFyYzkwJ3MgcmVhZGFiaWxpdHkuanMgKDEuNy4xKSBzY3JpcHRcbiAqIGF2YWlsYWJsZSBhdDogaHR0cDovL2NvZGUuZ29vZ2xlLmNvbS9wL2FyYzkwbGFicy1yZWFkYWJpbGl0eVxuICovXG5cbnZhciBSRUdFWFBTID0ge1xuICAvLyBOT1RFOiBUaGVzZSB0d28gcmVndWxhciBleHByZXNzaW9ucyBhcmUgZHVwbGljYXRlZCBpblxuICAvLyBSZWFkYWJpbGl0eS5qcy4gUGxlYXNlIGtlZXAgYm90aCBjb3BpZXMgaW4gc3luYy5cbiAgdW5saWtlbHlDYW5kaWRhdGVzOlxuICAgIC8tYWQtfGFpMmh0bWx8YmFubmVyfGJyZWFkY3J1bWJzfGNvbWJ4fGNvbW1lbnR8Y29tbXVuaXR5fGNvdmVyLXdyYXB8ZGlzcXVzfGV4dHJhfGZvb3RlcnxnZHByfGhlYWRlcnxsZWdlbmRzfG1lbnV8cmVsYXRlZHxyZW1hcmt8cmVwbGllc3xyc3N8c2hvdXRib3h8c2lkZWJhcnxza3lzY3JhcGVyfHNvY2lhbHxzcG9uc29yfHN1cHBsZW1lbnRhbHxhZC1icmVha3xhZ2VnYXRlfHBhZ2luYXRpb258cGFnZXJ8cG9wdXB8eW9tLXJlbW90ZS9pLFxuICBva01heWJlSXRzQUNhbmRpZGF0ZTogL2FuZHxhcnRpY2xlfGJvZHl8Y29sdW1ufGNvbnRlbnR8bWFpbnxzaGFkb3cvaSxcbn07XG5cbmZ1bmN0aW9uIGlzTm9kZVZpc2libGUobm9kZSkge1xuICAvLyBIYXZlIHRvIG51bGwtY2hlY2sgbm9kZS5zdHlsZSBhbmQgbm9kZS5jbGFzc05hbWUuaW5jbHVkZXMgdG8gZGVhbCB3aXRoIFNWRyBhbmQgTWF0aE1MIG5vZGVzLlxuICByZXR1cm4gKFxuICAgICghbm9kZS5zdHlsZSB8fCBub2RlLnN0eWxlLmRpc3BsYXkgIT0gXCJub25lXCIpICYmXG4gICAgIW5vZGUuaGFzQXR0cmlidXRlKFwiaGlkZGVuXCIpICYmXG4gICAgLy9jaGVjayBmb3IgXCJmYWxsYmFjay1pbWFnZVwiIHNvIHRoYXQgd2lraW1lZGlhIG1hdGggaW1hZ2VzIGFyZSBkaXNwbGF5ZWRcbiAgICAoIW5vZGUuaGFzQXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgfHxcbiAgICAgIG5vZGUuZ2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIikgIT0gXCJ0cnVlXCIgfHxcbiAgICAgIChub2RlLmNsYXNzTmFtZSAmJlxuICAgICAgICBub2RlLmNsYXNzTmFtZS5pbmNsdWRlcyAmJlxuICAgICAgICBub2RlLmNsYXNzTmFtZS5pbmNsdWRlcyhcImZhbGxiYWNrLWltYWdlXCIpKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBEZWNpZGVzIHdoZXRoZXIgb3Igbm90IHRoZSBkb2N1bWVudCBpcyByZWFkZXItYWJsZSB3aXRob3V0IHBhcnNpbmcgdGhlIHdob2xlIHRoaW5nLlxuICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnMgQ29uZmlndXJhdGlvbiBvYmplY3QuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluQ29udGVudExlbmd0aD0xNDBdIFRoZSBtaW5pbXVtIG5vZGUgY29udGVudCBsZW5ndGggdXNlZCB0byBkZWNpZGUgaWYgdGhlIGRvY3VtZW50IGlzIHJlYWRlcmFibGUuXG4gKiBAcGFyYW0ge251bWJlcn0gW29wdGlvbnMubWluU2NvcmU9MjBdIFRoZSBtaW51bXVtIGN1bXVsYXRlZCAnc2NvcmUnIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHRoZSBkb2N1bWVudCBpcyByZWFkZXJhYmxlLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gW29wdGlvbnMudmlzaWJpbGl0eUNoZWNrZXI9aXNOb2RlVmlzaWJsZV0gVGhlIGZ1bmN0aW9uIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIGEgbm9kZSBpcyB2aXNpYmxlLlxuICogQHJldHVybiB7Ym9vbGVhbn0gV2hldGhlciBvciBub3Qgd2Ugc3VzcGVjdCBSZWFkYWJpbGl0eS5wYXJzZSgpIHdpbGwgc3VjZWVlZCBhdCByZXR1cm5pbmcgYW4gYXJ0aWNsZSBvYmplY3QuXG4gKi9cbmZ1bmN0aW9uIGlzUHJvYmFibHlSZWFkZXJhYmxlKGRvYywgb3B0aW9ucyA9IHt9KSB7XG4gIC8vIEZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5IHJlYXNvbnMgJ29wdGlvbnMnIGNhbiBlaXRoZXIgYmUgYSBjb25maWd1cmF0aW9uIG9iamVjdCBvciB0aGUgZnVuY3Rpb24gdXNlZFxuICAvLyB0byBkZXRlcm1pbmUgaWYgYSBub2RlIGlzIHZpc2libGUuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucyA9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBvcHRpb25zID0geyB2aXNpYmlsaXR5Q2hlY2tlcjogb3B0aW9ucyB9O1xuICB9XG5cbiAgdmFyIGRlZmF1bHRPcHRpb25zID0ge1xuICAgIG1pblNjb3JlOiAyMCxcbiAgICBtaW5Db250ZW50TGVuZ3RoOiAxNDAsXG4gICAgdmlzaWJpbGl0eUNoZWNrZXI6IGlzTm9kZVZpc2libGUsXG4gIH07XG4gIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcblxuICB2YXIgbm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChcInAsIHByZSwgYXJ0aWNsZVwiKTtcblxuICAvLyBHZXQgPGRpdj4gbm9kZXMgd2hpY2ggaGF2ZSA8YnI+IG5vZGUocykgYW5kIGFwcGVuZCB0aGVtIGludG8gdGhlIGBub2Rlc2AgdmFyaWFibGUuXG4gIC8vIFNvbWUgYXJ0aWNsZXMnIERPTSBzdHJ1Y3R1cmVzIG1pZ2h0IGxvb2sgbGlrZVxuICAvLyA8ZGl2PlxuICAvLyAgIFNlbnRlbmNlczxicj5cbiAgLy8gICA8YnI+XG4gIC8vICAgU2VudGVuY2VzPGJyPlxuICAvLyA8L2Rpdj5cbiAgdmFyIGJyTm9kZXMgPSBkb2MucXVlcnlTZWxlY3RvckFsbChcImRpdiA+IGJyXCIpO1xuICBpZiAoYnJOb2Rlcy5sZW5ndGgpIHtcbiAgICB2YXIgc2V0ID0gbmV3IFNldChub2Rlcyk7XG4gICAgW10uZm9yRWFjaC5jYWxsKGJyTm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgICBzZXQuYWRkKG5vZGUucGFyZW50Tm9kZSk7XG4gICAgfSk7XG4gICAgbm9kZXMgPSBBcnJheS5mcm9tKHNldCk7XG4gIH1cblxuICB2YXIgc2NvcmUgPSAwO1xuICAvLyBUaGlzIGlzIGEgbGl0dGxlIGNoZWVreSwgd2UgdXNlIHRoZSBhY2N1bXVsYXRvciAnc2NvcmUnIHRvIGRlY2lkZSB3aGF0IHRvIHJldHVybiBmcm9tXG4gIC8vIHRoaXMgY2FsbGJhY2s6XG4gIHJldHVybiBbXS5zb21lLmNhbGwobm9kZXMsIGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKCFvcHRpb25zLnZpc2liaWxpdHlDaGVja2VyKG5vZGUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIG1hdGNoU3RyaW5nID0gbm9kZS5jbGFzc05hbWUgKyBcIiBcIiArIG5vZGUuaWQ7XG4gICAgaWYgKFxuICAgICAgUkVHRVhQUy51bmxpa2VseUNhbmRpZGF0ZXMudGVzdChtYXRjaFN0cmluZykgJiZcbiAgICAgICFSRUdFWFBTLm9rTWF5YmVJdHNBQ2FuZGlkYXRlLnRlc3QobWF0Y2hTdHJpbmcpXG4gICAgKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG5vZGUubWF0Y2hlcyhcImxpIHBcIikpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGV4dENvbnRlbnRMZW5ndGggPSBub2RlLnRleHRDb250ZW50LnRyaW0oKS5sZW5ndGg7XG4gICAgaWYgKHRleHRDb250ZW50TGVuZ3RoIDwgb3B0aW9ucy5taW5Db250ZW50TGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgc2NvcmUgKz0gTWF0aC5zcXJ0KHRleHRDb250ZW50TGVuZ3RoIC0gb3B0aW9ucy5taW5Db250ZW50TGVuZ3RoKTtcblxuICAgIGlmIChzY29yZSA+IG9wdGlvbnMubWluU2NvcmUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pO1xufVxuXG5pZiAodHlwZW9mIG1vZHVsZSA9PT0gXCJvYmplY3RcIikge1xuICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlICovXG4gIC8qIGdsb2JhbCBtb2R1bGUgKi9cbiAgbW9kdWxlLmV4cG9ydHMgPSBpc1Byb2JhYmx5UmVhZGVyYWJsZTtcbn1cbiIsIi8qIGVzbGludC1lbnYgbm9kZSAqL1xudmFyIFJlYWRhYmlsaXR5ID0gcmVxdWlyZShcIi4vUmVhZGFiaWxpdHlcIik7XG52YXIgaXNQcm9iYWJseVJlYWRlcmFibGUgPSByZXF1aXJlKFwiLi9SZWFkYWJpbGl0eS1yZWFkZXJhYmxlXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgUmVhZGFiaWxpdHksXG4gIGlzUHJvYmFibHlSZWFkZXJhYmxlLFxufTtcbiIsIi8vIHNyYy9jb250ZW50L2NvbnRlbnQudHNcbmltcG9ydCB7IFJlYWRhYmlsaXR5IH0gZnJvbSBcIkBtb3ppbGxhL3JlYWRhYmlsaXR5XCI7XG5pbXBvcnQgXCIuLi9zdHlsZXMvZ2xvYmFscy5jc3NcIjtcblxuY29uc3QgTUFYX0NIVU5LU19GT1JfQU5BTFlTSVMgPSA1O1xuY29uc3QgQ0hVTktfU0laRSA9IDIwMDA7XG5cbmZ1bmN0aW9uIGV4dHJhY3RBbmRTZW5kQ29udGVudCgpIHtcbiAgLy8gVXNlIGEgY2xvbmUgb2YgdGhlIGRvY3VtZW50IHRvIGF2b2lkIHNpZGUtZWZmZWN0cyBvbiB0aGUgbGl2ZSBwYWdlLlxuICBjb25zdCBkb2N1bWVudENsb25lID0gZG9jdW1lbnQuY2xvbmVOb2RlKHRydWUpIGFzIERvY3VtZW50O1xuICBjb25zdCByZWFkZXIgPSBuZXcgUmVhZGFiaWxpdHkoZG9jdW1lbnRDbG9uZSk7XG4gIGNvbnN0IGFydGljbGUgPSByZWFkZXIucGFyc2UoKTtcblxuICBpZiAoIWFydGljbGUgfHwgIWFydGljbGUudGV4dENvbnRlbnQpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIFwiW0NvbnRlbnRTY3JpcHRdIFJlYWRhYmlsaXR5IGZvdW5kIG5vIGNvbnRlbnQuIFNlbmRpbmcgZW1wdHkgY2h1bmtzLlwiXG4gICAgKTtcbiAgICAvLyBTdGlsbCBzZW5kIGEgbWVzc2FnZSBzbyB0aGUgYmFja2dyb3VuZCBzY3JpcHQga25vd3MgY29udGVudCBhbmFseXNpcyB3YXMgYXR0ZW1wdGVkIGJ1dCBmYWlsZWQuXG4gICAgY2hyb21lLnJ1bnRpbWUuc2VuZE1lc3NhZ2Uoe1xuICAgICAgYWN0aW9uOiBcImFuYWx5emVQYWdlQ29udGVudFwiLFxuICAgICAgdXJsOiB3aW5kb3cubG9jYXRpb24uaHJlZixcbiAgICAgIGNvbnRlbnRDaHVua3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGNsZWFuVGV4dCA9IGFydGljbGUudGV4dENvbnRlbnQucmVwbGFjZSgvXFxzKy9nLCBcIiBcIikudHJpbSgpO1xuICBjb25zdCBjaHVua3M6IHN0cmluZ1tdID0gW107XG4gIGlmIChjbGVhblRleHQubGVuZ3RoID4gMCkge1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY2xlYW5UZXh0Lmxlbmd0aDsgaSArPSBDSFVOS19TSVpFKSB7XG4gICAgICBjaHVua3MucHVzaChjbGVhblRleHQuc3Vic3RyaW5nKGksIGkgKyBDSFVOS19TSVpFKSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgZmluYWxDaHVua3MgPSBjaHVua3Muc2xpY2UoMCwgTUFYX0NIVU5LU19GT1JfQU5BTFlTSVMpO1xuICBjb25zb2xlLmxvZyhcbiAgICBgW0NvbnRlbnRTY3JpcHRdIFByb2FjdGl2ZWx5IHNlbmRpbmcgJHtmaW5hbENodW5rcy5sZW5ndGh9IGNodW5rcyB0byBiYWNrZ3JvdW5kLmBcbiAgKTtcblxuICBjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShcbiAgICB7XG4gICAgICBhY3Rpb246IFwiYW5hbHl6ZVBhZ2VDb250ZW50XCIsXG4gICAgICB1cmw6IHdpbmRvdy5sb2NhdGlvbi5ocmVmLFxuICAgICAgY29udGVudENodW5rczogZmluYWxDaHVua3MsXG4gICAgfSxcbiAgICAocmVzcG9uc2UpID0+IHtcbiAgICAgIGlmIChjaHJvbWUucnVudGltZS5sYXN0RXJyb3IpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIGBbQ1NdIEVycm9yIHNlbmRpbmcgY29udGVudDogJHtjaHJvbWUucnVudGltZS5sYXN0RXJyb3IubWVzc2FnZX1gXG4gICAgICAgICk7XG4gICAgICB9IGVsc2UgaWYgKHJlc3BvbnNlICYmICFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICBcIltDU10gQmFja2dyb3VuZCBmYWlsZWQgdG8gcHJvY2VzcyBjb250ZW50OlwiLFxuICAgICAgICAgIHJlc3BvbnNlLmVycm9yXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICApO1xufVxuXG4vLyBUaGlzIGxpc3RlbmVyIGlzIG5vdyBPTkxZIGZvciBoYW5kbGluZyBtYW51YWwgcmVmcmVzaCByZXF1ZXN0cyBmcm9tIHRoZSBwb3B1cC5cbmNocm9tZS5ydW50aW1lLm9uTWVzc2FnZS5hZGRMaXN0ZW5lcigocmVxdWVzdCwgc2VuZGVyLCBzZW5kUmVzcG9uc2UpID0+IHtcbiAgaWYgKHJlcXVlc3QuYWN0aW9uID09PSBcImdldFRleHRDb250ZW50RnJvbVBhZ2VcIikge1xuICAgIGNvbnNvbGUubG9nKFwiW0NvbnRlbnRTY3JpcHRdIFJlY2VpdmVkIG1hbnVhbCByZWZyZXNoIHJlcXVlc3QuXCIpO1xuICAgIGV4dHJhY3RBbmRTZW5kQ29udGVudCgpO1xuICAgIHNlbmRSZXNwb25zZSh7IHN0YXR1czogXCJwcm9jZXNzaW5nX2luaXRpYXRlZF9ieV9tYW51YWxfcmVmcmVzaFwiIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0pO1xuXG4vLyBQcm9hY3RpdmVseSBydW4gdGhlIGFuYWx5c2lzIHdoZW4gdGhlIHNjcmlwdCBpcyBpbmplY3RlZCBhbmQgdGhlIHBhZ2UgaXMgcmVhZHkuXG5pZiAoXG4gIGRvY3VtZW50LnJlYWR5U3RhdGUgPT09IFwiY29tcGxldGVcIiB8fFxuICBkb2N1bWVudC5yZWFkeVN0YXRlID09PSBcImludGVyYWN0aXZlXCJcbikge1xuICAvLyBTbWFsbCBkZWxheSB0byBlbnN1cmUgdGhlIHBhZ2UgaXMgZnVsbHkgc2V0dGxlZC5cbiAgc2V0VGltZW91dChleHRyYWN0QW5kU2VuZENvbnRlbnQsIDUwMCk7XG59IGVsc2Uge1xuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcbiAgICBcImxvYWRcIixcbiAgICAoKSA9PiB7XG4gICAgICBzZXRUaW1lb3V0KGV4dHJhY3RBbmRTZW5kQ29udGVudCwgNTAwKTtcbiAgICB9LFxuICAgIHsgb25jZTogdHJ1ZSB9XG4gICk7XG59XG5cbmNvbnNvbGUubG9nKFwiW0NvbnRlbnRTY3JpcHRdIElzVGhpc1BoaXNoeSB2MS4yLjAgbG9hZGVkIChwcm9hY3RpdmUgbW9kZSkuXCIpO1xuIl0sIm5hbWVzIjpbIlJlYWRhYmlsaXR5IiwiZG9jIiwib3B0aW9ucyIsImVsIiwibG9nTm9kZSIsIm5vZGUiLCJhdHRyUGFpcnMiLCJhdHRyIiwiYXJncyIsImFyZyIsIm1zZyIsIngiLCJhcnRpY2xlQ29udGVudCIsIm5vZGVMaXN0IiwiZmlsdGVyRm4iLCJwYXJlbnROb2RlIiwibmV3VGFnTmFtZSIsImZuIiwidGFnTmFtZXMiLCJ0YWciLCJjb2xsZWN0aW9uIiwiY2xhc3Nlc1RvUHJlc2VydmUiLCJjbGFzc05hbWUiLCJjbHMiLCJzdHIiLCJiYXNlVVJJIiwiZG9jdW1lbnRVUkkiLCJ0b0Fic29sdXRlVVJJIiwidXJpIiwibGlua3MiLCJsaW5rIiwiaHJlZiIsInRleHQiLCJjb250YWluZXIiLCJtZWRpYXMiLCJtZWRpYSIsInNyYyIsInBvc3RlciIsInNyY3NldCIsIm5ld1NyY3NldCIsIl8iLCJwMSIsInAyIiwicDMiLCJjaGlsZCIsImkiLCJjdXJUaXRsZSIsIm9yaWdUaXRsZSIsInRpdGxlSGFkSGllcmFyY2hpY2FsU2VwYXJhdG9ycyIsIndvcmRDb3VudCIsImFsbFNlcGFyYXRvcnMiLCJoZWFkaW5ncyIsInRyaW1tZWRUaXRsZSIsIm1hdGNoIiwiaGVhZGluZyIsImhPbmVzIiwiY3VyVGl0bGVXb3JkQ291bnQiLCJuZXh0IiwiZWxlbSIsImJyIiwicmVwbGFjZWQiLCJiclNpYmxpbmciLCJwIiwibmV4dEVsZW0iLCJzaWJsaW5nIiwicmVwbGFjZW1lbnQiLCJzaGFyZUVsZW1lbnRUaHJlc2hvbGQiLCJ0b3BDYW5kaWRhdGUiLCJtYXRjaFN0cmluZyIsInBhcmFncmFwaCIsImNvbnRlbnRFbGVtZW50Q291bnQiLCJ0YWJsZSIsInRib2R5Iiwicm93IiwiY2VsbCIsIm5leHROb2RlIiwiaWdub3JlU2VsZkFuZEtpZHMiLCJ0ZXh0QSIsInRleHRCIiwidG9rZW5zQSIsInRva2Vuc0IiLCJ1bmlxVG9rZW5zQiIsInRva2VuIiwiZGlzdGFuY2VCIiwicmVsIiwiaXRlbXByb3AiLCJieWxpbmVMZW5ndGgiLCJtYXhEZXB0aCIsImFuY2VzdG9ycyIsInBhZ2UiLCJpc1BhZ2luZyIsInBhZ2VDYWNoZUh0bWwiLCJzdHJpcFVubGlrZWx5Q2FuZGlkYXRlcyIsImVsZW1lbnRzVG9TY29yZSIsInNob3VsZFJlbW92ZVRpdGxlSGVhZGVyIiwiZW5kT2ZTZWFyY2hNYXJrZXJOb2RlIiwiaXRlbVByb3BOYW1lTm9kZSIsImNoaWxkTm9kZSIsIm5leHRTaWJsaW5nIiwibmV3Tm9kZSIsImNhbmRpZGF0ZXMiLCJlbGVtZW50VG9TY29yZSIsImlubmVyVGV4dCIsImNvbnRlbnRTY29yZSIsImFuY2VzdG9yIiwibGV2ZWwiLCJzY29yZURpdmlkZXIiLCJ0b3BDYW5kaWRhdGVzIiwiYyIsImNsIiwiY2FuZGlkYXRlIiwiY2FuZGlkYXRlU2NvcmUiLCJ0IiwiYVRvcENhbmRpZGF0ZSIsIm5lZWRlZFRvQ3JlYXRlVG9wQ2FuZGlkYXRlIiwicGFyZW50T2ZUb3BDYW5kaWRhdGUiLCJhbHRlcm5hdGl2ZUNhbmRpZGF0ZUFuY2VzdG9ycyIsIk1JTklNVU1fVE9QQ0FORElEQVRFUyIsImxpc3RzQ29udGFpbmluZ1RoaXNBbmNlc3RvciIsImFuY2VzdG9ySW5kZXgiLCJsYXN0U2NvcmUiLCJzY29yZVRocmVzaG9sZCIsInBhcmVudFNjb3JlIiwic2libGluZ1Njb3JlVGhyZXNob2xkIiwic2libGluZ3MiLCJzIiwic2wiLCJhcHBlbmQiLCJjb250ZW50Qm9udXMiLCJsaW5rRGVuc2l0eSIsIm5vZGVDb250ZW50Iiwibm9kZUxlbmd0aCIsImRpdiIsInBhcnNlU3VjY2Vzc2Z1bCIsInRleHRMZW5ndGgiLCJhIiwiYiIsImFydGljbGVEaXIiLCJodG1sRXNjYXBlTWFwIiwiaGV4IiwibnVtU3RyIiwibnVtIiwic2NyaXB0cyIsIm1ldGFkYXRhIiwianNvbkxkRWxlbWVudCIsImNvbnRlbnQiLCJwYXJzZWQiLCJpdCIsInNjaGVtYURvdE9yZ1JlZ2V4IiwibWF0Y2hlcyIsInRpdGxlIiwibmFtZU1hdGNoZXMiLCJoZWFkbGluZU1hdGNoZXMiLCJhdXRob3IiLCJlcnIiLCJqc29ubGQiLCJ2YWx1ZXMiLCJtZXRhRWxlbWVudHMiLCJwcm9wZXJ0eVBhdHRlcm4iLCJuYW1lUGF0dGVybiIsImVsZW1lbnQiLCJlbGVtZW50TmFtZSIsImVsZW1lbnRQcm9wZXJ0eSIsIm5hbWUiLCJhcnRpY2xlQXV0aG9yIiwiaW1ncyIsImltZyIsIm5vc2NyaXB0cyIsIm5vc2NyaXB0IiwidG1wIiwicHJldkVsZW1lbnQiLCJwcmV2SW1nIiwibmV3SW1nIiwiYXR0ck5hbWUiLCJub3JtYWxpemVTcGFjZXMiLCJ0ZXh0Q29udGVudCIsImN1ciIsImxpbmtMZW5ndGgiLCJsaW5rTm9kZSIsImNvZWZmaWNpZW50Iiwid2VpZ2h0IiwiaXNFbWJlZCIsInRhZ05hbWUiLCJkZXB0aCIsInJvd3MiLCJjb2x1bW5zIiwidHJzIiwicm93c3BhbiIsImNvbHVtbnNJblRoaXNSb3ciLCJjZWxscyIsImoiLCJjb2xzcGFuIiwicm9vdCIsInRhYmxlcyIsInJvbGUiLCJkYXRhdGFibGUiLCJzdW1tYXJ5IiwiY2FwdGlvbiIsImRhdGFUYWJsZURlc2NlbmRhbnRzIiwiZGVzY2VuZGFudEV4aXN0cyIsInNpemVJbmZvIiwicGFydHMiLCJzcmNDb3VsZEJlUmVtb3ZlZCIsImI2NHN0YXJ0cyIsImI2NGxlbmd0aCIsImNvcHlUbyIsInRhZ3MiLCJjaGlsZHJlbkxlbmd0aCIsImNoaWxkcmVuIiwiaXNEYXRhVGFibGUiLCJpc0xpc3QiLCJsaXN0TGVuZ3RoIiwibGlzdE5vZGVzIiwibGlzdCIsInRibCIsImxpIiwiaW5wdXQiLCJoZWFkaW5nRGVuc2l0eSIsImVtYmVkQ291bnQiLCJlbWJlZHMiLCJjb250ZW50TGVuZ3RoIiwidGV4dGlzaFRhZ3MiLCJ0ZXh0RGVuc2l0eSIsImlzRmlndXJlQ2hpbGQiLCJoYXZlVG9SZW1vdmUiLCJlcnJzIiwibGlfY291bnQiLCJmaWx0ZXIiLCJoZWFkaW5nTm9kZXMiLCJzaG91bGRSZW1vdmUiLCJmbGFnIiwibnVtVGFncyIsImpzb25MZCIsInBhcmFncmFwaHMiLCJtb2R1bGUiLCJSRUdFWFBTIiwiaXNOb2RlVmlzaWJsZSIsImlzUHJvYmFibHlSZWFkZXJhYmxlIiwiZGVmYXVsdE9wdGlvbnMiLCJub2RlcyIsImJyTm9kZXMiLCJzZXQiLCJzY29yZSIsInRleHRDb250ZW50TGVuZ3RoIiwicmVxdWlyZSQkMCIsInJlcXVpcmUkJDEiLCJyZWFkYWJpbGl0eSIsIk1BWF9DSFVOS1NfRk9SX0FOQUxZU0lTIiwiQ0hVTktfU0laRSIsImV4dHJhY3RBbmRTZW5kQ29udGVudCIsImRvY3VtZW50Q2xvbmUiLCJhcnRpY2xlIiwiY2xlYW5UZXh0IiwiY2h1bmtzIiwiZmluYWxDaHVua3MiLCJyZXNwb25zZSIsInJlcXVlc3QiLCJzZW5kZXIiLCJzZW5kUmVzcG9uc2UiXSwibWFwcGluZ3MiOiJ5REEwQkEsU0FBU0EsRUFBWUMsRUFBS0MsRUFBUyxDQUVqQyxHQUFJQSxHQUFXQSxFQUFRLGdCQUNyQkQsRUFBTUMsRUFDTkEsRUFBVSxVQUFVLENBQUMsVUFDWixDQUFDRCxHQUFPLENBQUNBLEVBQUksZ0JBQ3RCLE1BQU0sSUFBSSxNQUNSLHdFQUNOLEVBd0NFLEdBdENBQyxFQUFVQSxHQUFXLEdBRXJCLEtBQUssS0FBT0QsRUFDWixLQUFLLGdCQUFrQixLQUFLLEtBQUssV0FBVyxnQkFDNUMsS0FBSyxjQUFnQixLQUNyQixLQUFLLGVBQWlCLEtBQ3RCLEtBQUssWUFBYyxLQUNuQixLQUFLLGlCQUFtQixLQUN4QixLQUFLLFVBQVksR0FDakIsS0FBSyxVQUFZLEdBR2pCLEtBQUssT0FBUyxDQUFDLENBQUNDLEVBQVEsTUFDeEIsS0FBSyxpQkFDSEEsRUFBUSxpQkFBbUIsS0FBSywyQkFDbEMsS0FBSyxpQkFDSEEsRUFBUSxpQkFBbUIsS0FBSyx5QkFDbEMsS0FBSyxlQUFpQkEsRUFBUSxlQUFpQixLQUFLLHVCQUNwRCxLQUFLLG1CQUFxQixLQUFLLG9CQUFvQixPQUNqREEsRUFBUSxtQkFBcUIsQ0FBRSxDQUNuQyxFQUNFLEtBQUssYUFBZSxDQUFDLENBQUNBLEVBQVEsWUFDOUIsS0FBSyxZQUNIQSxFQUFRLFlBQ1IsU0FBVUMsRUFBSSxDQUNaLE9BQU9BLEVBQUcsU0FDaEIsRUFDRSxLQUFLLGVBQWlCLENBQUMsQ0FBQ0QsRUFBUSxjQUNoQyxLQUFLLG1CQUFxQkEsRUFBUSxtQkFBcUIsS0FBSyxR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
