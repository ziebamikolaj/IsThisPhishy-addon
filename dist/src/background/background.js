var _=function(bt){"use strict";var Yt={exports:{}},wt={},Gt={exports:{}},et={exports:{}};et.exports,function(l,i){/**
 * @license React
 * react.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error);var u="18.3.1",d=Symbol.for("react.element"),p=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),k=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Z=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),ne=Symbol.iterator,fe="@@iterator";function x(e){if(e===null||typeof e!="object")return null;var t=ne&&e[ne]||e[fe];return typeof t=="function"?t:null}var ve={current:null},ae={transition:null},M={current:null,isBatchingLegacy:!1,didScheduleLegacyUpdate:!1},F={current:null},J={},W=null;function te(e){W=e}J.setExtraStackFrame=function(e){W=e},J.getCurrentStack=null,J.getStackAddendum=function(){var e="";W&&(e+=W);var t=J.getCurrentStack;return t&&(e+=t()||""),e};var Ee=!1,ye=!1,ue=!1,B=!1,se=!1,Y={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:ae,ReactCurrentOwner:F};Y.ReactDebugCurrentFrame=J,Y.ReactCurrentActQueue=M;function oe(e){{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];de("warn",e,n)}}function w(e){{for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];de("error",e,n)}}function de(e,t,n){{var a=Y.ReactDebugCurrentFrame,s=a.getStackAddendum();s!==""&&(t+="%s",n=n.concat([s]));var y=n.map(function(f){return String(f)});y.unshift("Warning: "+t),Function.prototype.apply.call(console[e],console,y)}}var ke={};function U(e,t){{var n=e.constructor,a=n&&(n.displayName||n.name)||"ReactClass",s=a+"."+t;if(ke[s])return;w("Can't call %s on a component that is not yet mounted. This is a no-op, but it might indicate a bug in your application. Instead, assign to `this.state` directly or define a `state = {};` class property with the desired state in the %s component.",t,a),ke[s]=!0}}var pe={isMounted:function(e){return!1},enqueueForceUpdate:function(e,t,n){U(e,"forceUpdate")},enqueueReplaceState:function(e,t,n,a){U(e,"replaceState")},enqueueSetState:function(e,t,n,a){U(e,"setState")}},H=Object.assign,me={};Object.freeze(me);function G(e,t,n){this.props=e,this.context=t,this.refs=me,this.updater=n||pe}G.prototype.isReactComponent={},G.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw new Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},G.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};{var le={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236)."]},Oe=function(e,t){Object.defineProperty(G.prototype,e,{get:function(){oe("%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1])}})};for(var xe in le)le.hasOwnProperty(xe)&&Oe(xe,le[xe])}function je(){}je.prototype=G.prototype;function ze(e,t,n){this.props=e,this.context=t,this.refs=me,this.updater=n||pe}var Ce=ze.prototype=new je;Ce.constructor=ze,H(Ce,G.prototype),Ce.isPureReactComponent=!0;function Ct(){var e={current:null};return Object.seal(e),e}var tt=Array.isArray;function Ve(e){return tt(e)}function _t(e){{var t=typeof Symbol=="function"&&Symbol.toStringTag,n=t&&e[Symbol.toStringTag]||e.constructor.name||"Object";return n}}function We(e){try{return _e(e),!1}catch{return!0}}function _e(e){return""+e}function De(e){if(We(e))return w("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",_t(e)),_e(e)}function rt(e,t,n){var a=e.displayName;if(a)return a;var s=t.displayName||t.name||"";return s!==""?n+"("+s+")":n}function Ie(e){return e.displayName||"Context"}function he(e){if(e==null)return null;if(typeof e.tag=="number"&&w("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case h:return"Fragment";case p:return"Portal";case O:return"Profiler";case m:return"StrictMode";case z:return"Suspense";case q:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k:var t=e;return Ie(t)+".Consumer";case E:var n=e;return Ie(n._context)+".Provider";case T:return rt(e,e.render,"ForwardRef");case Z:var a=e.displayName||null;return a!==null?a:he(e.type)||"Memo";case ee:{var s=e,y=s._payload,f=s._init;try{return he(f(y))}catch{return null}}}return null}var Ne=Object.prototype.hasOwnProperty,Be={key:!0,ref:!0,__self:!0,__source:!0},nt,at,Ye;Ye={};function Xe(e){if(Ne.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning)return!1}return e.ref!==void 0}function Re(e){if(Ne.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning)return!1}return e.key!==void 0}function Rt(e,t){var n=function(){nt||(nt=!0,w("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"key",{get:n,configurable:!0})}function ot(e,t){var n=function(){at||(at=!0,w("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",t))};n.isReactWarning=!0,Object.defineProperty(e,"ref",{get:n,configurable:!0})}function it(e){if(typeof e.ref=="string"&&F.current&&e.__self&&F.current.stateNode!==e.__self){var t=he(F.current.type);Ye[t]||(w('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',t,e.ref),Ye[t]=!0)}}var $e=function(e,t,n,a,s,y,f){var g={$$typeof:d,type:e,key:t,ref:n,props:f,_owner:y};return g._store={},Object.defineProperty(g._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(g,"_self",{configurable:!1,enumerable:!1,writable:!1,value:a}),Object.defineProperty(g,"_source",{configurable:!1,enumerable:!1,writable:!1,value:s}),Object.freeze&&(Object.freeze(g.props),Object.freeze(g)),g};function Tt(e,t,n){var a,s={},y=null,f=null,g=null,P=null;if(t!=null){Xe(t)&&(f=t.ref,it(t)),Re(t)&&(De(t.key),y=""+t.key),g=t.__self===void 0?null:t.__self,P=t.__source===void 0?null:t.__source;for(a in t)Ne.call(t,a)&&!Be.hasOwnProperty(a)&&(s[a]=t[a])}var j=arguments.length-2;if(j===1)s.children=n;else if(j>1){for(var D=Array(j),I=0;I<j;I++)D[I]=arguments[I+2];Object.freeze&&Object.freeze(D),s.children=D}if(e&&e.defaultProps){var $=e.defaultProps;for(a in $)s[a]===void 0&&(s[a]=$[a])}if(y||f){var V=typeof e=="function"?e.displayName||e.name||"Unknown":e;y&&Rt(s,V),f&&ot(s,V)}return $e(e,y,f,g,P,F.current,s)}function St(e,t){var n=$e(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n}function Pt(e,t,n){if(e==null)throw new Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a,s=H({},e.props),y=e.key,f=e.ref,g=e._self,P=e._source,j=e._owner;if(t!=null){Xe(t)&&(f=t.ref,j=F.current),Re(t)&&(De(t.key),y=""+t.key);var D;e.type&&e.type.defaultProps&&(D=e.type.defaultProps);for(a in t)Ne.call(t,a)&&!Be.hasOwnProperty(a)&&(t[a]===void 0&&D!==void 0?s[a]=D[a]:s[a]=t[a])}var I=arguments.length-2;if(I===1)s.children=n;else if(I>1){for(var $=Array(I),V=0;V<I;V++)$[V]=arguments[V+2];s.children=$}return $e(e.type,y,f,g,P,j,s)}function Te(e){return typeof e=="object"&&e!==null&&e.$$typeof===d}var st=".",At=":";function Ot(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},a=e.replace(t,function(s){return n[s]});return"$"+a}var Ge=!1,lt=/\/+/g;function ge(e){return e.replace(lt,"$&/")}function Me(e,t){return typeof e=="object"&&e!==null&&e.key!=null?(De(e.key),Ot(""+e.key)):t.toString(36)}function Se(e,t,n,a,s){var y=typeof e;(y==="undefined"||y==="boolean")&&(e=null);var f=!1;if(e===null)f=!0;else switch(y){case"string":case"number":f=!0;break;case"object":switch(e.$$typeof){case d:case p:f=!0}}if(f){var g=e,P=s(g),j=a===""?st+Me(g,0):a;if(Ve(P)){var D="";j!=null&&(D=ge(j)+"/"),Se(P,t,D,"",function(un){return un})}else P!=null&&(Te(P)&&(P.key&&(!g||g.key!==P.key)&&De(P.key),P=St(P,n+(P.key&&(!g||g.key!==P.key)?ge(""+P.key)+"/":"")+j)),t.push(P));return 1}var I,$,V=0,X=a===""?st:a+At;if(Ve(e))for(var gt=0;gt<e.length;gt++)I=e[gt],$=X+Me(I,gt),V+=Se(I,t,n,$,s);else{var Bt=x(e);if(typeof Bt=="function"){var Er=e;Bt===Er.entries&&(Ge||oe("Using Maps as children is not supported. Use an array of keyed ReactElements instead."),Ge=!0);for(var ln=Bt.call(Er),kr,cn=0;!(kr=ln.next()).done;)I=kr.value,$=X+Me(I,cn++),V+=Se(I,t,n,$,s)}else if(y==="object"){var Cr=String(e);throw new Error("Objects are not valid as a React child (found: "+(Cr==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":Cr)+"). If you meant to render a collection of children, use an array instead.")}}return V}function Le(e,t,n){if(e==null)return e;var a=[],s=0;return Se(e,a,"","",function(y){return t.call(n,y,s++)}),a}function xt(e){var t=0;return Le(e,function(){t++}),t}function ct(e,t,n){Le(e,function(){t.apply(this,arguments)},n)}function jt(e){return Le(e,function(t){return t})||[]}function ut(e){if(!Te(e))throw new Error("React.Children.only expected to receive a single React element child.");return e}function ft(e){var t={$$typeof:k,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null};t.Provider={$$typeof:E,_context:t};var n=!1,a=!1,s=!1;{var y={$$typeof:k,_context:t};Object.defineProperties(y,{Provider:{get:function(){return a||(a=!0,w("Rendering <Context.Consumer.Provider> is not supported and will be removed in a future major release. Did you mean to render <Context.Provider> instead?")),t.Provider},set:function(f){t.Provider=f}},_currentValue:{get:function(){return t._currentValue},set:function(f){t._currentValue=f}},_currentValue2:{get:function(){return t._currentValue2},set:function(f){t._currentValue2=f}},_threadCount:{get:function(){return t._threadCount},set:function(f){t._threadCount=f}},Consumer:{get:function(){return n||(n=!0,w("Rendering <Context.Consumer.Consumer> is not supported and will be removed in a future major release. Did you mean to render <Context.Consumer> instead?")),t.Consumer}},displayName:{get:function(){return t.displayName},set:function(f){s||(oe("Setting `displayName` on Context.Consumer has no effect. You should set it directly on the context with Context.displayName = '%s'.",f),s=!0)}}}),t.Consumer=y}return t._currentRenderer=null,t._currentRenderer2=null,t}var Fe=-1,qe=0,Je=1,zt=2;function Dt(e){if(e._status===Fe){var t=e._result,n=t();if(n.then(function(y){if(e._status===qe||e._status===Fe){var f=e;f._status=Je,f._result=y}},function(y){if(e._status===qe||e._status===Fe){var f=e;f._status=zt,f._result=y}}),e._status===Fe){var a=e;a._status=qe,a._result=n}}if(e._status===Je){var s=e._result;return s===void 0&&w(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))

Did you accidentally put curly braces around the import?`,s),"default"in s||w(`lazy: Expected the result of a dynamic import() call. Instead received: %s

Your code should look like: 
  const MyComponent = lazy(() => import('./MyComponent'))`,s),s.default}else throw e._result}function r(e){var t={_status:Fe,_result:e},n={$$typeof:ee,_payload:t,_init:Dt};{var a,s;Object.defineProperties(n,{defaultProps:{configurable:!0,get:function(){return a},set:function(y){w("React.lazy(...): It is not supported to assign `defaultProps` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),a=y,Object.defineProperty(n,"defaultProps",{enumerable:!0})}},propTypes:{configurable:!0,get:function(){return s},set:function(y){w("React.lazy(...): It is not supported to assign `propTypes` to a lazy component import. Either specify them where the component is defined, or create a wrapping component around it."),s=y,Object.defineProperty(n,"propTypes",{enumerable:!0})}}})}return n}function o(e){e!=null&&e.$$typeof===Z?w("forwardRef requires a render function but received a `memo` component. Instead of forwardRef(memo(...)), use memo(forwardRef(...))."):typeof e!="function"?w("forwardRef requires a render function but was given %s.",e===null?"null":typeof e):e.length!==0&&e.length!==2&&w("forwardRef render functions accept exactly two parameters: props and ref. %s",e.length===1?"Did you forget to use the ref parameter?":"Any additional parameter will be undefined."),e!=null&&(e.defaultProps!=null||e.propTypes!=null)&&w("forwardRef render functions do not support propTypes or defaultProps. Did you accidentally pass a React component?");var t={$$typeof:T,render:e};{var n;Object.defineProperty(t,"displayName",{enumerable:!1,configurable:!0,get:function(){return n},set:function(a){n=a,!e.name&&!e.displayName&&(e.displayName=a)}})}return t}var c;c=Symbol.for("react.module.reference");function v(e){return!!(typeof e=="string"||typeof e=="function"||e===h||e===O||se||e===m||e===z||e===q||B||e===ce||Ee||ye||ue||typeof e=="object"&&e!==null&&(e.$$typeof===ee||e.$$typeof===Z||e.$$typeof===E||e.$$typeof===k||e.$$typeof===T||e.$$typeof===c||e.getModuleId!==void 0))}function A(e,t){v(e)||w("memo: The first argument must be a component. Instead received: %s",e===null?"null":typeof e);var n={$$typeof:Z,type:e,compare:t===void 0?null:t};{var a;Object.defineProperty(n,"displayName",{enumerable:!1,configurable:!0,get:function(){return a},set:function(s){a=s,!e.name&&!e.displayName&&(e.displayName=s)}})}return n}function b(){var e=ve.current;return e===null&&w(`Invalid hook call. Hooks can only be called inside of the body of a function component. This could happen for one of the following reasons:
1. You might have mismatching versions of React and the renderer (such as React DOM)
2. You might be breaking the Rules of Hooks
3. You might have more than one copy of React in the same app
See https://reactjs.org/link/invalid-hook-call for tips about how to debug and fix this problem.`),e}function S(e){var t=b();if(e._context!==void 0){var n=e._context;n.Consumer===e?w("Calling useContext(Context.Consumer) is not supported, may cause bugs, and will be removed in a future major release. Did you mean to call useContext(Context) instead?"):n.Provider===e&&w("Calling useContext(Context.Provider) is not supported. Did you mean to call useContext(Context) instead?")}return t.useContext(e)}function C(e){var t=b();return t.useState(e)}function K(e,t,n){var a=b();return a.useReducer(e,t,n)}function N(e){var t=b();return t.useRef(e)}function L(e,t){var n=b();return n.useEffect(e,t)}function ie(e,t){var n=b();return n.useInsertionEffect(e,t)}function Pe(e,t){var n=b();return n.useLayoutEffect(e,t)}function be(e,t){var n=b();return n.useCallback(e,t)}function Q(e,t){var n=b();return n.useMemo(e,t)}function Qe(e,t,n){var a=b();return a.useImperativeHandle(e,t,n)}function It(e,t){{var n=b();return n.useDebugValue(e,t)}}function Nt(){var e=b();return e.useTransition()}function Fr(e){var t=b();return t.useDeferredValue(e)}function Ur(){var e=b();return e.useId()}function Vr(e,t,n){var a=b();return a.useSyncExternalStore(e,t,n)}var Ze=0,er,tr,rr,nr,ar,or,ir;function sr(){}sr.__reactDisabledLog=!0;function Wr(){{if(Ze===0){er=console.log,tr=console.info,rr=console.warn,nr=console.error,ar=console.group,or=console.groupCollapsed,ir=console.groupEnd;var e={configurable:!0,enumerable:!0,value:sr,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}Ze++}}function Br(){{if(Ze--,Ze===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:H({},e,{value:er}),info:H({},e,{value:tr}),warn:H({},e,{value:rr}),error:H({},e,{value:nr}),group:H({},e,{value:ar}),groupCollapsed:H({},e,{value:or}),groupEnd:H({},e,{value:ir})})}Ze<0&&w("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var $t=Y.ReactCurrentDispatcher,Mt;function dt(e,t,n){{if(Mt===void 0)try{throw Error()}catch(s){var a=s.stack.trim().match(/\n( *(at )?)/);Mt=a&&a[1]||""}return`
`+Mt+e}}var Lt=!1,pt;{var Yr=typeof WeakMap=="function"?WeakMap:Map;pt=new Yr}function lr(e,t){if(!e||Lt)return"";{var n=pt.get(e);if(n!==void 0)return n}var a;Lt=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var y;y=$t.current,$t.current=null,Wr();try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(X){a=X}Reflect.construct(e,[],f)}else{try{f.call()}catch(X){a=X}e.call(f.prototype)}}else{try{throw Error()}catch(X){a=X}e()}}catch(X){if(X&&a&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),P=a.stack.split(`
`),j=g.length-1,D=P.length-1;j>=1&&D>=0&&g[j]!==P[D];)D--;for(;j>=1&&D>=0;j--,D--)if(g[j]!==P[D]){if(j!==1||D!==1)do if(j--,D--,D<0||g[j]!==P[D]){var I=`
`+g[j].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),typeof e=="function"&&pt.set(e,I),I}while(j>=1&&D>=0);break}}}finally{Lt=!1,$t.current=y,Br(),Error.prepareStackTrace=s}var $=e?e.displayName||e.name:"",V=$?dt($):"";return typeof e=="function"&&pt.set(e,V),V}function Gr(e,t,n){return lr(e,!1)}function Hr(e){var t=e.prototype;return!!(t&&t.isReactComponent)}function ht(e,t,n){if(e==null)return"";if(typeof e=="function")return lr(e,Hr(e));if(typeof e=="string")return dt(e);switch(e){case z:return dt("Suspense");case q:return dt("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case T:return Gr(e.render);case Z:return ht(e.type,t,n);case ee:{var a=e,s=a._payload,y=a._init;try{return ht(y(s),t,n)}catch{}}}return""}var cr={},ur=Y.ReactDebugCurrentFrame;function vt(e){if(e){var t=e._owner,n=ht(e.type,e._source,t?t.type:null);ur.setExtraStackFrame(n)}else ur.setExtraStackFrame(null)}function Kr(e,t,n,a,s){{var y=Function.call.bind(Ne);for(var f in e)if(y(e,f)){var g=void 0;try{if(typeof e[f]!="function"){var P=Error((a||"React class")+": "+n+" type `"+f+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[f]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw P.name="Invariant Violation",P}g=e[f](t,f,a,n,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(j){g=j}g&&!(g instanceof Error)&&(vt(s),w("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",a||"React class",n,f,typeof g),vt(null)),g instanceof Error&&!(g.message in cr)&&(cr[g.message]=!0,vt(s),w("Failed %s type: %s",n,g.message),vt(null))}}}function He(e){if(e){var t=e._owner,n=ht(e.type,e._source,t?t.type:null);te(n)}else te(null)}var Ft;Ft=!1;function fr(){if(F.current){var e=he(F.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}function Xr(e){if(e!==void 0){var t=e.fileName.replace(/^.*[\\\/]/,""),n=e.lineNumber;return`

Check your code at `+t+":"+n+"."}return""}function qr(e){return e!=null?Xr(e.__source):""}var dr={};function Jr(e){var t=fr();if(!t){var n=typeof e=="string"?e:e.displayName||e.name;n&&(t=`

Check the top-level render call using <`+n+">.")}return t}function pr(e,t){if(!(!e._store||e._store.validated||e.key!=null)){e._store.validated=!0;var n=Jr(t);if(!dr[n]){dr[n]=!0;var a="";e&&e._owner&&e._owner!==F.current&&(a=" It was passed a child from "+he(e._owner.type)+"."),He(e),w('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',n,a),He(null)}}}function hr(e,t){if(typeof e=="object"){if(Ve(e))for(var n=0;n<e.length;n++){var a=e[n];Te(a)&&pr(a,t)}else if(Te(e))e._store&&(e._store.validated=!0);else if(e){var s=x(e);if(typeof s=="function"&&s!==e.entries)for(var y=s.call(e),f;!(f=y.next()).done;)Te(f.value)&&pr(f.value,t)}}}function vr(e){{var t=e.type;if(t==null||typeof t=="string")return;var n;if(typeof t=="function")n=t.propTypes;else if(typeof t=="object"&&(t.$$typeof===T||t.$$typeof===Z))n=t.propTypes;else return;if(n){var a=he(t);Kr(n,e.props,"prop",a,e)}else if(t.PropTypes!==void 0&&!Ft){Ft=!0;var s=he(t);w("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",s||"Unknown")}typeof t.getDefaultProps=="function"&&!t.getDefaultProps.isReactClassApproved&&w("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Qr(e){{for(var t=Object.keys(e.props),n=0;n<t.length;n++){var a=t[n];if(a!=="children"&&a!=="key"){He(e),w("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",a),He(null);break}}e.ref!==null&&(He(e),w("Invalid attribute `ref` supplied to `React.Fragment`."),He(null))}}function yr(e,t,n){var a=v(e);if(!a){var s="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(s+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var y=qr(t);y?s+=y:s+=fr();var f;e===null?f="null":Ve(e)?f="array":e!==void 0&&e.$$typeof===d?(f="<"+(he(e.type)||"Unknown")+" />",s=" Did you accidentally export a JSX literal instead of a component?"):f=typeof e,w("React.createElement: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",f,s)}var g=Tt.apply(this,arguments);if(g==null)return g;if(a)for(var P=2;P<arguments.length;P++)hr(arguments[P],e);return e===h?Qr(g):vr(g),g}var mr=!1;function Zr(e){var t=yr.bind(null,e);return t.type=e,mr||(mr=!0,oe("React.createFactory() is deprecated and will be removed in a future major release. Consider using JSX or use React.createElement() directly instead.")),Object.defineProperty(t,"type",{enumerable:!1,get:function(){return oe("Factory.type is deprecated. Access the class directly before passing it to createFactory."),Object.defineProperty(this,"type",{value:e}),e}}),t}function en(e,t,n){for(var a=Pt.apply(this,arguments),s=2;s<arguments.length;s++)hr(arguments[s],a.type);return vr(a),a}function tn(e,t){var n=ae.transition;ae.transition={};var a=ae.transition;ae.transition._updatedFibers=new Set;try{e()}finally{if(ae.transition=n,n===null&&a._updatedFibers){var s=a._updatedFibers.size;s>10&&oe("Detected a large number of updates inside startTransition. If this is due to a subscription please re-write it to use React provided hooks. Otherwise concurrent mode guarantees are off the table."),a._updatedFibers.clear()}}}var gr=!1,yt=null;function rn(e){if(yt===null)try{var t=("require"+Math.random()).slice(0,7),n=l&&l[t];yt=n.call(l,"timers").setImmediate}catch{yt=function(s){gr===!1&&(gr=!0,typeof MessageChannel>"u"&&w("This browser does not have a MessageChannel implementation, so enqueuing tasks via await act(async () => ...) will fail. Please file an issue at https://github.com/facebook/react/issues if you encounter this warning."));var y=new MessageChannel;y.port1.onmessage=s,y.port2.postMessage(void 0)}}return yt(e)}var Ke=0,br=!1;function wr(e){{var t=Ke;Ke++,M.current===null&&(M.current=[]);var n=M.isBatchingLegacy,a;try{if(M.isBatchingLegacy=!0,a=e(),!n&&M.didScheduleLegacyUpdate){var s=M.current;s!==null&&(M.didScheduleLegacyUpdate=!1,Wt(s))}}catch($){throw mt(t),$}finally{M.isBatchingLegacy=n}if(a!==null&&typeof a=="object"&&typeof a.then=="function"){var y=a,f=!1,g={then:function($,V){f=!0,y.then(function(X){mt(t),Ke===0?Ut(X,$,V):$(X)},function(X){mt(t),V(X)})}};return!br&&typeof Promise<"u"&&Promise.resolve().then(function(){}).then(function(){f||(br=!0,w("You called act(async () => ...) without await. This could lead to unexpected testing behaviour, interleaving multiple act calls and mixing their scopes. You should - await act(async () => ...);"))}),g}else{var P=a;if(mt(t),Ke===0){var j=M.current;j!==null&&(Wt(j),M.current=null);var D={then:function($,V){M.current===null?(M.current=[],Ut(P,$,V)):$(P)}};return D}else{var I={then:function($,V){$(P)}};return I}}}}function mt(e){e!==Ke-1&&w("You seem to have overlapping act() calls, this is not supported. Be sure to await previous act() calls before making a new one. "),Ke=e}function Ut(e,t,n){{var a=M.current;if(a!==null)try{Wt(a),rn(function(){a.length===0?(M.current=null,t(e)):Ut(e,t,n)})}catch(s){n(s)}else t(e)}}var Vt=!1;function Wt(e){if(!Vt){Vt=!0;var t=0;try{for(;t<e.length;t++){var n=e[t];do n=n(!0);while(n!==null)}e.length=0}catch(a){throw e=e.slice(t+1),a}finally{Vt=!1}}}var nn=yr,an=en,on=Zr,sn={map:Le,forEach:ct,count:xt,toArray:jt,only:ut};i.Children=sn,i.Component=G,i.Fragment=h,i.Profiler=O,i.PureComponent=ze,i.StrictMode=m,i.Suspense=z,i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,i.act=wr,i.cloneElement=an,i.createContext=ft,i.createElement=nn,i.createFactory=on,i.createRef=Ct,i.forwardRef=o,i.isValidElement=Te,i.lazy=r,i.memo=A,i.startTransition=tn,i.unstable_act=wr,i.useCallback=be,i.useContext=S,i.useDebugValue=It,i.useDeferredValue=Fr,i.useEffect=L,i.useId=Ur,i.useImperativeHandle=Qe,i.useInsertionEffect=ie,i.useLayoutEffect=Pe,i.useMemo=Q,i.useReducer=K,i.useRef=N,i.useState=C,i.useSyncExternalStore=Vr,i.useTransition=Nt,i.version=u,typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop=="function"&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)})()}(et,et.exports);var _r=et.exports;Gt.exports=_r;var Ue=Gt.exports;/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var l=Ue,i=Symbol.for("react.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),O=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),z=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Z=Symbol.for("react.offscreen"),ee=Symbol.iterator,ce="@@iterator";function ne(r){if(r===null||typeof r!="object")return null;var o=ee&&r[ee]||r[ce];return typeof o=="function"?o:null}var fe=l.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(r){{for(var o=arguments.length,c=new Array(o>1?o-1:0),v=1;v<o;v++)c[v-1]=arguments[v];ve("error",r,c)}}function ve(r,o,c){{var v=fe.ReactDebugCurrentFrame,A=v.getStackAddendum();A!==""&&(o+="%s",c=c.concat([A]));var b=c.map(function(S){return String(S)});b.unshift("Warning: "+o),Function.prototype.apply.call(console[r],console,b)}}var ae=!1,M=!1,F=!1,J=!1,W=!1,te;te=Symbol.for("react.module.reference");function Ee(r){return!!(typeof r=="string"||typeof r=="function"||r===d||r===h||W||r===p||r===k||r===T||J||r===Z||ae||M||F||typeof r=="object"&&r!==null&&(r.$$typeof===q||r.$$typeof===z||r.$$typeof===m||r.$$typeof===O||r.$$typeof===E||r.$$typeof===te||r.getModuleId!==void 0))}function ye(r,o,c){var v=r.displayName;if(v)return v;var A=o.displayName||o.name||"";return A!==""?c+"("+A+")":c}function ue(r){return r.displayName||"Context"}function B(r){if(r==null)return null;if(typeof r.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case d:return"Fragment";case u:return"Portal";case h:return"Profiler";case p:return"StrictMode";case k:return"Suspense";case T:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case O:var o=r;return ue(o)+".Consumer";case m:var c=r;return ue(c._context)+".Provider";case E:return ye(r,r.render,"ForwardRef");case z:var v=r.displayName||null;return v!==null?v:B(r.type)||"Memo";case q:{var A=r,b=A._payload,S=A._init;try{return B(S(b))}catch{return null}}}return null}var se=Object.assign,Y=0,oe,w,de,ke,U,pe,H;function me(){}me.__reactDisabledLog=!0;function G(){{if(Y===0){oe=console.log,w=console.info,de=console.warn,ke=console.error,U=console.group,pe=console.groupCollapsed,H=console.groupEnd;var r={configurable:!0,enumerable:!0,value:me,writable:!0};Object.defineProperties(console,{info:r,log:r,warn:r,error:r,group:r,groupCollapsed:r,groupEnd:r})}Y++}}function le(){{if(Y--,Y===0){var r={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:se({},r,{value:oe}),info:se({},r,{value:w}),warn:se({},r,{value:de}),error:se({},r,{value:ke}),group:se({},r,{value:U}),groupCollapsed:se({},r,{value:pe}),groupEnd:se({},r,{value:H})})}Y<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Oe=fe.ReactCurrentDispatcher,xe;function je(r,o,c){{if(xe===void 0)try{throw Error()}catch(A){var v=A.stack.trim().match(/\n( *(at )?)/);xe=v&&v[1]||""}return`
`+xe+r}}var ze=!1,Ce;{var Ct=typeof WeakMap=="function"?WeakMap:Map;Ce=new Ct}function tt(r,o){if(!r||ze)return"";{var c=Ce.get(r);if(c!==void 0)return c}var v;ze=!0;var A=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var b;b=Oe.current,Oe.current=null,G();try{if(o){var S=function(){throw Error()};if(Object.defineProperty(S.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(S,[])}catch(Q){v=Q}Reflect.construct(r,[],S)}else{try{S.call()}catch(Q){v=Q}r.call(S.prototype)}}else{try{throw Error()}catch(Q){v=Q}r()}}catch(Q){if(Q&&v&&typeof Q.stack=="string"){for(var C=Q.stack.split(`
`),K=v.stack.split(`
`),N=C.length-1,L=K.length-1;N>=1&&L>=0&&C[N]!==K[L];)L--;for(;N>=1&&L>=0;N--,L--)if(C[N]!==K[L]){if(N!==1||L!==1)do if(N--,L--,L<0||C[N]!==K[L]){var ie=`
`+C[N].replace(" at new "," at ");return r.displayName&&ie.includes("<anonymous>")&&(ie=ie.replace("<anonymous>",r.displayName)),typeof r=="function"&&Ce.set(r,ie),ie}while(N>=1&&L>=0);break}}}finally{ze=!1,Oe.current=b,le(),Error.prepareStackTrace=A}var Pe=r?r.displayName||r.name:"",be=Pe?je(Pe):"";return typeof r=="function"&&Ce.set(r,be),be}function Ve(r,o,c){return tt(r,!1)}function _t(r){var o=r.prototype;return!!(o&&o.isReactComponent)}function We(r,o,c){if(r==null)return"";if(typeof r=="function")return tt(r,_t(r));if(typeof r=="string")return je(r);switch(r){case k:return je("Suspense");case T:return je("SuspenseList")}if(typeof r=="object")switch(r.$$typeof){case E:return Ve(r.render);case z:return We(r.type,o,c);case q:{var v=r,A=v._payload,b=v._init;try{return We(b(A),o,c)}catch{}}}return""}var _e=Object.prototype.hasOwnProperty,De={},rt=fe.ReactDebugCurrentFrame;function Ie(r){if(r){var o=r._owner,c=We(r.type,r._source,o?o.type:null);rt.setExtraStackFrame(c)}else rt.setExtraStackFrame(null)}function he(r,o,c,v,A){{var b=Function.call.bind(_e);for(var S in r)if(b(r,S)){var C=void 0;try{if(typeof r[S]!="function"){var K=Error((v||"React class")+": "+c+" type `"+S+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof r[S]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw K.name="Invariant Violation",K}C=r[S](o,S,v,c,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(N){C=N}C&&!(C instanceof Error)&&(Ie(A),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",v||"React class",c,S,typeof C),Ie(null)),C instanceof Error&&!(C.message in De)&&(De[C.message]=!0,Ie(A),x("Failed %s type: %s",c,C.message),Ie(null))}}}var Ne=Array.isArray;function Be(r){return Ne(r)}function nt(r){{var o=typeof Symbol=="function"&&Symbol.toStringTag,c=o&&r[Symbol.toStringTag]||r.constructor.name||"Object";return c}}function at(r){try{return Ye(r),!1}catch{return!0}}function Ye(r){return""+r}function Xe(r){if(at(r))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",nt(r)),Ye(r)}var Re=fe.ReactCurrentOwner,Rt={key:!0,ref:!0,__self:!0,__source:!0},ot,it,$e;$e={};function Tt(r){if(_e.call(r,"ref")){var o=Object.getOwnPropertyDescriptor(r,"ref").get;if(o&&o.isReactWarning)return!1}return r.ref!==void 0}function St(r){if(_e.call(r,"key")){var o=Object.getOwnPropertyDescriptor(r,"key").get;if(o&&o.isReactWarning)return!1}return r.key!==void 0}function Pt(r,o){if(typeof r.ref=="string"&&Re.current&&o&&Re.current.stateNode!==o){var c=B(Re.current.type);$e[c]||(x('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',B(Re.current.type),r.ref),$e[c]=!0)}}function Te(r,o){{var c=function(){ot||(ot=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",o))};c.isReactWarning=!0,Object.defineProperty(r,"key",{get:c,configurable:!0})}}function st(r,o){{var c=function(){it||(it=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",o))};c.isReactWarning=!0,Object.defineProperty(r,"ref",{get:c,configurable:!0})}}var At=function(r,o,c,v,A,b,S){var C={$$typeof:i,type:r,key:o,ref:c,props:S,_owner:b};return C._store={},Object.defineProperty(C._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(C,"_self",{configurable:!1,enumerable:!1,writable:!1,value:v}),Object.defineProperty(C,"_source",{configurable:!1,enumerable:!1,writable:!1,value:A}),Object.freeze&&(Object.freeze(C.props),Object.freeze(C)),C};function Ot(r,o,c,v,A){{var b,S={},C=null,K=null;c!==void 0&&(Xe(c),C=""+c),St(o)&&(Xe(o.key),C=""+o.key),Tt(o)&&(K=o.ref,Pt(o,A));for(b in o)_e.call(o,b)&&!Rt.hasOwnProperty(b)&&(S[b]=o[b]);if(r&&r.defaultProps){var N=r.defaultProps;for(b in N)S[b]===void 0&&(S[b]=N[b])}if(C||K){var L=typeof r=="function"?r.displayName||r.name||"Unknown":r;C&&Te(S,L),K&&st(S,L)}return At(r,C,K,A,v,Re.current,S)}}var Ge=fe.ReactCurrentOwner,lt=fe.ReactDebugCurrentFrame;function ge(r){if(r){var o=r._owner,c=We(r.type,r._source,o?o.type:null);lt.setExtraStackFrame(c)}else lt.setExtraStackFrame(null)}var Me;Me=!1;function Se(r){return typeof r=="object"&&r!==null&&r.$$typeof===i}function Le(){{if(Ge.current){var r=B(Ge.current.type);if(r)return`

Check the render method of \``+r+"`."}return""}}function xt(r){{if(r!==void 0){var o=r.fileName.replace(/^.*[\\\/]/,""),c=r.lineNumber;return`

Check your code at `+o+":"+c+"."}return""}}var ct={};function jt(r){{var o=Le();if(!o){var c=typeof r=="string"?r:r.displayName||r.name;c&&(o=`

Check the top-level render call using <`+c+">.")}return o}}function ut(r,o){{if(!r._store||r._store.validated||r.key!=null)return;r._store.validated=!0;var c=jt(o);if(ct[c])return;ct[c]=!0;var v="";r&&r._owner&&r._owner!==Ge.current&&(v=" It was passed a child from "+B(r._owner.type)+"."),ge(r),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',c,v),ge(null)}}function ft(r,o){{if(typeof r!="object")return;if(Be(r))for(var c=0;c<r.length;c++){var v=r[c];Se(v)&&ut(v,o)}else if(Se(r))r._store&&(r._store.validated=!0);else if(r){var A=ne(r);if(typeof A=="function"&&A!==r.entries)for(var b=A.call(r),S;!(S=b.next()).done;)Se(S.value)&&ut(S.value,o)}}}function Fe(r){{var o=r.type;if(o==null||typeof o=="string")return;var c;if(typeof o=="function")c=o.propTypes;else if(typeof o=="object"&&(o.$$typeof===E||o.$$typeof===z))c=o.propTypes;else return;if(c){var v=B(o);he(c,r.props,"prop",v,r)}else if(o.PropTypes!==void 0&&!Me){Me=!0;var A=B(o);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",A||"Unknown")}typeof o.getDefaultProps=="function"&&!o.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function qe(r){{for(var o=Object.keys(r.props),c=0;c<o.length;c++){var v=o[c];if(v!=="children"&&v!=="key"){ge(r),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",v),ge(null);break}}r.ref!==null&&(ge(r),x("Invalid attribute `ref` supplied to `React.Fragment`."),ge(null))}}var Je={};function zt(r,o,c,v,A,b){{var S=Ee(r);if(!S){var C="";(r===void 0||typeof r=="object"&&r!==null&&Object.keys(r).length===0)&&(C+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var K=xt(A);K?C+=K:C+=Le();var N;r===null?N="null":Be(r)?N="array":r!==void 0&&r.$$typeof===i?(N="<"+(B(r.type)||"Unknown")+" />",C=" Did you accidentally export a JSX literal instead of a component?"):N=typeof r,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",N,C)}var L=Ot(r,o,c,A,b);if(L==null)return L;if(S){var ie=o.children;if(ie!==void 0)if(v)if(Be(ie)){for(var Pe=0;Pe<ie.length;Pe++)ft(ie[Pe],r);Object.freeze&&Object.freeze(ie)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else ft(ie,r)}if(_e.call(o,"key")){var be=B(r),Q=Object.keys(o).filter(function(Nt){return Nt!=="key"}),Qe=Q.length>0?"{key: someKey, "+Q.join(": ..., ")+": ...}":"{key: someKey}";if(!Je[be+Qe]){var It=Q.length>0?"{"+Q.join(": ..., ")+": ...}":"{}";x(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Qe,be,It,be),Je[be+Qe]=!0}}return r===d?qe(L):Fe(L),L}}var Dt=zt;wt.Fragment=d,wt.jsxDEV=Dt})(),Yt.exports=wt;var re=Yt.exports;/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rr=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ht=(...l)=>l.filter((i,u,d)=>!!i&&d.indexOf(i)===u).join(" ");/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=Ue.forwardRef(({color:l="currentColor",size:i=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:p="",children:h,iconNode:m,...O},E)=>Ue.createElement("svg",{ref:E,...Tr,width:i,height:i,stroke:l,strokeWidth:d?Number(u)*24/Number(i):u,className:Ht("lucide",p),...O},[...m.map(([k,T])=>Ue.createElement(k,T)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(l,i)=>{const u=Ue.forwardRef(({className:d,...p},h)=>Ue.createElement(Sr,{ref:h,iconNode:i,className:Ht(`lucide-${Rr(l)}`,d),...p}));return u.displayName=`${l}`,u};/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=we("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=we("MessageSquareQuote",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M8 12a2 2 0 0 0 2-2V8H8",key:"1jfesj"}],["path",{d:"M14 12a2 2 0 0 0 2-2V8h-2",key:"1dq9mh"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=we("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=we("ShieldAlert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=we("ShieldCheck",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dr=we("ShieldQuestion",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3",key:"mhlwft"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),R={age:{y:-10,vy:-20,m:10,vm:20,unknown:-2},ssl:{v:10,e:-18,p:-18,h:-22,es:-4,unknown:-5},bl:{l:-30,c:6,multiple:-10},ipInUrl:-15,urlAi:{ph90:-5,ph70:-3,ph50:-1,lh90:5,lh70:3,error:-2,neutral:0},contentAi:{phChunkHighConf:-8,phChunkMedConf:-4,phChunkLowConf:-2,manyPhishingChunksPenalty:-10,noProblemDetected:5,noContentOrError:-1},whoisPrivacy:{enabled:-2,explicitProblem:-5},dnsMx:{missingForShop:-5,presentForShop:2,notApplicable:0}},Ir=l=>l<30?`${l} dni`:l<365?`${Math.floor(l/30)} mies.`:`${Math.floor(l/365)} lat`;function Xt(l,i){if(!(l!=null&&l.analysis))return console.warn("[ScoreCalc] No analysis data provided for score calculation."),{score:null,explanations:[]};const u=l.analysis,d=l.urlTextAnalysis,p=l.pageContentAnalyses;let h=50;const m=[],O=100,E=0;console.log("[ScoreCalc] Starting calculation. Initial score:",h,"for URL:",i),console.log("[ScoreCalc] DomainAnalysisDetails:",JSON.parse(JSON.stringify(u))),console.log("[ScoreCalc] UrlTextAnalysis:",JSON.parse(JSON.stringify(d||{}))),console.log("[ScoreCalc] PageContentAnalyses:",JSON.parse(JSON.stringify(p||[])));const k=u.domain_actual_age_days;let T="neutral",z="0 pkt",q="N/A";k!==null&&typeof k<"u"?(q=Ir(k),k<30?(h+=R.age.vy,T="negative",z=`${R.age.vy} pkt`):k<180?(h+=R.age.y,T="negative",z=`${R.age.y} pkt`):k>=730?(h+=R.age.vm,T="positive",z=`+${R.age.vm} pkt`):k>=365&&(h+=R.age.m,T="positive",z=`+${R.age.m} pkt`)):(h+=R.age.unknown,T="info",z=`${R.age.unknown} pkt (brak danych)`),m.push({id:"age",icon:Pr,label:"Wiek domeny",valueText:q,impact:T,scoreEffect:z,details:"Starsze domeny są generalnie bardziej wiarygodne.",longDesc:"Nowo zarejestrowane domeny są często wykorzystywane w kampaniach phishingowych..."});let Z="negative",ee="Strona nie używa szyfrowania HTTPS.",ce="Brak (HTTP)",ne=R.ssl.h;if(u.parsed_url_scheme==="https")if(ne=0,u.ssl_info&&u.ssl_info.not_after){const U=new Date(u.ssl_info.not_after),pe=new Date,H=(U.getTime()-pe.getTime())/(1e3*3600*24);H>0?(ne=R.ssl.v,Z="positive",ce="Ważny",ee=`Połączenie szyfrowane. Certyfikat ważny do: ${U.toLocaleDateString()}.`,H<30&&(ne+=R.ssl.es,ce=re.jsxDEV("span",{className:"text-yellow-600 font-semibold",children:"Wygasa wkrótce!"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:135,columnNumber:13},this),ee+=" Certyfikat wygasa za mniej niż 30 dni.")):(ne=R.ssl.e,Z="negative",ce="Wygasł",ee=`Certyfikat SSL wygasł: ${U.toLocaleDateString()}.`)}else ne=R.ssl.p,Z="negative",ce="Problem (HTTPS)",ee="Strona używa HTTPS, ale wystąpił problem z weryfikacją certyfikatu...";else u.ssl_info===null&&u.parsed_url_scheme!=="https"?(Z="negative",ce="Brak (HTTP)",ee="Strona nie używa szyfrowania HTTPS (HTTP)."):(ne=R.ssl.unknown,Z="info",ce="N/A (SSL)",ee="Nie udało się jednoznacznie zweryfikować statusu SSL.");h+=ne;const fe=`${ne>0?"+":""}${ne} pkt`;m.push({id:"ssl",icon:Ar,label:"Szyfrowanie (SSL)",valueText:ce,impact:Z,details:ee,scoreEffect:fe,longDesc:"Certyfikat SSL zapewnia szyfrowanie danych przesyłanych między Tobą a stroną..."});let x=0,ve="Niedostępna",ae="neutral",M="Analiza AI adresu URL nie została przeprowadzona lub jest niedostępna.";d===null?(x=R.urlAi.error,ve=re.jsxDEV("span",{className:"text-red-500",children:"Błąd analizy"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:190,columnNumber:15},this),ae="negative",M="Nie udało się przeprowadzić analizy AI dla tego URL z powodu błędu."):d?(ve=`${d.label} (${(d.confidence*100).toFixed(0)}%)`,M=`Model AI ocenił URL jako ${d.label.toLowerCase()} z ${(d.confidence*100).toFixed(0)}% pewnością.`,d.is_phishing?(ae="negative",d.confidence>=.9?x=R.urlAi.ph90:d.confidence>=.7?x=R.urlAi.ph70:x=R.urlAi.ph50):(ae=d.confidence>=.9?"positive":"neutral",x=d.confidence>=.9?R.urlAi.lh90:d.confidence>=.7?R.urlAi.lh70:R.urlAi.neutral)):(ve=re.jsxDEV("span",{className:"text-gray-500",children:"N/A (URL AI)"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:216,columnNumber:15},this),ae="neutral",M="Analiza AI adresu URL nie została jeszcze przeprowadzona lub dane nie są dostępne."),m.push({id:"aiUrl",icon:Dr,label:"Analiza AI URL",valueText:ve,impact:ae,scoreEffect:`${x>0?"+":""}${x} pkt`,details:M,longDesc:"Sztuczna inteligencja analizuje strukturę i komponenty adresu URL..."}),h+=x;let F="N/A",J="neutral",W=0,te="Analiza treści strony nie została przeprowadzona lub brakło tekstu.",Ee="Analiza treści strony wyszukuje fragmenty mogące wskazywać na oszustwo...";const ye=[];if(p===null)F=re.jsxDEV("span",{className:"text-red-500",children:"Błąd analizy treści"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:245,columnNumber:13},this),J="negative",W=R.contentAi.noContentOrError,te="Wystąpił błąd podczas próby analizy treści strony.";else if(p&&p.length>0){let U=0,pe=!1,H=!1,me=!1;if(p.forEach(G=>{G.is_phishing&&(U++,G.confidence>=.9?pe=!0:G.confidence>=.7?H=!0:G.confidence>=.5&&(me=!0),ye.push({label:G.label,conf:G.confidence,chunk:G.originalChunk}))}),U>0?(pe?(W=R.contentAi.phChunkHighConf,J="negative",F=re.jsxDEV("span",{className:"text-red-500 font-semibold",children:"Podejrzane Treści!"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:274,columnNumber:11},this),te=`Wykryto fragmenty treści o wysokim prawdopodobieństwie phishingu (${U}/${p.length}).`):H?(W=R.contentAi.phChunkMedConf,J="negative",F="Podejrzane fragmenty",te=`Wykryto ${U} z ${p.length} fragmentów jako potencjalnie phishingowe.`):me&&(W=R.contentAi.phChunkLowConf,J="negative",F="Niejednoznaczne fragmenty",te=`Wykryto ${U} z ${p.length} fragmentów jako potencjalnie phishingowe.`),U>=3&&(W+=R.contentAi.manyPhishingChunksPenalty,te+=" Znaleziono wiele podejrzanych fragmentów."),W=Math.max(W,-10)):(W=R.contentAi.noProblemDetected,J="positive",F="Treść OK",te=`Analiza treści (${p.length} fragmentów) nie wykazała znamion phishingu.`),ye.length>0){const G=ye.slice(0,3).map((le,Oe)=>re.jsxDEV("li",{title:le.chunk,className:"mb-1",children:[re.jsxDEV("span",{className:`font-semibold ${le.label==="PHISHING"?"text-red-600":"text-gray-700"}`,children:['"',le.chunk.substring(0,50),'..."']},void 0,!0,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:312,columnNumber:11},this),re.jsxDEV("span",{className:"text-gray-500 ml-1",children:["(",le.label," ",(le.conf*100).toFixed(0),"%)"]},void 0,!0,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:319,columnNumber:11},this)]},`chunk-${Oe}-${le.chunk.slice(0,5)}`,!0,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:307,columnNumber:9},this));Ee=re.jsxDEV("div",{children:[re.jsxDEV("p",{children:typeof Ee=="string"?Ee:"Szczegóły analizy treści:"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:326,columnNumber:11},this),re.jsxDEV("p",{className:"mt-2 font-semibold",children:"Podejrzane fragmenty:"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:331,columnNumber:11},this),re.jsxDEV("ul",{className:"list-disc pl-5 max-h-24 overflow-y-auto text-xs custom-scrollbar",children:G},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:332,columnNumber:11},this),ye.length>3&&re.jsxDEV("p",{className:"text-xs mt-1",children:["...i ",ye.length-3," więcej."]},void 0,!0,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:336,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:325,columnNumber:9},this)}}else p&&p.length===0?(W=R.contentAi.noContentOrError,J="info",F="Brak tekstu do analizy",te="Nie znaleziono wystarczającej ilości tekstu na stronie do przeprowadzenia pełnej analizy treści."):(F=re.jsxDEV("span",{className:"text-gray-500",children:"N/A (treść)"},void 0,!1,{fileName:"C:/Users/zieba/Desktop/stuff/IsThisPhishy-addon/src/popup/services/scoreCalculator.tsx",lineNumber:348,columnNumber:13},this),J="neutral",te="Analiza treści strony nie została jeszcze przeprowadzona lub dane nie są dostępne.");h+=W,m.push({id:"contentAi",icon:xr,label:"Analiza AI treści",valueText:F,impact:J,scoreEffect:`${W>0?"+":""}${W} pkt`,details:te,longDesc:Ee});let ue=0;const B=[];u.blacklist_checks&&u.blacklist_checks.forEach(U=>{U.is_listed&&B.push(U.source)}),B.length>0?(ue=R.bl.l,B.length>1&&(ue+=R.bl.multiple*(B.length-1)),m.push({id:"blacklist",icon:jr,label:"Listy zagrożeń",valueText:`Na listach: ${B.join(", ")}`,impact:"negative",scoreEffect:`${ue} pkt`,details:`Znalezienie domeny/URL na publicznych listach zagrożeń (${B.join(", ")}) jest silnym sygnałem ostrzegawczym.`,longDesc:"Listy te są kompilowane przez organizacje bezpieczeństwa w celu śledzenia złośliwych witryn internetowych."})):(ue=R.bl.c,m.push({id:"blacklist",icon:zr,label:"Listy zagrożeń",valueText:"Czysto",impact:"positive",scoreEffect:`+${ue} pkt`,details:"Nie znaleziono na znanych listach zagrożeń (m.in. PhishTank, CERT.PL, OpenPhish, Google Safe Browsing).",longDesc:"Brak wpisów na głównych listach zagrożeń to dobry znak, wskazujący, że strona nie została publicznie oznaczona jako złośliwa."})),h+=ue;let se=0;u.is_ip_address_in_url?(se=R.ipInUrl,m.push({id:"ipInUrl",icon:Kt,label:"Adres IP w URL",valueText:"Tak",impact:"negative",scoreEffect:`${se} pkt`,details:"Używanie adresu IP zamiast nazwy domenowej jest częstą taktyką w phishingu.",longDesc:"Legalne strony rzadko używają adresów IP bezpośrednio w linkach..."})):m.push({id:"ipInUrl",icon:Kt,label:"Adres IP w URL",valueText:"Nie",impact:"positive",details:"URL używa standardowej nazwy domenowej.",scoreEffect:"+0 pkt"}),h+=se;let Y=0,oe="N/A",w="neutral",de="Brak danych o rekordach MX.";u.dns_records&&u.dns_records.MX?u.dns_records.MX.length===0?(Y=R.dnsMx.missingForShop,oe="Brak",w="negative",de="Brak rekordów MX dla domeny."):(Y=R.dnsMx.presentForShop,oe="Obecne",w="positive",de="Rekordy MX obecne dla domeny."):(Y=R.dnsMx.notApplicable,oe="Nie dotyczy",de="Brak danych o rekordach MX."),h+=Y,m.push({id:"dnsMx",icon:Or,label:"Rekordy MX",valueText:oe,impact:w,scoreEffect:`${Y>0?"+":""}${Y} pkt`,details:de,longDesc:"Rekordy MX wskazują serwery pocztowe dla domeny..."});const ke=Math.max(E,Math.min(O,Math.round(h)));return console.log(`[ScoreCalc] Final calculated score: ${ke} (raw score before clamp: ${h})`),{score:ke,explanations:m}}const qt={"Grupa A (Phishing)":["http://en-suites.pages.dev/","https://linea-claim.com/","http://backingarena.bet","https://finance-ocean.org/","https://fch715.icu/update/#/","https://wlfilibertyfinances.xyz/","https://www.bcmt-tech.com/","https://www.caixaindeniza.sbs/","https://serasabr.org/","https://vncp-etax.com/","https://confira-verificacao.com/inicio"],"Grupa B (Legitimate)":["https://www.mbank.pl/","https://www.pkobp.pl/","https://www.ing.pl/","https://www.pekao.com.pl/","https://www.aliorbank.pl/","https://www.amazon.pl/","https://allegro.pl/","https://www.euro.com.pl/","https://www.agatameble.pl/","https://www.ikea.com/pl/pl/","https://www.onet.pl/","https://www.interia.pl/","https://x.com/home","https://tvn24.pl/","https://wiadomosci.wp.pl/","https://www.gov.pl/","https://www.ue.katowice.pl/","https://www.biznes.gov.pl/pl","https://www.podatki.gov.pl/","https://internet.gov.pl/"],"Grupa C (Suspicious/Phishing)":["https://parfumuri-top.ro/","https://collab.land/","https://allocation-maple.com/","https://keeta-claim.com/","https://lido-stake.app/","https://radleyfinance.com/","https://dqpazclw.shop/","https://laborx.com","https://rewards-blockstreet.com/","https://plantaprolamsa.com/","https://iowastep.org/"]};function Nr(l,i=25e3){return new Promise(async(u,d)=>{let p,h=null;const m=(E,k)=>{var T;((T=k.tab)==null?void 0:T.id)===p&&E.action==="analyzePageContent"&&(console.log(`[TestRunner] Received content for ${l}`),O(),u(E.contentChunks||[]))},O=()=>{h&&clearTimeout(h),chrome.runtime.onMessage.removeListener(m),p&&chrome.tabs.remove(p).catch(()=>{})};h=setTimeout(()=>{console.warn(`[TestRunner] Timeout waiting for content from ${l}`),O(),u([])},i),chrome.runtime.onMessage.addListener(m);try{if(p=(await chrome.tabs.create({url:l,active:!1})).id,!p)throw new Error("Failed to create tab.")}catch(E){console.error(`[TestRunner] Failed to create tab for ${l}:`,E),O(),d(E)}})}function $r(l,i,u,d){let p=`URL: ${l}
`;return p+=`FINAL SCORE: ${u??"N/A"}
`,p+=`----------------------------------------
`,i.error&&(p+=`Analysis Error: ${i.error}
`),d.forEach(h=>{const m=typeof h.valueText=="string"?h.valueText:"[UI Element]";p+=`[${h.impact.padEnd(8)}] ${h.label.padEnd(20)} | Value: ${m.padEnd(25)} | Effect: ${h.scoreEffect||"0 pkt"}
`,p+=`   Details: ${h.details}

`}),p+=`========================================

`,p}function Mr(){console.log("Running instant download test...");const l=`Download test initiated at: ${new Date().toISOString()}

If you see this, the download functionality is working.`,i="data:text/plain;charset=utf-8,"+encodeURIComponent(l);chrome.downloads.download({url:i,filename:"IsThisPhishy-Download-Test.txt"})}async function Lr(){console.log("Starting automated tests with FULL CONTENT ANALYSIS..."),console.warn("This will be slow and will open/close many tabs in the background.");let l=`IsThisPhishy Automated Full Test Report - ${new Date().toISOString()}

`;const i={};for(const m in qt){console.log(`--- Processing ${m} ---`),l+=`

########## ${m} ##########

`;const O=qt[m];i[m]=[];for(const E of O)try{console.log(`[TestRunner] Analyzing URL: ${E}`);const k=await Nr(E),T=await kt(E,k),{score:z,explanations:q}=Xt(T,E);l+=$r(E,T,z,q),i[m].push({url:E,score:z,explanations:q})}catch(k){console.error(`[TestRunner] Critical failure for URL ${E}:`,k);const T=`CRITICAL ERROR: ${k.message}`;l+=`URL: ${E}
${T}
========================================

`,i[m].push({url:E,score:null,explanations:[{details:T}]})}}console.log("--- All tests complete! Generating summary... ---");let u=`


`;u+=`###################################
`,u+=`###        TEST SUMMARY         ###
`,u+=`###################################

`,u+=`--- Average Scores by Group ---
`;for(const m in i){const E=i[m].map(k=>k.score).filter(k=>k!==null);if(E.length>0){const k=E.reduce((T,z)=>T+z,0)/E.length;u+=`${m.padEnd(30)}: ${k.toFixed(2)}
`}else u+=`${m.padEnd(30)}: N/A (no valid scores)
`}u+=`

--- CSV Data for Charting (URL | Score | Group) ---
`,u+=`URL|Score|Group
`;for(const m in i)i[m].forEach(O=>{u+=`${O.url}|${O.score??"ERROR"}|${m}
`});u+=`

--- Advanced CSV Data for Detailed Analysis ---
`;const d=new Set(["URL","Final_Score","Group"]);Object.values(i).flat().forEach(m=>{m.explanations.forEach(O=>d.add(O.label.replace(/\s+/g,"_")))});const p=Array.from(d).join("|");u+=p+`
`;for(const m in i)i[m].forEach(O=>{const E={URL:O.url,Final_Score:O.score??"ERROR",Group:m};O.explanations.forEach(T=>{const z=T.label.replace(/\s+/g,"_"),q=T.scoreEffect?parseInt(T.scoreEffect.replace(" pkt","").replace("+","")):0;E[z]=isNaN(q)?0:q});const k=Array.from(d).map(T=>E[T]??0).join("|");u+=k+`
`});l+=u;const h="data:text/plain;charset=utf-8,"+encodeURIComponent(l);chrome.downloads.download({url:h,filename:"IsThisPhishy-Full-Test-Report.txt"})}const Jt="http://127.0.0.1:8000/api/v1",Et=l=>{try{return new URL(l).hostname.replace(/^www\./,"")}catch{return""}},Ae=(l,i="#777777")=>{try{chrome.action.setBadgeText({text:l}),chrome.action.setBadgeBackgroundColor({color:i})}catch(u){console.warn("[BG] Failed to update badge.",u)}},Qt=(l,i)=>{if(!l)return;const{score:u}=Xt(l,i);if(u!==null){let d="#10B981";u<40?d="#EF4444":u<70&&(d="#F59E0B"),Ae(u.toString(),d)}else l.error?Ae("!","#EF4444"):Ae("?","#777777")},Zt=async l=>{try{const i=await fetch(`${Jt}/check_phishing_text`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text_to_analyze:l})});return i.ok?await i.json():null}catch(i){return console.error("[BG] fetchTextAnalysis Network Error:",i),null}},kt=async(l,i=[])=>{const u=Et(l);if(!u)return{error:"Invalid domain",lastChecked:Date.now()};Ae("...","#F59E0B");try{const[d,p]=await Promise.all([fetch(`${Jt}/analyze_domain_details`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:l})}),Zt(l)]);if(!d.ok)return{error:"API Error (domain details)",lastChecked:Date.now()};const h=await d.json();if(console.log(h),h.error)return{error:h.error,lastChecked:Date.now()};let m=[];if(i.length>0){const E=i.map(async(k,T)=>{const z=await Zt(k);return z?{...z,chunkIndex:T,originalChunk:k.substring(0,100)+"..."}:null});m=(await Promise.all(E)).filter(k=>k!==null)}const O={analysis:h,urlTextAnalysis:p,pageContentAnalyses:m,lastChecked:Date.now()};return chrome.storage.local.set({[u]:O}),Qt(O,l),O}catch(d){const p=d instanceof Error?d.message:String(d);return Ae("!","#EF4444"),{error:`Network/Parsing error: ${p}`,lastChecked:Date.now()}}};return chrome.runtime.onMessage.addListener((l,i,u)=>{var d;if(l.action==="analyzePageContent")return console.log(`[BG] Received content for analysis from ${l.url}`),kt(l.url,l.contentChunks).then(p=>{chrome.runtime.sendMessage({action:"analysisUpdated",domain:Et(l.url),data:p,forUrl:l.url}).catch(()=>{}),u({success:!0})}).catch(p=>u({success:!1,error:p.message})),!0;if(l.action==="requestAnalysisForCurrentTab"){const p=l.url,h=l.tabId||((d=i.tab)==null?void 0:d.id);return p&&h?(console.log(`[BG] Manual refresh requested for ${p} on tab ${h}`),Ae("...","#F59E0B"),chrome.tabs.sendMessage(h,{action:"getTextContentFromPage"}),u({status:"refresh_triggered"})):u({error:"No active tab/URL to refresh."}),!0}return!1}),chrome.tabs.onActivated.addListener(async l=>{chrome.tabs.get(l.tabId,i=>{if(i.url){const u=Et(i.url);chrome.storage.local.get(u,d=>{const p=d[u];p?(console.log(`[BG] onActivated: Found cached data for ${u}`),Qt(p,i.url)):Ae("","#777777")})}})}),chrome.runtime.onInstalled.addListener(async l=>{if(l.reason==="install"||l.reason==="update"){console.log("[BG] Extension installed/updated. Injecting content scripts into existing tabs.");const i=await chrome.tabs.query({url:["http://*/*","https://*/*"],status:"complete"});for(const u of i)if(u.id)try{await chrome.scripting.executeScript({target:{tabId:u.id},files:["src/content/content.js"]}),console.log(`[BG] Injected content script into tab ${u.id}`)}catch(d){console.warn(`[BG] Failed to inject script into tab ${u.id}:`,d)}}}),globalThis.runExtensionTests=Lr,globalThis.runExtensionDownloadTest=Mr,console.log("[BG] Background script loaded and listeners attached (v1.2.1)."),bt.performFullAnalysis=kt,Object.defineProperty(bt,Symbol.toStringTag,{value:"Module"}),bt}({});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmFja2dyb3VuZC5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9yZWFjdC9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3JlYWN0L2pzeC1kZXYtcnVudGltZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vc2hhcmVkL3NyYy91dGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vZGVmYXVsdEF0dHJpYnV0ZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL0ljb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2NyZWF0ZUx1Y2lkZUljb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2NhbGVuZGFyLWRheXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL2xvY2suanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL21haWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL21lc3NhZ2Utc3F1YXJlLXF1b3RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9uZXR3b3JrLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2x1Y2lkZS1yZWFjdC9kaXN0L2VzbS9pY29ucy9zaGllbGQtYWxlcnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbHVjaWRlLXJlYWN0L2Rpc3QvZXNtL2ljb25zL3NoaWVsZC1jaGVjay5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9sdWNpZGUtcmVhY3QvZGlzdC9lc20vaWNvbnMvc2hpZWxkLXF1ZXN0aW9uLmpzIiwiLi4vLi4vLi4vc3JjL3BvcHVwL2NvbnN0cy9zY29yZVBvaW50cy50cyIsIi4uLy4uLy4uL3NyYy9wb3B1cC9zZXJ2aWNlcy9zY29yZUNhbGN1bGF0b3IudHN4IiwiLi4vLi4vLi4vc3JjL2JhY2tncm91bmQvdGVzdFJ1bm5lci50cyIsIi4uLy4uLy4uL3NyYy9iYWNrZ3JvdW5kL2JhY2tncm91bmQudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QuZGV2ZWxvcG1lbnQuanNcbiAqXG4gKiBDb3B5cmlnaHQgKGMpIEZhY2Vib29rLCBJbmMuIGFuZCBpdHMgYWZmaWxpYXRlcy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgKGZ1bmN0aW9uKCkge1xuXG4gICAgICAgICAgJ3VzZSBzdHJpY3QnO1xuXG4vKiBnbG9iYWwgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICovXG5pZiAoXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18gIT09ICd1bmRlZmluZWQnICYmXG4gIHR5cGVvZiBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0ID09PVxuICAgICdmdW5jdGlvbidcbikge1xuICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0YXJ0KG5ldyBFcnJvcigpKTtcbn1cbiAgICAgICAgICB2YXIgUmVhY3RWZXJzaW9uID0gJzE4LjMuMSc7XG5cbi8vIEFUVEVOVElPTlxuLy8gV2hlbiBhZGRpbmcgbmV3IHN5bWJvbHMgdG8gdGhpcyBmaWxlLFxuLy8gUGxlYXNlIGNvbnNpZGVyIGFsc28gYWRkaW5nIHRvICdyZWFjdC1kZXZ0b29scy1zaGFyZWQvc3JjL2JhY2tlbmQvUmVhY3RTeW1ib2xzJ1xuLy8gVGhlIFN5bWJvbCB1c2VkIHRvIHRhZyB0aGUgUmVhY3RFbGVtZW50LWxpa2UgdHlwZXMuXG52YXIgUkVBQ1RfRUxFTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpO1xudmFyIFJFQUNUX1BPUlRBTF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucG9ydGFsJyk7XG52YXIgUkVBQ1RfRlJBR01FTlRfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmZyYWdtZW50Jyk7XG52YXIgUkVBQ1RfU1RSSUNUX01PREVfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN0cmljdF9tb2RlJyk7XG52YXIgUkVBQ1RfUFJPRklMRVJfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnByb2ZpbGVyJyk7XG52YXIgUkVBQ1RfUFJPVklERVJfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnByb3ZpZGVyJyk7XG52YXIgUkVBQ1RfQ09OVEVYVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuY29udGV4dCcpO1xudmFyIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5mb3J3YXJkX3JlZicpO1xudmFyIFJFQUNUX1NVU1BFTlNFX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5zdXNwZW5zZScpO1xudmFyIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlX2xpc3QnKTtcbnZhciBSRUFDVF9NRU1PX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5tZW1vJyk7XG52YXIgUkVBQ1RfTEFaWV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QubGF6eScpO1xudmFyIFJFQUNUX09GRlNDUkVFTl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Qub2Zmc2NyZWVuJyk7XG52YXIgTUFZQkVfSVRFUkFUT1JfU1lNQk9MID0gU3ltYm9sLml0ZXJhdG9yO1xudmFyIEZBVVhfSVRFUkFUT1JfU1lNQk9MID0gJ0BAaXRlcmF0b3InO1xuZnVuY3Rpb24gZ2V0SXRlcmF0b3JGbihtYXliZUl0ZXJhYmxlKSB7XG4gIGlmIChtYXliZUl0ZXJhYmxlID09PSBudWxsIHx8IHR5cGVvZiBtYXliZUl0ZXJhYmxlICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgdmFyIG1heWJlSXRlcmF0b3IgPSBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgJiYgbWF5YmVJdGVyYWJsZVtNQVlCRV9JVEVSQVRPUl9TWU1CT0xdIHx8IG1heWJlSXRlcmFibGVbRkFVWF9JVEVSQVRPUl9TWU1CT0xdO1xuXG4gIGlmICh0eXBlb2YgbWF5YmVJdGVyYXRvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBtYXliZUl0ZXJhdG9yO1xuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgZGlzcGF0Y2hlci5cbiAqL1xudmFyIFJlYWN0Q3VycmVudERpc3BhdGNoZXIgPSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxufTtcblxuLyoqXG4gKiBLZWVwcyB0cmFjayBvZiB0aGUgY3VycmVudCBiYXRjaCdzIGNvbmZpZ3VyYXRpb24gc3VjaCBhcyBob3cgbG9uZyBhbiB1cGRhdGVcbiAqIHNob3VsZCBzdXNwZW5kIGZvciBpZiBpdCBuZWVkcyB0by5cbiAqL1xudmFyIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnID0ge1xuICB0cmFuc2l0aW9uOiBudWxsXG59O1xuXG52YXIgUmVhY3RDdXJyZW50QWN0UXVldWUgPSB7XG4gIGN1cnJlbnQ6IG51bGwsXG4gIC8vIFVzZWQgdG8gcmVwcm9kdWNlIGJlaGF2aW9yIG9mIGBiYXRjaGVkVXBkYXRlc2AgaW4gbGVnYWN5IG1vZGUuXG4gIGlzQmF0Y2hpbmdMZWdhY3k6IGZhbHNlLFxuICBkaWRTY2hlZHVsZUxlZ2FjeVVwZGF0ZTogZmFsc2Vcbn07XG5cbi8qKlxuICogS2VlcHMgdHJhY2sgb2YgdGhlIGN1cnJlbnQgb3duZXIuXG4gKlxuICogVGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIGNvbXBvbmVudCB3aG8gc2hvdWxkIG93biBhbnkgY29tcG9uZW50cyB0aGF0IGFyZVxuICogY3VycmVudGx5IGJlaW5nIGNvbnN0cnVjdGVkLlxuICovXG52YXIgUmVhY3RDdXJyZW50T3duZXIgPSB7XG4gIC8qKlxuICAgKiBAaW50ZXJuYWxcbiAgICogQHR5cGUge1JlYWN0Q29tcG9uZW50fVxuICAgKi9cbiAgY3VycmVudDogbnVsbFxufTtcblxudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSB7fTtcbnZhciBjdXJyZW50RXh0cmFTdGFja0ZyYW1lID0gbnVsbDtcbmZ1bmN0aW9uIHNldEV4dHJhU3RhY2tGcmFtZShzdGFjaykge1xuICB7XG4gICAgY3VycmVudEV4dHJhU3RhY2tGcmFtZSA9IHN0YWNrO1xuICB9XG59XG5cbntcbiAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUgPSBmdW5jdGlvbiAoc3RhY2spIHtcbiAgICB7XG4gICAgICBjdXJyZW50RXh0cmFTdGFja0ZyYW1lID0gc3RhY2s7XG4gICAgfVxuICB9OyAvLyBTdGFjayBpbXBsZW1lbnRhdGlvbiBpbmplY3RlZCBieSB0aGUgY3VycmVudCByZW5kZXJlci5cblxuXG4gIFJlYWN0RGVidWdDdXJyZW50RnJhbWUuZ2V0Q3VycmVudFN0YWNrID0gbnVsbDtcblxuICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0YWNrID0gJyc7IC8vIEFkZCBhbiBleHRyYSB0b3AgZnJhbWUgd2hpbGUgYW4gZWxlbWVudCBpcyBiZWluZyB2YWxpZGF0ZWRcblxuICAgIGlmIChjdXJyZW50RXh0cmFTdGFja0ZyYW1lKSB7XG4gICAgICBzdGFjayArPSBjdXJyZW50RXh0cmFTdGFja0ZyYW1lO1xuICAgIH0gLy8gRGVsZWdhdGUgdG8gdGhlIGluamVjdGVkIHJlbmRlcmVyLXNwZWNpZmljIGltcGxlbWVudGF0aW9uXG5cblxuICAgIHZhciBpbXBsID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRDdXJyZW50U3RhY2s7XG5cbiAgICBpZiAoaW1wbCkge1xuICAgICAgc3RhY2sgKz0gaW1wbCgpIHx8ICcnO1xuICAgIH1cblxuICAgIHJldHVybiBzdGFjaztcbiAgfTtcbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIGVuYWJsZVNjb3BlQVBJID0gZmFsc2U7IC8vIEV4cGVyaW1lbnRhbCBDcmVhdGUgRXZlbnQgSGFuZGxlIEFQSS5cbnZhciBlbmFibGVDYWNoZUVsZW1lbnQgPSBmYWxzZTtcbnZhciBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyA9IGZhbHNlOyAvLyBObyBrbm93biBidWdzLCBidXQgbmVlZHMgcGVyZm9ybWFuY2UgdGVzdGluZ1xuXG52YXIgZW5hYmxlTGVnYWN5SGlkZGVuID0gZmFsc2U7IC8vIEVuYWJsZXMgdW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2sgZmVhdHVyZSBpbiBGaWJlclxuLy8gc3R1ZmYuIEludGVuZGVkIHRvIGVuYWJsZSBSZWFjdCBjb3JlIG1lbWJlcnMgdG8gbW9yZSBlYXNpbHkgZGVidWcgc2NoZWR1bGluZ1xuLy8gaXNzdWVzIGluIERFViBidWlsZHMuXG5cbnZhciBlbmFibGVEZWJ1Z1RyYWNpbmcgPSBmYWxzZTsgLy8gVHJhY2sgd2hpY2ggRmliZXIocykgc2NoZWR1bGUgcmVuZGVyIHdvcmsuXG5cbnZhciBSZWFjdFNoYXJlZEludGVybmFscyA9IHtcbiAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjogUmVhY3RDdXJyZW50RGlzcGF0Y2hlcixcbiAgUmVhY3RDdXJyZW50QmF0Y2hDb25maWc6IFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLFxuICBSZWFjdEN1cnJlbnRPd25lcjogUmVhY3RDdXJyZW50T3duZXJcbn07XG5cbntcbiAgUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gIFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0Q3VycmVudEFjdFF1ZXVlID0gUmVhY3RDdXJyZW50QWN0UXVldWU7XG59XG5cbi8vIGJ5IGNhbGxzIHRvIHRoZXNlIG1ldGhvZHMgYnkgYSBCYWJlbCBwbHVnaW4uXG4vL1xuLy8gSW4gUFJPRCAob3IgaW4gcGFja2FnZXMgd2l0aG91dCBhY2Nlc3MgdG8gUmVhY3QgaW50ZXJuYWxzKSxcbi8vIHRoZXkgYXJlIGxlZnQgYXMgdGhleSBhcmUgaW5zdGVhZC5cblxuZnVuY3Rpb24gd2Fybihmb3JtYXQpIHtcbiAge1xuICAgIHtcbiAgICAgIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4gPiAxID8gX2xlbiAtIDEgOiAwKSwgX2tleSA9IDE7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5IC0gMV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZygnd2FybicsIGZvcm1hdCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBlcnJvcihmb3JtYXQpIHtcbiAge1xuICAgIHtcbiAgICAgIGZvciAodmFyIF9sZW4yID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMiA+IDEgPyBfbGVuMiAtIDEgOiAwKSwgX2tleTIgPSAxOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIgLSAxXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICB9XG5cbiAgICAgIHByaW50V2FybmluZygnZXJyb3InLCBmb3JtYXQsIGFyZ3MpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwcmludFdhcm5pbmcobGV2ZWwsIGZvcm1hdCwgYXJncykge1xuICAvLyBXaGVuIGNoYW5naW5nIHRoaXMgbG9naWMsIHlvdSBtaWdodCB3YW50IHRvIGFsc29cbiAgLy8gdXBkYXRlIGNvbnNvbGVXaXRoU3RhY2tEZXYud3d3LmpzIGFzIHdlbGwuXG4gIHtcbiAgICB2YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzLlJlYWN0RGVidWdDdXJyZW50RnJhbWU7XG4gICAgdmFyIHN0YWNrID0gUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5nZXRTdGFja0FkZGVuZHVtKCk7XG5cbiAgICBpZiAoc3RhY2sgIT09ICcnKSB7XG4gICAgICBmb3JtYXQgKz0gJyVzJztcbiAgICAgIGFyZ3MgPSBhcmdzLmNvbmNhdChbc3RhY2tdKTtcbiAgICB9IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuXG5cbiAgICB2YXIgYXJnc1dpdGhGb3JtYXQgPSBhcmdzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIFN0cmluZyhpdGVtKTtcbiAgICB9KTsgLy8gQ2FyZWZ1bDogUk4gY3VycmVudGx5IGRlcGVuZHMgb24gdGhpcyBwcmVmaXhcblxuICAgIGFyZ3NXaXRoRm9ybWF0LnVuc2hpZnQoJ1dhcm5pbmc6ICcgKyBmb3JtYXQpOyAvLyBXZSBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBzcHJlYWQgKG9yIC5hcHBseSkgZGlyZWN0bHkgYmVjYXVzZSBpdFxuICAgIC8vIGJyZWFrcyBJRTk6IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTM2MTBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nXG5cbiAgICBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbChjb25zb2xlW2xldmVsXSwgY29uc29sZSwgYXJnc1dpdGhGb3JtYXQpO1xuICB9XG59XG5cbnZhciBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnQgPSB7fTtcblxuZnVuY3Rpb24gd2Fybk5vb3AocHVibGljSW5zdGFuY2UsIGNhbGxlck5hbWUpIHtcbiAge1xuICAgIHZhciBfY29uc3RydWN0b3IgPSBwdWJsaWNJbnN0YW5jZS5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IF9jb25zdHJ1Y3RvciAmJiAoX2NvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8IF9jb25zdHJ1Y3Rvci5uYW1lKSB8fCAnUmVhY3RDbGFzcyc7XG4gICAgdmFyIHdhcm5pbmdLZXkgPSBjb21wb25lbnROYW1lICsgXCIuXCIgKyBjYWxsZXJOYW1lO1xuXG4gICAgaWYgKGRpZFdhcm5TdGF0ZVVwZGF0ZUZvclVubW91bnRlZENvbXBvbmVudFt3YXJuaW5nS2V5XSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVycm9yKFwiQ2FuJ3QgY2FsbCAlcyBvbiBhIGNvbXBvbmVudCB0aGF0IGlzIG5vdCB5ZXQgbW91bnRlZC4gXCIgKyAnVGhpcyBpcyBhIG5vLW9wLCBidXQgaXQgbWlnaHQgaW5kaWNhdGUgYSBidWcgaW4geW91ciBhcHBsaWNhdGlvbi4gJyArICdJbnN0ZWFkLCBhc3NpZ24gdG8gYHRoaXMuc3RhdGVgIGRpcmVjdGx5IG9yIGRlZmluZSBhIGBzdGF0ZSA9IHt9O2AgJyArICdjbGFzcyBwcm9wZXJ0eSB3aXRoIHRoZSBkZXNpcmVkIHN0YXRlIGluIHRoZSAlcyBjb21wb25lbnQuJywgY2FsbGVyTmFtZSwgY29tcG9uZW50TmFtZSk7XG5cbiAgICBkaWRXYXJuU3RhdGVVcGRhdGVGb3JVbm1vdW50ZWRDb21wb25lbnRbd2FybmluZ0tleV0gPSB0cnVlO1xuICB9XG59XG4vKipcbiAqIFRoaXMgaXMgdGhlIGFic3RyYWN0IEFQSSBmb3IgYW4gdXBkYXRlIHF1ZXVlLlxuICovXG5cblxudmFyIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlID0ge1xuICAvKipcbiAgICogQ2hlY2tzIHdoZXRoZXIgb3Igbm90IHRoaXMgY29tcG9zaXRlIGNvbXBvbmVudCBpcyBtb3VudGVkLlxuICAgKiBAcGFyYW0ge1JlYWN0Q2xhc3N9IHB1YmxpY0luc3RhbmNlIFRoZSBpbnN0YW5jZSB3ZSB3YW50IHRvIHRlc3QuXG4gICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgbW91bnRlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKiBAcHJvdGVjdGVkXG4gICAqIEBmaW5hbFxuICAgKi9cbiAgaXNNb3VudGVkOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG5cbiAgLyoqXG4gICAqIEZvcmNlcyBhbiB1cGRhdGUuIFRoaXMgc2hvdWxkIG9ubHkgYmUgaW52b2tlZCB3aGVuIGl0IGlzIGtub3duIHdpdGhcbiAgICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gICAqXG4gICAqIFlvdSBtYXkgd2FudCB0byBjYWxsIHRoaXMgd2hlbiB5b3Uga25vdyB0aGF0IHNvbWUgZGVlcGVyIGFzcGVjdCBvZiB0aGVcbiAgICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gICAqXG4gICAqIFRoaXMgd2lsbCBub3QgaW52b2tlIGBzaG91bGRDb21wb25lbnRVcGRhdGVgLCBidXQgaXQgd2lsbCBpbnZva2VcbiAgICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7P2Z1bmN0aW9ufSBjYWxsYmFjayBDYWxsZWQgYWZ0ZXIgY29tcG9uZW50IGlzIHVwZGF0ZWQuXG4gICAqIEBwYXJhbSB7P3N0cmluZ30gY2FsbGVyTmFtZSBuYW1lIG9mIHRoZSBjYWxsaW5nIGZ1bmN0aW9uIGluIHRoZSBwdWJsaWMgQVBJLlxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIGVucXVldWVGb3JjZVVwZGF0ZTogZnVuY3Rpb24gKHB1YmxpY0luc3RhbmNlLCBjYWxsYmFjaywgY2FsbGVyTmFtZSkge1xuICAgIHdhcm5Ob29wKHB1YmxpY0luc3RhbmNlLCAnZm9yY2VVcGRhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIG9mIHRoZSBzdGF0ZS4gQWx3YXlzIHVzZSB0aGlzIG9yIGBzZXRTdGF0ZWAgdG8gbXV0YXRlIHN0YXRlLlxuICAgKiBZb3Ugc2hvdWxkIHRyZWF0IGB0aGlzLnN0YXRlYCBhcyBpbW11dGFibGUuXG4gICAqXG4gICAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gICAqIGFjY2Vzc2luZyBgdGhpcy5zdGF0ZWAgYWZ0ZXIgY2FsbGluZyB0aGlzIG1ldGhvZCBtYXkgcmV0dXJuIHRoZSBvbGQgdmFsdWUuXG4gICAqXG4gICAqIEBwYXJhbSB7UmVhY3RDbGFzc30gcHVibGljSW5zdGFuY2UgVGhlIGluc3RhbmNlIHRoYXQgc2hvdWxkIHJlcmVuZGVyLlxuICAgKiBAcGFyYW0ge29iamVjdH0gY29tcGxldGVTdGF0ZSBOZXh0IHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IGNhbGxlck5hbWUgbmFtZSBvZiB0aGUgY2FsbGluZyBmdW5jdGlvbiBpbiB0aGUgcHVibGljIEFQSS5cbiAgICogQGludGVybmFsXG4gICAqL1xuICBlbnF1ZXVlUmVwbGFjZVN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIGNvbXBsZXRlU3RhdGUsIGNhbGxiYWNrLCBjYWxsZXJOYW1lKSB7XG4gICAgd2Fybk5vb3AocHVibGljSW5zdGFuY2UsICdyZXBsYWNlU3RhdGUnKTtcbiAgfSxcblxuICAvKipcbiAgICogU2V0cyBhIHN1YnNldCBvZiB0aGUgc3RhdGUuIFRoaXMgb25seSBleGlzdHMgYmVjYXVzZSBfcGVuZGluZ1N0YXRlIGlzXG4gICAqIGludGVybmFsLiBUaGlzIHByb3ZpZGVzIGEgbWVyZ2luZyBzdHJhdGVneSB0aGF0IGlzIG5vdCBhdmFpbGFibGUgdG8gZGVlcFxuICAgKiBwcm9wZXJ0aWVzIHdoaWNoIGlzIGNvbmZ1c2luZy4gVE9ETzogRXhwb3NlIHBlbmRpbmdTdGF0ZSBvciBkb24ndCB1c2UgaXRcbiAgICogZHVyaW5nIHRoZSBtZXJnZS5cbiAgICpcbiAgICogQHBhcmFtIHtSZWFjdENsYXNzfSBwdWJsaWNJbnN0YW5jZSBUaGUgaW5zdGFuY2UgdGhhdCBzaG91bGQgcmVyZW5kZXIuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSBwYXJ0aWFsU3RhdGUgTmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIHN0YXRlLlxuICAgKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIGNvbXBvbmVudCBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gez9zdHJpbmd9IE5hbWUgb2YgdGhlIGNhbGxpbmcgZnVuY3Rpb24gaW4gdGhlIHB1YmxpYyBBUEkuXG4gICAqIEBpbnRlcm5hbFxuICAgKi9cbiAgZW5xdWV1ZVNldFN0YXRlOiBmdW5jdGlvbiAocHVibGljSW5zdGFuY2UsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssIGNhbGxlck5hbWUpIHtcbiAgICB3YXJuTm9vcChwdWJsaWNJbnN0YW5jZSwgJ3NldFN0YXRlJyk7XG4gIH1cbn07XG5cbnZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuXG52YXIgZW1wdHlPYmplY3QgPSB7fTtcblxue1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cbi8qKlxuICogQmFzZSBjbGFzcyBoZWxwZXJzIGZvciB0aGUgdXBkYXRpbmcgc3RhdGUgb2YgYSBjb21wb25lbnQuXG4gKi9cblxuXG5mdW5jdGlvbiBDb21wb25lbnQocHJvcHMsIGNvbnRleHQsIHVwZGF0ZXIpIHtcbiAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICB0aGlzLmNvbnRleHQgPSBjb250ZXh0OyAvLyBJZiBhIGNvbXBvbmVudCBoYXMgc3RyaW5nIHJlZnMsIHdlIHdpbGwgYXNzaWduIGEgZGlmZmVyZW50IG9iamVjdCBsYXRlci5cblxuICB0aGlzLnJlZnMgPSBlbXB0eU9iamVjdDsgLy8gV2UgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCB1cGRhdGVyIGJ1dCB0aGUgcmVhbCBvbmUgZ2V0cyBpbmplY3RlZCBieSB0aGVcbiAgLy8gcmVuZGVyZXIuXG5cbiAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcbn1cblxuQ29tcG9uZW50LnByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50ID0ge307XG4vKipcbiAqIFNldHMgYSBzdWJzZXQgb2YgdGhlIHN0YXRlLiBBbHdheXMgdXNlIHRoaXMgdG8gbXV0YXRlXG4gKiBzdGF0ZS4gWW91IHNob3VsZCB0cmVhdCBgdGhpcy5zdGF0ZWAgYXMgaW1tdXRhYmxlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGB0aGlzLnN0YXRlYCB3aWxsIGJlIGltbWVkaWF0ZWx5IHVwZGF0ZWQsIHNvXG4gKiBhY2Nlc3NpbmcgYHRoaXMuc3RhdGVgIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgbWF5IHJldHVybiB0aGUgb2xkIHZhbHVlLlxuICpcbiAqIFRoZXJlIGlzIG5vIGd1YXJhbnRlZSB0aGF0IGNhbGxzIHRvIGBzZXRTdGF0ZWAgd2lsbCBydW4gc3luY2hyb25vdXNseSxcbiAqIGFzIHRoZXkgbWF5IGV2ZW50dWFsbHkgYmUgYmF0Y2hlZCB0b2dldGhlci4gIFlvdSBjYW4gcHJvdmlkZSBhbiBvcHRpb25hbFxuICogY2FsbGJhY2sgdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGNhbGwgdG8gc2V0U3RhdGUgaXMgYWN0dWFsbHlcbiAqIGNvbXBsZXRlZC5cbiAqXG4gKiBXaGVuIGEgZnVuY3Rpb24gaXMgcHJvdmlkZWQgdG8gc2V0U3RhdGUsIGl0IHdpbGwgYmUgY2FsbGVkIGF0IHNvbWUgcG9pbnQgaW5cbiAqIHRoZSBmdXR1cmUgKG5vdCBzeW5jaHJvbm91c2x5KS4gSXQgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdXAgdG8gZGF0ZVxuICogY29tcG9uZW50IGFyZ3VtZW50cyAoc3RhdGUsIHByb3BzLCBjb250ZXh0KS4gVGhlc2UgdmFsdWVzIGNhbiBiZSBkaWZmZXJlbnRcbiAqIGZyb20gdGhpcy4qIGJlY2F1c2UgeW91ciBmdW5jdGlvbiBtYXkgYmUgY2FsbGVkIGFmdGVyIHJlY2VpdmVQcm9wcyBidXQgYmVmb3JlXG4gKiBzaG91bGRDb21wb25lbnRVcGRhdGUsIGFuZCB0aGlzIG5ldyBzdGF0ZSwgcHJvcHMsIGFuZCBjb250ZXh0IHdpbGwgbm90IHlldCBiZVxuICogYXNzaWduZWQgdG8gdGhpcy5cbiAqXG4gKiBAcGFyYW0ge29iamVjdHxmdW5jdGlvbn0gcGFydGlhbFN0YXRlIE5leHQgcGFydGlhbCBzdGF0ZSBvciBmdW5jdGlvbiB0b1xuICogICAgICAgIHByb2R1Y2UgbmV4dCBwYXJ0aWFsIHN0YXRlIHRvIGJlIG1lcmdlZCB3aXRoIGN1cnJlbnQgc3RhdGUuXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHN0YXRlIGlzIHVwZGF0ZWQuXG4gKiBAZmluYWxcbiAqIEBwcm90ZWN0ZWRcbiAqL1xuXG5Db21wb25lbnQucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBwYXJ0aWFsU3RhdGUgIT09ICdvYmplY3QnICYmIHR5cGVvZiBwYXJ0aWFsU3RhdGUgIT09ICdmdW5jdGlvbicgJiYgcGFydGlhbFN0YXRlICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFN0YXRlKC4uLik6IHRha2VzIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMgdG8gdXBkYXRlIG9yIGEgJyArICdmdW5jdGlvbiB3aGljaCByZXR1cm5zIGFuIG9iamVjdCBvZiBzdGF0ZSB2YXJpYWJsZXMuJyk7XG4gIH1cblxuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZVNldFN0YXRlKHRoaXMsIHBhcnRpYWxTdGF0ZSwgY2FsbGJhY2ssICdzZXRTdGF0ZScpO1xufTtcbi8qKlxuICogRm9yY2VzIGFuIHVwZGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbnZva2VkIHdoZW4gaXQgaXMga25vd24gd2l0aFxuICogY2VydGFpbnR5IHRoYXQgd2UgYXJlICoqbm90KiogaW4gYSBET00gdHJhbnNhY3Rpb24uXG4gKlxuICogWW91IG1heSB3YW50IHRvIGNhbGwgdGhpcyB3aGVuIHlvdSBrbm93IHRoYXQgc29tZSBkZWVwZXIgYXNwZWN0IG9mIHRoZVxuICogY29tcG9uZW50J3Mgc3RhdGUgaGFzIGNoYW5nZWQgYnV0IGBzZXRTdGF0ZWAgd2FzIG5vdCBjYWxsZWQuXG4gKlxuICogVGhpcyB3aWxsIG5vdCBpbnZva2UgYHNob3VsZENvbXBvbmVudFVwZGF0ZWAsIGJ1dCBpdCB3aWxsIGludm9rZVxuICogYGNvbXBvbmVudFdpbGxVcGRhdGVgIGFuZCBgY29tcG9uZW50RGlkVXBkYXRlYC5cbiAqXG4gKiBAcGFyYW0gez9mdW5jdGlvbn0gY2FsbGJhY2sgQ2FsbGVkIGFmdGVyIHVwZGF0ZSBpcyBjb21wbGV0ZS5cbiAqIEBmaW5hbFxuICogQHByb3RlY3RlZFxuICovXG5cblxuQ29tcG9uZW50LnByb3RvdHlwZS5mb3JjZVVwZGF0ZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLnVwZGF0ZXIuZW5xdWV1ZUZvcmNlVXBkYXRlKHRoaXMsIGNhbGxiYWNrLCAnZm9yY2VVcGRhdGUnKTtcbn07XG4vKipcbiAqIERlcHJlY2F0ZWQgQVBJcy4gVGhlc2UgQVBJcyB1c2VkIHRvIGV4aXN0IG9uIGNsYXNzaWMgUmVhY3QgY2xhc3NlcyBidXQgc2luY2VcbiAqIHdlIHdvdWxkIGxpa2UgdG8gZGVwcmVjYXRlIHRoZW0sIHdlJ3JlIG5vdCBnb2luZyB0byBtb3ZlIHRoZW0gb3ZlciB0byB0aGlzXG4gKiBtb2Rlcm4gYmFzZSBjbGFzcy4gSW5zdGVhZCwgd2UgZGVmaW5lIGEgZ2V0dGVyIHRoYXQgd2FybnMgaWYgaXQncyBhY2Nlc3NlZC5cbiAqL1xuXG5cbntcbiAgdmFyIGRlcHJlY2F0ZWRBUElzID0ge1xuICAgIGlzTW91bnRlZDogWydpc01vdW50ZWQnLCAnSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwIHN1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gJyArICdjb21wb25lbnRXaWxsVW5tb3VudCB0byBwcmV2ZW50IG1lbW9yeSBsZWFrcy4nXSxcbiAgICByZXBsYWNlU3RhdGU6IFsncmVwbGFjZVN0YXRlJywgJ1JlZmFjdG9yIHlvdXIgY29kZSB0byB1c2Ugc2V0U3RhdGUgaW5zdGVhZCAoc2VlICcgKyAnaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8zMjM2KS4nXVxuICB9O1xuXG4gIHZhciBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgaW5mbykge1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDb21wb25lbnQucHJvdG90eXBlLCBtZXRob2ROYW1lLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FybignJXMoLi4uKSBpcyBkZXByZWNhdGVkIGluIHBsYWluIEphdmFTY3JpcHQgUmVhY3QgY2xhc3Nlcy4gJXMnLCBpbmZvWzBdLCBpbmZvWzFdKTtcblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIGZvciAodmFyIGZuTmFtZSBpbiBkZXByZWNhdGVkQVBJcykge1xuICAgIGlmIChkZXByZWNhdGVkQVBJcy5oYXNPd25Qcm9wZXJ0eShmbk5hbWUpKSB7XG4gICAgICBkZWZpbmVEZXByZWNhdGlvbldhcm5pbmcoZm5OYW1lLCBkZXByZWNhdGVkQVBJc1tmbk5hbWVdKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gQ29tcG9uZW50RHVtbXkoKSB7fVxuXG5Db21wb25lbnREdW1teS5wcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuLyoqXG4gKiBDb252ZW5pZW5jZSBjb21wb25lbnQgd2l0aCBkZWZhdWx0IHNoYWxsb3cgZXF1YWxpdHkgY2hlY2sgZm9yIHNDVS5cbiAqL1xuXG5mdW5jdGlvbiBQdXJlQ29tcG9uZW50KHByb3BzLCBjb250ZXh0LCB1cGRhdGVyKSB7XG4gIHRoaXMucHJvcHMgPSBwcm9wcztcbiAgdGhpcy5jb250ZXh0ID0gY29udGV4dDsgLy8gSWYgYSBjb21wb25lbnQgaGFzIHN0cmluZyByZWZzLCB3ZSB3aWxsIGFzc2lnbiBhIGRpZmZlcmVudCBvYmplY3QgbGF0ZXIuXG5cbiAgdGhpcy5yZWZzID0gZW1wdHlPYmplY3Q7XG4gIHRoaXMudXBkYXRlciA9IHVwZGF0ZXIgfHwgUmVhY3ROb29wVXBkYXRlUXVldWU7XG59XG5cbnZhciBwdXJlQ29tcG9uZW50UHJvdG90eXBlID0gUHVyZUNvbXBvbmVudC5wcm90b3R5cGUgPSBuZXcgQ29tcG9uZW50RHVtbXkoKTtcbnB1cmVDb21wb25lbnRQcm90b3R5cGUuY29uc3RydWN0b3IgPSBQdXJlQ29tcG9uZW50OyAvLyBBdm9pZCBhbiBleHRyYSBwcm90b3R5cGUganVtcCBmb3IgdGhlc2UgbWV0aG9kcy5cblxuYXNzaWduKHB1cmVDb21wb25lbnRQcm90b3R5cGUsIENvbXBvbmVudC5wcm90b3R5cGUpO1xucHVyZUNvbXBvbmVudFByb3RvdHlwZS5pc1B1cmVSZWFjdENvbXBvbmVudCA9IHRydWU7XG5cbi8vIGFuIGltbXV0YWJsZSBvYmplY3Qgd2l0aCBhIHNpbmdsZSBtdXRhYmxlIHZhbHVlXG5mdW5jdGlvbiBjcmVhdGVSZWYoKSB7XG4gIHZhciByZWZPYmplY3QgPSB7XG4gICAgY3VycmVudDogbnVsbFxuICB9O1xuXG4gIHtcbiAgICBPYmplY3Quc2VhbChyZWZPYmplY3QpO1xuICB9XG5cbiAgcmV0dXJuIHJlZk9iamVjdDtcbn1cblxudmFyIGlzQXJyYXlJbXBsID0gQXJyYXkuaXNBcnJheTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5mdW5jdGlvbiBpc0FycmF5KGEpIHtcbiAgcmV0dXJuIGlzQXJyYXlJbXBsKGEpO1xufVxuXG4vKlxuICogVGhlIGAnJyArIHZhbHVlYCBwYXR0ZXJuICh1c2VkIGluIGluIHBlcmYtc2Vuc2l0aXZlIGNvZGUpIHRocm93cyBmb3IgU3ltYm9sXG4gKiBhbmQgVGVtcG9yYWwuKiB0eXBlcy4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9wdWxsLzIyMDY0LlxuICpcbiAqIFRoZSBmdW5jdGlvbnMgaW4gdGhpcyBtb2R1bGUgd2lsbCB0aHJvdyBhbiBlYXNpZXItdG8tdW5kZXJzdGFuZCxcbiAqIGVhc2llci10by1kZWJ1ZyBleGNlcHRpb24gd2l0aCBhIGNsZWFyIGVycm9ycyBtZXNzYWdlIG1lc3NhZ2UgZXhwbGFpbmluZyB0aGVcbiAqIHByb2JsZW0uIChJbnN0ZWFkIG9mIGEgY29uZnVzaW5nIGV4Y2VwdGlvbiB0aHJvd24gaW5zaWRlIHRoZSBpbXBsZW1lbnRhdGlvblxuICogb2YgdGhlIGB2YWx1ZWAgb2JqZWN0KS5cbiAqL1xuLy8gJEZsb3dGaXhNZSBvbmx5IGNhbGxlZCBpbiBERVYsIHNvIHZvaWQgcmV0dXJuIGlzIG5vdCBwb3NzaWJsZS5cbmZ1bmN0aW9uIHR5cGVOYW1lKHZhbHVlKSB7XG4gIHtcbiAgICAvLyB0b1N0cmluZ1RhZyBpcyBuZWVkZWQgZm9yIG5hbWVzcGFjZWQgdHlwZXMgbGlrZSBUZW1wb3JhbC5JbnN0YW50XG4gICAgdmFyIGhhc1RvU3RyaW5nVGFnID0gdHlwZW9mIFN5bWJvbCA9PT0gJ2Z1bmN0aW9uJyAmJiBTeW1ib2wudG9TdHJpbmdUYWc7XG4gICAgdmFyIHR5cGUgPSBoYXNUb1N0cmluZ1RhZyAmJiB2YWx1ZVtTeW1ib2wudG9TdHJpbmdUYWddIHx8IHZhbHVlLmNvbnN0cnVjdG9yLm5hbWUgfHwgJ09iamVjdCc7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cbn0gLy8gJEZsb3dGaXhNZSBvbmx5IGNhbGxlZCBpbiBERVYsIHNvIHZvaWQgcmV0dXJuIGlzIG5vdCBwb3NzaWJsZS5cblxuXG5mdW5jdGlvbiB3aWxsQ29lcmNpb25UaHJvdyh2YWx1ZSkge1xuICB7XG4gICAgdHJ5IHtcbiAgICAgIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICAvLyBJZiB5b3UgZW5kZWQgdXAgaGVyZSBieSBmb2xsb3dpbmcgYW4gZXhjZXB0aW9uIGNhbGwgc3RhY2ssIGhlcmUncyB3aGF0J3NcbiAgLy8gaGFwcGVuZWQ6IHlvdSBzdXBwbGllZCBhbiBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIFJlYWN0IChhcyBhIHByb3AsIGtleSxcbiAgLy8gRE9NIGF0dHJpYnV0ZSwgQ1NTIHByb3BlcnR5LCBzdHJpbmcgcmVmLCBldGMuKSBhbmQgd2hlbiBSZWFjdCB0cmllZCB0b1xuICAvLyBjb2VyY2UgaXQgdG8gYSBzdHJpbmcgdXNpbmcgYCcnICsgdmFsdWVgLCBhbiBleGNlcHRpb24gd2FzIHRocm93bi5cbiAgLy9cbiAgLy8gVGhlIG1vc3QgY29tbW9uIHR5cGVzIHRoYXQgd2lsbCBjYXVzZSB0aGlzIGV4Y2VwdGlvbiBhcmUgYFN5bWJvbGAgaW5zdGFuY2VzXG4gIC8vIGFuZCBUZW1wb3JhbCBvYmplY3RzIGxpa2UgYFRlbXBvcmFsLkluc3RhbnRgLiBCdXQgYW55IG9iamVjdCB0aGF0IGhhcyBhXG4gIC8vIGB2YWx1ZU9mYCBvciBgW1N5bWJvbC50b1ByaW1pdGl2ZV1gIG1ldGhvZCB0aGF0IHRocm93cyB3aWxsIGFsc28gY2F1c2UgdGhpc1xuICAvLyBleGNlcHRpb24uIChMaWJyYXJ5IGF1dGhvcnMgZG8gdGhpcyB0byBwcmV2ZW50IHVzZXJzIGZyb20gdXNpbmcgYnVpbHQtaW5cbiAgLy8gbnVtZXJpYyBvcGVyYXRvcnMgbGlrZSBgK2Agb3IgY29tcGFyaXNvbiBvcGVyYXRvcnMgbGlrZSBgPj1gIGJlY2F1c2UgY3VzdG9tXG4gIC8vIG1ldGhvZHMgYXJlIG5lZWRlZCB0byBwZXJmb3JtIGFjY3VyYXRlIGFyaXRobWV0aWMgb3IgY29tcGFyaXNvbi4pXG4gIC8vXG4gIC8vIFRvIGZpeCB0aGUgcHJvYmxlbSwgY29lcmNlIHRoaXMgb2JqZWN0IG9yIHN5bWJvbCB2YWx1ZSB0byBhIHN0cmluZyBiZWZvcmVcbiAgLy8gcGFzc2luZyBpdCB0byBSZWFjdC4gVGhlIG1vc3QgcmVsaWFibGUgd2F5IGlzIHVzdWFsbHkgYFN0cmluZyh2YWx1ZSlgLlxuICAvL1xuICAvLyBUbyBmaW5kIHdoaWNoIHZhbHVlIGlzIHRocm93aW5nLCBjaGVjayB0aGUgYnJvd3NlciBvciBkZWJ1Z2dlciBjb25zb2xlLlxuICAvLyBCZWZvcmUgdGhpcyBleGNlcHRpb24gd2FzIHRocm93biwgdGhlcmUgc2hvdWxkIGJlIGBjb25zb2xlLmVycm9yYCBvdXRwdXRcbiAgLy8gdGhhdCBzaG93cyB0aGUgdHlwZSAoU3ltYm9sLCBUZW1wb3JhbC5QbGFpbkRhdGUsIGV0Yy4pIHRoYXQgY2F1c2VkIHRoZVxuICAvLyBwcm9ibGVtIGFuZCBob3cgdGhhdCB0eXBlIHdhcyB1c2VkOiBrZXksIGF0cnJpYnV0ZSwgaW5wdXQgdmFsdWUgcHJvcCwgZXRjLlxuICAvLyBJbiBtb3N0IGNhc2VzLCB0aGlzIGNvbnNvbGUgb3V0cHV0IGFsc28gc2hvd3MgdGhlIGNvbXBvbmVudCBhbmQgaXRzXG4gIC8vIGFuY2VzdG9yIGNvbXBvbmVudHMgd2hlcmUgdGhlIGV4Y2VwdGlvbiBoYXBwZW5lZC5cbiAgLy9cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG4gIHJldHVybiAnJyArIHZhbHVlO1xufVxuZnVuY3Rpb24gY2hlY2tLZXlTdHJpbmdDb2VyY2lvbih2YWx1ZSkge1xuICB7XG4gICAgaWYgKHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSkge1xuICAgICAgZXJyb3IoJ1RoZSBwcm92aWRlZCBrZXkgaXMgYW4gdW5zdXBwb3J0ZWQgdHlwZSAlcy4nICsgJyBUaGlzIHZhbHVlIG11c3QgYmUgY29lcmNlZCB0byBhIHN0cmluZyBiZWZvcmUgYmVmb3JlIHVzaW5nIGl0IGhlcmUuJywgdHlwZU5hbWUodmFsdWUpKTtcblxuICAgICAgcmV0dXJuIHRlc3RTdHJpbmdDb2VyY2lvbih2YWx1ZSk7IC8vIHRocm93ICh0byBoZWxwIGNhbGxlcnMgZmluZCB0cm91Ymxlc2hvb3RpbmcgY29tbWVudHMpXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgLy8gSG9zdCByb290LCB0ZXh0IG5vZGUgb3IganVzdCBpbnZhbGlkIHR5cGUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB7XG4gICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGVycm9yKCdSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gJyArICdUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICByZXR1cm4gJ0ZyYWdtZW50JztcblxuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gJ1BvcnRhbCc7XG5cbiAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICByZXR1cm4gJ1Byb2ZpbGVyJztcblxuICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgIHJldHVybiAnU3RyaWN0TW9kZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZUxpc3QnO1xuXG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUoY29udGV4dCkgKyAnLkNvbnN1bWVyJztcblxuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKHR5cGUsIHR5cGUucmVuZGVyLCAnRm9yd2FyZFJlZicpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgdmFyIG91dGVyTmFtZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbDtcblxuICAgICAgICBpZiAob3V0ZXJOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG91dGVyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnTWVtbyc7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShpbml0KHBheWxvYWQpKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG5cbnZhciBSRVNFUlZFRF9QUk9QUyA9IHtcbiAga2V5OiB0cnVlLFxuICByZWY6IHRydWUsXG4gIF9fc2VsZjogdHJ1ZSxcbiAgX19zb3VyY2U6IHRydWVcbn07XG52YXIgc3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24sIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duLCBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzO1xuXG57XG4gIGRpZFdhcm5BYm91dFN0cmluZ1JlZnMgPSB7fTtcbn1cblxuZnVuY3Rpb24gaGFzVmFsaWRSZWYoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdyZWYnKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAncmVmJykuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZy5yZWYgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gaGFzVmFsaWRLZXkoY29uZmlnKSB7XG4gIHtcbiAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChjb25maWcsICdrZXknKSkge1xuICAgICAgdmFyIGdldHRlciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoY29uZmlnLCAna2V5JykuZ2V0O1xuXG4gICAgICBpZiAoZ2V0dGVyICYmIGdldHRlci5pc1JlYWN0V2FybmluZykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGNvbmZpZy5rZXkgIT09IHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHZhciB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkocHJvcHMsICdrZXknLCB7XG4gICAgZ2V0OiB3YXJuQWJvdXRBY2Nlc3NpbmdLZXksXG4gICAgY29uZmlndXJhYmxlOiB0cnVlXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpIHtcbiAgdmFyIHdhcm5BYm91dEFjY2Vzc2luZ1JlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICB7XG4gICAgICBpZiAoIXNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duKSB7XG4gICAgICAgIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duID0gdHJ1ZTtcblxuICAgICAgICBlcnJvcignJXM6IGByZWZgIGlzIG5vdCBhIHByb3AuIFRyeWluZyB0byBhY2Nlc3MgaXQgd2lsbCByZXN1bHQgJyArICdpbiBgdW5kZWZpbmVkYCBiZWluZyByZXR1cm5lZC4gSWYgeW91IG5lZWQgdG8gYWNjZXNzIHRoZSBzYW1lICcgKyAndmFsdWUgd2l0aGluIHRoZSBjaGlsZCBjb21wb25lbnQsIHlvdSBzaG91bGQgcGFzcyBpdCBhcyBhIGRpZmZlcmVudCAnICsgJ3Byb3AuIChodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3BlY2lhbC1wcm9wcyknLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIHdhcm5BYm91dEFjY2Vzc2luZ1JlZi5pc1JlYWN0V2FybmluZyA9IHRydWU7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICBnZXQ6IHdhcm5BYm91dEFjY2Vzc2luZ1JlZixcbiAgICBjb25maWd1cmFibGU6IHRydWVcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHdhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZChjb25maWcpIHtcbiAge1xuICAgIGlmICh0eXBlb2YgY29uZmlnLnJlZiA9PT0gJ3N0cmluZycgJiYgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCAmJiBjb25maWcuX19zZWxmICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQuc3RhdGVOb2RlICE9PSBjb25maWcuX19zZWxmKSB7XG4gICAgICB2YXIgY29tcG9uZW50TmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgICBpZiAoIWRpZFdhcm5BYm91dFN0cmluZ1JlZnNbY29tcG9uZW50TmFtZV0pIHtcbiAgICAgICAgZXJyb3IoJ0NvbXBvbmVudCBcIiVzXCIgY29udGFpbnMgdGhlIHN0cmluZyByZWYgXCIlc1wiLiAnICsgJ1N1cHBvcnQgZm9yIHN0cmluZyByZWZzIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiAnICsgJ1RoaXMgY2FzZSBjYW5ub3QgYmUgYXV0b21hdGljYWxseSBjb252ZXJ0ZWQgdG8gYW4gYXJyb3cgZnVuY3Rpb24uICcgKyAnV2UgYXNrIHlvdSB0byBtYW51YWxseSBmaXggdGhpcyBjYXNlIGJ5IHVzaW5nIHVzZVJlZigpIG9yIGNyZWF0ZVJlZigpIGluc3RlYWQuICcgKyAnTGVhcm4gbW9yZSBhYm91dCB1c2luZyByZWZzIHNhZmVseSBoZXJlOiAnICsgJ2h0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9zdHJpY3QtbW9kZS1zdHJpbmctcmVmJywgY29tcG9uZW50TmFtZSwgY29uZmlnLnJlZik7XG5cbiAgICAgICAgZGlkV2FybkFib3V0U3RyaW5nUmVmc1tjb21wb25lbnROYW1lXSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSBhIG5ldyBSZWFjdCBlbGVtZW50LiBUaGlzIG5vIGxvbmdlciBhZGhlcmVzIHRvXG4gKiB0aGUgY2xhc3MgcGF0dGVybiwgc28gZG8gbm90IHVzZSBuZXcgdG8gY2FsbCBpdC4gQWxzbywgaW5zdGFuY2VvZiBjaGVja1xuICogd2lsbCBub3Qgd29yay4gSW5zdGVhZCB0ZXN0ICQkdHlwZW9mIGZpZWxkIGFnYWluc3QgU3ltYm9sLmZvcigncmVhY3QuZWxlbWVudCcpIHRvIGNoZWNrXG4gKiBpZiBzb21ldGhpbmcgaXMgYSBSZWFjdCBFbGVtZW50LlxuICpcbiAqIEBwYXJhbSB7Kn0gdHlwZVxuICogQHBhcmFtIHsqfSBwcm9wc1xuICogQHBhcmFtIHsqfSBrZXlcbiAqIEBwYXJhbSB7c3RyaW5nfG9iamVjdH0gcmVmXG4gKiBAcGFyYW0geyp9IG93bmVyXG4gKiBAcGFyYW0geyp9IHNlbGYgQSAqdGVtcG9yYXJ5KiBoZWxwZXIgdG8gZGV0ZWN0IHBsYWNlcyB3aGVyZSBgdGhpc2AgaXNcbiAqIGRpZmZlcmVudCBmcm9tIHRoZSBgb3duZXJgIHdoZW4gUmVhY3QuY3JlYXRlRWxlbWVudCBpcyBjYWxsZWQsIHNvIHRoYXQgd2VcbiAqIGNhbiB3YXJuLiBXZSB3YW50IHRvIGdldCByaWQgb2Ygb3duZXIgYW5kIHJlcGxhY2Ugc3RyaW5nIGByZWZgcyB3aXRoIGFycm93XG4gKiBmdW5jdGlvbnMsIGFuZCBhcyBsb25nIGFzIGB0aGlzYCBhbmQgb3duZXIgYXJlIHRoZSBzYW1lLCB0aGVyZSB3aWxsIGJlIG5vXG4gKiBjaGFuZ2UgaW4gYmVoYXZpb3IuXG4gKiBAcGFyYW0geyp9IHNvdXJjZSBBbiBhbm5vdGF0aW9uIG9iamVjdCAoYWRkZWQgYnkgYSB0cmFuc3BpbGVyIG9yIG90aGVyd2lzZSlcbiAqIGluZGljYXRpbmcgZmlsZW5hbWUsIGxpbmUgbnVtYmVyLCBhbmQvb3Igb3RoZXIgaW5mb3JtYXRpb24uXG4gKiBAaW50ZXJuYWxcbiAqL1xuXG5cbnZhciBSZWFjdEVsZW1lbnQgPSBmdW5jdGlvbiAodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgb3duZXIsIHByb3BzKSB7XG4gIHZhciBlbGVtZW50ID0ge1xuICAgIC8vIFRoaXMgdGFnIGFsbG93cyB1cyB0byB1bmlxdWVseSBpZGVudGlmeSB0aGlzIGFzIGEgUmVhY3QgRWxlbWVudFxuICAgICQkdHlwZW9mOiBSRUFDVF9FTEVNRU5UX1RZUEUsXG4gICAgLy8gQnVpbHQtaW4gcHJvcGVydGllcyB0aGF0IGJlbG9uZyBvbiB0aGUgZWxlbWVudFxuICAgIHR5cGU6IHR5cGUsXG4gICAga2V5OiBrZXksXG4gICAgcmVmOiByZWYsXG4gICAgcHJvcHM6IHByb3BzLFxuICAgIC8vIFJlY29yZCB0aGUgY29tcG9uZW50IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGlzIGVsZW1lbnQuXG4gICAgX293bmVyOiBvd25lclxuICB9O1xuXG4gIHtcbiAgICAvLyBUaGUgdmFsaWRhdGlvbiBmbGFnIGlzIGN1cnJlbnRseSBtdXRhdGl2ZS4gV2UgcHV0IGl0IG9uXG4gICAgLy8gYW4gZXh0ZXJuYWwgYmFja2luZyBzdG9yZSBzbyB0aGF0IHdlIGNhbiBmcmVlemUgdGhlIHdob2xlIG9iamVjdC5cbiAgICAvLyBUaGlzIGNhbiBiZSByZXBsYWNlZCB3aXRoIGEgV2Vha01hcCBvbmNlIHRoZXkgYXJlIGltcGxlbWVudGVkIGluXG4gICAgLy8gY29tbW9ubHkgdXNlZCBkZXZlbG9wbWVudCBlbnZpcm9ubWVudHMuXG4gICAgZWxlbWVudC5fc3RvcmUgPSB7fTsgLy8gVG8gbWFrZSBjb21wYXJpbmcgUmVhY3RFbGVtZW50cyBlYXNpZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMsIHdlIG1ha2VcbiAgICAvLyB0aGUgdmFsaWRhdGlvbiBmbGFnIG5vbi1lbnVtZXJhYmxlICh3aGVyZSBwb3NzaWJsZSwgd2hpY2ggc2hvdWxkXG4gICAgLy8gaW5jbHVkZSBldmVyeSBlbnZpcm9ubWVudCB3ZSBydW4gdGVzdHMgaW4pLCBzbyB0aGUgdGVzdCBmcmFtZXdvcmtcbiAgICAvLyBpZ25vcmVzIGl0LlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQuX3N0b3JlLCAndmFsaWRhdGVkJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICB2YWx1ZTogZmFsc2VcbiAgICB9KTsgLy8gc2VsZiBhbmQgc291cmNlIGFyZSBERVYgb25seSBwcm9wZXJ0aWVzLlxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGVsZW1lbnQsICdfc2VsZicsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBzZWxmXG4gICAgfSk7IC8vIFR3byBlbGVtZW50cyBjcmVhdGVkIGluIHR3byBkaWZmZXJlbnQgcGxhY2VzIHNob3VsZCBiZSBjb25zaWRlcmVkXG4gICAgLy8gZXF1YWwgZm9yIHRlc3RpbmcgcHVycG9zZXMgYW5kIHRoZXJlZm9yZSB3ZSBoaWRlIGl0IGZyb20gZW51bWVyYXRpb24uXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zb3VyY2UnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogZmFsc2UsXG4gICAgICB2YWx1ZTogc291cmNlXG4gICAgfSk7XG5cbiAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50LnByb3BzKTtcbiAgICAgIE9iamVjdC5mcmVlemUoZWxlbWVudCk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59O1xuLyoqXG4gKiBDcmVhdGUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgb2YgdGhlIGdpdmVuIHR5cGUuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2NyZWF0ZWVsZW1lbnRcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVFbGVtZW50KHR5cGUsIGNvbmZpZywgY2hpbGRyZW4pIHtcbiAgdmFyIHByb3BOYW1lOyAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG5cbiAgdmFyIHByb3BzID0ge307XG4gIHZhciBrZXkgPSBudWxsO1xuICB2YXIgcmVmID0gbnVsbDtcbiAgdmFyIHNlbGYgPSBudWxsO1xuICB2YXIgc291cmNlID0gbnVsbDtcblxuICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAgcmVmID0gY29uZmlnLnJlZjtcblxuICAgICAge1xuICAgICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgc2VsZiA9IGNvbmZpZy5fX3NlbGYgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb25maWcuX19zZWxmO1xuICAgIHNvdXJjZSA9IGNvbmZpZy5fX3NvdXJjZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGNvbmZpZy5fX3NvdXJjZTsgLy8gUmVtYWluaW5nIHByb3BlcnRpZXMgYXJlIGFkZGVkIHRvIGEgbmV3IHByb3BzIG9iamVjdFxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gQ2hpbGRyZW4gY2FuIGJlIG1vcmUgdGhhbiBvbmUgYXJndW1lbnQsIGFuZCB0aG9zZSBhcmUgdHJhbnNmZXJyZWQgb250b1xuICAvLyB0aGUgbmV3bHkgYWxsb2NhdGVkIHByb3BzIG9iamVjdC5cblxuXG4gIHZhciBjaGlsZHJlbkxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGggLSAyO1xuXG4gIGlmIChjaGlsZHJlbkxlbmd0aCA9PT0gMSkge1xuICAgIHByb3BzLmNoaWxkcmVuID0gY2hpbGRyZW47XG4gIH0gZWxzZSBpZiAoY2hpbGRyZW5MZW5ndGggPiAxKSB7XG4gICAgdmFyIGNoaWxkQXJyYXkgPSBBcnJheShjaGlsZHJlbkxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuTGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoaWxkQXJyYXlbaV0gPSBhcmd1bWVudHNbaSArIDJdO1xuICAgIH1cblxuICAgIHtcbiAgICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICAgIE9iamVjdC5mcmVlemUoY2hpbGRBcnJheSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgaWYgKHR5cGUgJiYgdHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICB2YXIgZGVmYXVsdFByb3BzID0gdHlwZS5kZWZhdWx0UHJvcHM7XG5cbiAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgaWYgKHByb3BzW3Byb3BOYW1lXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAge1xuICAgIGlmIChrZXkgfHwgcmVmKSB7XG4gICAgICB2YXIgZGlzcGxheU5hbWUgPSB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJyA/IHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8ICdVbmtub3duJyA6IHR5cGU7XG5cbiAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJlZikge1xuICAgICAgICBkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBSZWFjdEVsZW1lbnQodHlwZSwga2V5LCByZWYsIHNlbGYsIHNvdXJjZSwgUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCwgcHJvcHMpO1xufVxuZnVuY3Rpb24gY2xvbmVBbmRSZXBsYWNlS2V5KG9sZEVsZW1lbnQsIG5ld0tleSkge1xuICB2YXIgbmV3RWxlbWVudCA9IFJlYWN0RWxlbWVudChvbGRFbGVtZW50LnR5cGUsIG5ld0tleSwgb2xkRWxlbWVudC5yZWYsIG9sZEVsZW1lbnQuX3NlbGYsIG9sZEVsZW1lbnQuX3NvdXJjZSwgb2xkRWxlbWVudC5fb3duZXIsIG9sZEVsZW1lbnQucHJvcHMpO1xuICByZXR1cm4gbmV3RWxlbWVudDtcbn1cbi8qKlxuICogQ2xvbmUgYW5kIHJldHVybiBhIG5ldyBSZWFjdEVsZW1lbnQgdXNpbmcgZWxlbWVudCBhcyB0aGUgc3RhcnRpbmcgcG9pbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2Nsb25lZWxlbWVudFxuICovXG5cbmZ1bmN0aW9uIGNsb25lRWxlbWVudChlbGVtZW50LCBjb25maWcsIGNoaWxkcmVuKSB7XG4gIGlmIChlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlJlYWN0LmNsb25lRWxlbWVudCguLi4pOiBUaGUgYXJndW1lbnQgbXVzdCBiZSBhIFJlYWN0IGVsZW1lbnQsIGJ1dCB5b3UgcGFzc2VkIFwiICsgZWxlbWVudCArIFwiLlwiKTtcbiAgfVxuXG4gIHZhciBwcm9wTmFtZTsgLy8gT3JpZ2luYWwgcHJvcHMgYXJlIGNvcGllZFxuXG4gIHZhciBwcm9wcyA9IGFzc2lnbih7fSwgZWxlbWVudC5wcm9wcyk7IC8vIFJlc2VydmVkIG5hbWVzIGFyZSBleHRyYWN0ZWRcblxuICB2YXIga2V5ID0gZWxlbWVudC5rZXk7XG4gIHZhciByZWYgPSBlbGVtZW50LnJlZjsgLy8gU2VsZiBpcyBwcmVzZXJ2ZWQgc2luY2UgdGhlIG93bmVyIGlzIHByZXNlcnZlZC5cblxuICB2YXIgc2VsZiA9IGVsZW1lbnQuX3NlbGY7IC8vIFNvdXJjZSBpcyBwcmVzZXJ2ZWQgc2luY2UgY2xvbmVFbGVtZW50IGlzIHVubGlrZWx5IHRvIGJlIHRhcmdldGVkIGJ5IGFcbiAgLy8gdHJhbnNwaWxlciwgYW5kIHRoZSBvcmlnaW5hbCBzb3VyY2UgaXMgcHJvYmFibHkgYSBiZXR0ZXIgaW5kaWNhdG9yIG9mIHRoZVxuICAvLyB0cnVlIG93bmVyLlxuXG4gIHZhciBzb3VyY2UgPSBlbGVtZW50Ll9zb3VyY2U7IC8vIE93bmVyIHdpbGwgYmUgcHJlc2VydmVkLCB1bmxlc3MgcmVmIGlzIG92ZXJyaWRkZW5cblxuICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcblxuICBpZiAoY29uZmlnICE9IG51bGwpIHtcbiAgICBpZiAoaGFzVmFsaWRSZWYoY29uZmlnKSkge1xuICAgICAgLy8gU2lsZW50bHkgc3RlYWwgdGhlIHJlZiBmcm9tIHRoZSBwYXJlbnQuXG4gICAgICByZWYgPSBjb25maWcucmVmO1xuICAgICAgb3duZXIgPSBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50O1xuICAgIH1cblxuICAgIGlmIChoYXNWYWxpZEtleShjb25maWcpKSB7XG4gICAgICB7XG4gICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oY29uZmlnLmtleSk7XG4gICAgICB9XG5cbiAgICAgIGtleSA9ICcnICsgY29uZmlnLmtleTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIG92ZXJyaWRlIGV4aXN0aW5nIHByb3BzXG5cblxuICAgIHZhciBkZWZhdWx0UHJvcHM7XG5cbiAgICBpZiAoZWxlbWVudC50eXBlICYmIGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHMpIHtcbiAgICAgIGRlZmF1bHRQcm9wcyA9IGVsZW1lbnQudHlwZS5kZWZhdWx0UHJvcHM7XG4gICAgfVxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgaWYgKGNvbmZpZ1twcm9wTmFtZV0gPT09IHVuZGVmaW5lZCAmJiBkZWZhdWx0UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuICAgICAgICAgIHByb3BzW3Byb3BOYW1lXSA9IGRlZmF1bHRQcm9wc1twcm9wTmFtZV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSAvLyBDaGlsZHJlbiBjYW4gYmUgbW9yZSB0aGFuIG9uZSBhcmd1bWVudCwgYW5kIHRob3NlIGFyZSB0cmFuc2ZlcnJlZCBvbnRvXG4gIC8vIHRoZSBuZXdseSBhbGxvY2F0ZWQgcHJvcHMgb2JqZWN0LlxuXG5cbiAgdmFyIGNoaWxkcmVuTGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aCAtIDI7XG5cbiAgaWYgKGNoaWxkcmVuTGVuZ3RoID09PSAxKSB7XG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZHJlbjtcbiAgfSBlbHNlIGlmIChjaGlsZHJlbkxlbmd0aCA+IDEpIHtcbiAgICB2YXIgY2hpbGRBcnJheSA9IEFycmF5KGNoaWxkcmVuTGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW5MZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGRBcnJheVtpXSA9IGFyZ3VtZW50c1tpICsgMl07XG4gICAgfVxuXG4gICAgcHJvcHMuY2hpbGRyZW4gPSBjaGlsZEFycmF5O1xuICB9XG5cbiAgcmV0dXJuIFJlYWN0RWxlbWVudChlbGVtZW50LnR5cGUsIGtleSwgcmVmLCBzZWxmLCBzb3VyY2UsIG93bmVyLCBwcm9wcyk7XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50KG9iamVjdCkge1xuICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xufVxuXG52YXIgU0VQQVJBVE9SID0gJy4nO1xudmFyIFNVQlNFUEFSQVRPUiA9ICc6Jztcbi8qKlxuICogRXNjYXBlIGFuZCB3cmFwIGtleSBzbyBpdCBpcyBzYWZlIHRvIHVzZSBhcyBhIHJlYWN0aWRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IHRvIGJlIGVzY2FwZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9IHRoZSBlc2NhcGVkIGtleS5cbiAqL1xuXG5mdW5jdGlvbiBlc2NhcGUoa2V5KSB7XG4gIHZhciBlc2NhcGVSZWdleCA9IC9bPTpdL2c7XG4gIHZhciBlc2NhcGVyTG9va3VwID0ge1xuICAgICc9JzogJz0wJyxcbiAgICAnOic6ICc9MidcbiAgfTtcbiAgdmFyIGVzY2FwZWRTdHJpbmcgPSBrZXkucmVwbGFjZShlc2NhcGVSZWdleCwgZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgcmV0dXJuIGVzY2FwZXJMb29rdXBbbWF0Y2hdO1xuICB9KTtcbiAgcmV0dXJuICckJyArIGVzY2FwZWRTdHJpbmc7XG59XG4vKipcbiAqIFRPRE86IFRlc3QgdGhhdCBhIHNpbmdsZSBjaGlsZCBhbmQgYW4gYXJyYXkgd2l0aCBvbmUgaXRlbSBoYXZlIHRoZSBzYW1lIGtleVxuICogcGF0dGVybi5cbiAqL1xuXG5cbnZhciBkaWRXYXJuQWJvdXRNYXBzID0gZmFsc2U7XG52YXIgdXNlclByb3ZpZGVkS2V5RXNjYXBlUmVnZXggPSAvXFwvKy9nO1xuXG5mdW5jdGlvbiBlc2NhcGVVc2VyUHJvdmlkZWRLZXkodGV4dCkge1xuICByZXR1cm4gdGV4dC5yZXBsYWNlKHVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4LCAnJCYvJyk7XG59XG4vKipcbiAqIEdlbmVyYXRlIGEga2V5IHN0cmluZyB0aGF0IGlkZW50aWZpZXMgYSBlbGVtZW50IHdpdGhpbiBhIHNldC5cbiAqXG4gKiBAcGFyYW0geyp9IGVsZW1lbnQgQSBlbGVtZW50IHRoYXQgY291bGQgY29udGFpbiBhIG1hbnVhbCBrZXkuXG4gKiBAcGFyYW0ge251bWJlcn0gaW5kZXggSW5kZXggdGhhdCBpcyB1c2VkIGlmIGEgbWFudWFsIGtleSBpcyBub3QgcHJvdmlkZWQuXG4gKiBAcmV0dXJuIHtzdHJpbmd9XG4gKi9cblxuXG5mdW5jdGlvbiBnZXRFbGVtZW50S2V5KGVsZW1lbnQsIGluZGV4KSB7XG4gIC8vIERvIHNvbWUgdHlwZWNoZWNraW5nIGhlcmUgc2luY2Ugd2UgY2FsbCB0aGlzIGJsaW5kbHkuIFdlIHdhbnQgdG8gZW5zdXJlXG4gIC8vIHRoYXQgd2UgZG9uJ3QgYmxvY2sgcG90ZW50aWFsIGZ1dHVyZSBFUyBBUElzLlxuICBpZiAodHlwZW9mIGVsZW1lbnQgPT09ICdvYmplY3QnICYmIGVsZW1lbnQgIT09IG51bGwgJiYgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgIC8vIEV4cGxpY2l0IGtleVxuICAgIHtcbiAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24oZWxlbWVudC5rZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBlc2NhcGUoJycgKyBlbGVtZW50LmtleSk7XG4gIH0gLy8gSW1wbGljaXQga2V5IGRldGVybWluZWQgYnkgdGhlIGluZGV4IGluIHRoZSBzZXRcblxuXG4gIHJldHVybiBpbmRleC50b1N0cmluZygzNik7XG59XG5cbmZ1bmN0aW9uIG1hcEludG9BcnJheShjaGlsZHJlbiwgYXJyYXksIGVzY2FwZWRQcmVmaXgsIG5hbWVTb0ZhciwgY2FsbGJhY2spIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgY2hpbGRyZW47XG5cbiAgaWYgKHR5cGUgPT09ICd1bmRlZmluZWQnIHx8IHR5cGUgPT09ICdib29sZWFuJykge1xuICAgIC8vIEFsbCBvZiB0aGUgYWJvdmUgYXJlIHBlcmNlaXZlZCBhcyBudWxsLlxuICAgIGNoaWxkcmVuID0gbnVsbDtcbiAgfVxuXG4gIHZhciBpbnZva2VDYWxsYmFjayA9IGZhbHNlO1xuXG4gIGlmIChjaGlsZHJlbiA9PT0gbnVsbCkge1xuICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICBpbnZva2VDYWxsYmFjayA9IHRydWU7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBzd2l0Y2ggKGNoaWxkcmVuLiQkdHlwZW9mKSB7XG4gICAgICAgICAgY2FzZSBSRUFDVF9FTEVNRU5UX1RZUEU6XG4gICAgICAgICAgY2FzZSBSRUFDVF9QT1JUQUxfVFlQRTpcbiAgICAgICAgICAgIGludm9rZUNhbGxiYWNrID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgfVxuICB9XG5cbiAgaWYgKGludm9rZUNhbGxiYWNrKSB7XG4gICAgdmFyIF9jaGlsZCA9IGNoaWxkcmVuO1xuICAgIHZhciBtYXBwZWRDaGlsZCA9IGNhbGxiYWNrKF9jaGlsZCk7IC8vIElmIGl0J3MgdGhlIG9ubHkgY2hpbGQsIHRyZWF0IHRoZSBuYW1lIGFzIGlmIGl0IHdhcyB3cmFwcGVkIGluIGFuIGFycmF5XG4gICAgLy8gc28gdGhhdCBpdCdzIGNvbnNpc3RlbnQgaWYgdGhlIG51bWJlciBvZiBjaGlsZHJlbiBncm93czpcblxuICAgIHZhciBjaGlsZEtleSA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgKyBnZXRFbGVtZW50S2V5KF9jaGlsZCwgMCkgOiBuYW1lU29GYXI7XG5cbiAgICBpZiAoaXNBcnJheShtYXBwZWRDaGlsZCkpIHtcbiAgICAgIHZhciBlc2NhcGVkQ2hpbGRLZXkgPSAnJztcblxuICAgICAgaWYgKGNoaWxkS2V5ICE9IG51bGwpIHtcbiAgICAgICAgZXNjYXBlZENoaWxkS2V5ID0gZXNjYXBlVXNlclByb3ZpZGVkS2V5KGNoaWxkS2V5KSArICcvJztcbiAgICAgIH1cblxuICAgICAgbWFwSW50b0FycmF5KG1hcHBlZENoaWxkLCBhcnJheSwgZXNjYXBlZENoaWxkS2V5LCAnJywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKG1hcHBlZENoaWxkICE9IG51bGwpIHtcbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChtYXBwZWRDaGlsZCkpIHtcbiAgICAgICAge1xuICAgICAgICAgIC8vIFRoZSBgaWZgIHN0YXRlbWVudCBoZXJlIHByZXZlbnRzIGF1dG8tZGlzYWJsaW5nIG9mIHRoZSBzYWZlXG4gICAgICAgICAgLy8gY29lcmNpb24gRVNMaW50IHJ1bGUsIHNvIHdlIG11c3QgbWFudWFsbHkgZGlzYWJsZSBpdCBiZWxvdy5cbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lIEZsb3cgaW5jb3JyZWN0bHkgdGhpbmtzIFJlYWN0LlBvcnRhbCBkb2Vzbid0IGhhdmUgYSBrZXlcbiAgICAgICAgICBpZiAobWFwcGVkQ2hpbGQua2V5ICYmICghX2NoaWxkIHx8IF9jaGlsZC5rZXkgIT09IG1hcHBlZENoaWxkLmtleSkpIHtcbiAgICAgICAgICAgIGNoZWNrS2V5U3RyaW5nQ29lcmNpb24obWFwcGVkQ2hpbGQua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBtYXBwZWRDaGlsZCA9IGNsb25lQW5kUmVwbGFjZUtleShtYXBwZWRDaGlsZCwgLy8gS2VlcCBib3RoIHRoZSAobWFwcGVkKSBhbmQgb2xkIGtleXMgaWYgdGhleSBkaWZmZXIsIGp1c3QgYXNcbiAgICAgICAgLy8gdHJhdmVyc2VBbGxDaGlsZHJlbiB1c2VkIHRvIGRvIGZvciBvYmplY3RzIGFzIGNoaWxkcmVuXG4gICAgICAgIGVzY2FwZWRQcmVmaXggKyAoIC8vICRGbG93Rml4TWUgRmxvdyBpbmNvcnJlY3RseSB0aGlua3MgUmVhY3QuUG9ydGFsIGRvZXNuJ3QgaGF2ZSBhIGtleVxuICAgICAgICBtYXBwZWRDaGlsZC5rZXkgJiYgKCFfY2hpbGQgfHwgX2NoaWxkLmtleSAhPT0gbWFwcGVkQ2hpbGQua2V5KSA/IC8vICRGbG93Rml4TWUgRmxvdyBpbmNvcnJlY3RseSB0aGlua3MgZXhpc3RpbmcgZWxlbWVudCdzIGtleSBjYW4gYmUgYSBudW1iZXJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG4gICAgICAgIGVzY2FwZVVzZXJQcm92aWRlZEtleSgnJyArIG1hcHBlZENoaWxkLmtleSkgKyAnLycgOiAnJykgKyBjaGlsZEtleSk7XG4gICAgICB9XG5cbiAgICAgIGFycmF5LnB1c2gobWFwcGVkQ2hpbGQpO1xuICAgIH1cblxuICAgIHJldHVybiAxO1xuICB9XG5cbiAgdmFyIGNoaWxkO1xuICB2YXIgbmV4dE5hbWU7XG4gIHZhciBzdWJ0cmVlQ291bnQgPSAwOyAvLyBDb3VudCBvZiBjaGlsZHJlbiBmb3VuZCBpbiB0aGUgY3VycmVudCBzdWJ0cmVlLlxuXG4gIHZhciBuZXh0TmFtZVByZWZpeCA9IG5hbWVTb0ZhciA9PT0gJycgPyBTRVBBUkFUT1IgOiBuYW1lU29GYXIgKyBTVUJTRVBBUkFUT1I7XG5cbiAgaWYgKGlzQXJyYXkoY2hpbGRyZW4pKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgICAgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICAgIG5leHROYW1lID0gbmV4dE5hbWVQcmVmaXggKyBnZXRFbGVtZW50S2V5KGNoaWxkLCBpKTtcbiAgICAgIHN1YnRyZWVDb3VudCArPSBtYXBJbnRvQXJyYXkoY2hpbGQsIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuZXh0TmFtZSwgY2FsbGJhY2spO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4oY2hpbGRyZW4pO1xuXG4gICAgaWYgKHR5cGVvZiBpdGVyYXRvckZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB2YXIgaXRlcmFibGVDaGlsZHJlbiA9IGNoaWxkcmVuO1xuXG4gICAgICB7XG4gICAgICAgIC8vIFdhcm4gYWJvdXQgdXNpbmcgTWFwcyBhcyBjaGlsZHJlblxuICAgICAgICBpZiAoaXRlcmF0b3JGbiA9PT0gaXRlcmFibGVDaGlsZHJlbi5lbnRyaWVzKSB7XG4gICAgICAgICAgaWYgKCFkaWRXYXJuQWJvdXRNYXBzKSB7XG4gICAgICAgICAgICB3YXJuKCdVc2luZyBNYXBzIGFzIGNoaWxkcmVuIGlzIG5vdCBzdXBwb3J0ZWQuICcgKyAnVXNlIGFuIGFycmF5IG9mIGtleWVkIFJlYWN0RWxlbWVudHMgaW5zdGVhZC4nKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkaWRXYXJuQWJvdXRNYXBzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwoaXRlcmFibGVDaGlsZHJlbik7XG4gICAgICB2YXIgc3RlcDtcbiAgICAgIHZhciBpaSA9IDA7XG5cbiAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgY2hpbGQgPSBzdGVwLnZhbHVlO1xuICAgICAgICBuZXh0TmFtZSA9IG5leHROYW1lUHJlZml4ICsgZ2V0RWxlbWVudEtleShjaGlsZCwgaWkrKyk7XG4gICAgICAgIHN1YnRyZWVDb3VudCArPSBtYXBJbnRvQXJyYXkoY2hpbGQsIGFycmF5LCBlc2NhcGVkUHJlZml4LCBuZXh0TmFtZSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9zYWZlLXN0cmluZy1jb2VyY2lvblxuICAgICAgdmFyIGNoaWxkcmVuU3RyaW5nID0gU3RyaW5nKGNoaWxkcmVuKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIk9iamVjdHMgYXJlIG5vdCB2YWxpZCBhcyBhIFJlYWN0IGNoaWxkIChmb3VuZDogXCIgKyAoY2hpbGRyZW5TdHJpbmcgPT09ICdbb2JqZWN0IE9iamVjdF0nID8gJ29iamVjdCB3aXRoIGtleXMgeycgKyBPYmplY3Qua2V5cyhjaGlsZHJlbikuam9pbignLCAnKSArICd9JyA6IGNoaWxkcmVuU3RyaW5nKSArIFwiKS4gXCIgKyAnSWYgeW91IG1lYW50IHRvIHJlbmRlciBhIGNvbGxlY3Rpb24gb2YgY2hpbGRyZW4sIHVzZSBhbiBhcnJheSAnICsgJ2luc3RlYWQuJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN1YnRyZWVDb3VudDtcbn1cblxuLyoqXG4gKiBNYXBzIGNoaWxkcmVuIHRoYXQgYXJlIHR5cGljYWxseSBzcGVjaWZpZWQgYXMgYHByb3BzLmNoaWxkcmVuYC5cbiAqXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI3JlYWN0Y2hpbGRyZW5tYXBcbiAqXG4gKiBUaGUgcHJvdmlkZWQgbWFwRnVuY3Rpb24oY2hpbGQsIGluZGV4KSB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaFxuICogbGVhZiBjaGlsZC5cbiAqXG4gKiBAcGFyYW0gez8qfSBjaGlsZHJlbiBDaGlsZHJlbiB0cmVlIGNvbnRhaW5lci5cbiAqIEBwYXJhbSB7ZnVuY3Rpb24oKiwgaW50KX0gZnVuYyBUaGUgbWFwIGZ1bmN0aW9uLlxuICogQHBhcmFtIHsqfSBjb250ZXh0IENvbnRleHQgZm9yIG1hcEZ1bmN0aW9uLlxuICogQHJldHVybiB7b2JqZWN0fSBPYmplY3QgY29udGFpbmluZyB0aGUgb3JkZXJlZCBtYXAgb2YgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmMsIGNvbnRleHQpIHtcbiAgaWYgKGNoaWxkcmVuID09IG51bGwpIHtcbiAgICByZXR1cm4gY2hpbGRyZW47XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gW107XG4gIHZhciBjb3VudCA9IDA7XG4gIG1hcEludG9BcnJheShjaGlsZHJlbiwgcmVzdWx0LCAnJywgJycsIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBmdW5jLmNhbGwoY29udGV4dCwgY2hpbGQsIGNvdW50KyspO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbi8qKlxuICogQ291bnQgdGhlIG51bWJlciBvZiBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzXG4gKiBgcHJvcHMuY2hpbGRyZW5gLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0anMub3JnL2RvY3MvcmVhY3QtYXBpLmh0bWwjcmVhY3RjaGlsZHJlbmNvdW50XG4gKlxuICogQHBhcmFtIHs/Kn0gY2hpbGRyZW4gQ2hpbGRyZW4gdHJlZSBjb250YWluZXIuXG4gKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBudW1iZXIgb2YgY2hpbGRyZW4uXG4gKi9cblxuXG5mdW5jdGlvbiBjb3VudENoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHZhciBuID0gMDtcbiAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICBuKys7IC8vIERvbid0IHJldHVybiBhbnl0aGluZ1xuICB9KTtcbiAgcmV0dXJuIG47XG59XG5cbi8qKlxuICogSXRlcmF0ZXMgdGhyb3VnaCBjaGlsZHJlbiB0aGF0IGFyZSB0eXBpY2FsbHkgc3BlY2lmaWVkIGFzIGBwcm9wcy5jaGlsZHJlbmAuXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdGNoaWxkcmVuZm9yZWFjaFxuICpcbiAqIFRoZSBwcm92aWRlZCBmb3JFYWNoRnVuYyhjaGlsZCwgaW5kZXgpIHdpbGwgYmUgY2FsbGVkIGZvciBlYWNoXG4gKiBsZWFmIGNoaWxkLlxuICpcbiAqIEBwYXJhbSB7Pyp9IGNoaWxkcmVuIENoaWxkcmVuIHRyZWUgY29udGFpbmVyLlxuICogQHBhcmFtIHtmdW5jdGlvbigqLCBpbnQpfSBmb3JFYWNoRnVuY1xuICogQHBhcmFtIHsqfSBmb3JFYWNoQ29udGV4dCBDb250ZXh0IGZvciBmb3JFYWNoQ29udGV4dC5cbiAqL1xuZnVuY3Rpb24gZm9yRWFjaENoaWxkcmVuKGNoaWxkcmVuLCBmb3JFYWNoRnVuYywgZm9yRWFjaENvbnRleHQpIHtcbiAgbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uICgpIHtcbiAgICBmb3JFYWNoRnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyAvLyBEb24ndCByZXR1cm4gYW55dGhpbmcuXG4gIH0sIGZvckVhY2hDb250ZXh0KTtcbn1cbi8qKlxuICogRmxhdHRlbiBhIGNoaWxkcmVuIG9iamVjdCAodHlwaWNhbGx5IHNwZWNpZmllZCBhcyBgcHJvcHMuY2hpbGRyZW5gKSBhbmRcbiAqIHJldHVybiBhbiBhcnJheSB3aXRoIGFwcHJvcHJpYXRlbHkgcmUta2V5ZWQgY2hpbGRyZW4uXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdGNoaWxkcmVudG9hcnJheVxuICovXG5cblxuZnVuY3Rpb24gdG9BcnJheShjaGlsZHJlbikge1xuICByZXR1cm4gbWFwQ2hpbGRyZW4oY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIHJldHVybiBjaGlsZDtcbiAgfSkgfHwgW107XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IGNoaWxkIGluIGEgY29sbGVjdGlvbiBvZiBjaGlsZHJlbiBhbmQgdmVyaWZpZXMgdGhhdCB0aGVyZVxuICogaXMgb25seSBvbmUgY2hpbGQgaW4gdGhlIGNvbGxlY3Rpb24uXG4gKlxuICogU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvZG9jcy9yZWFjdC1hcGkuaHRtbCNyZWFjdGNoaWxkcmVub25seVxuICpcbiAqIFRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIHRoaXMgZnVuY3Rpb24gYXNzdW1lcyB0aGF0IGEgc2luZ2xlIGNoaWxkIGdldHNcbiAqIHBhc3NlZCB3aXRob3V0IGEgd3JhcHBlciwgYnV0IHRoZSBwdXJwb3NlIG9mIHRoaXMgaGVscGVyIGZ1bmN0aW9uIGlzIHRvXG4gKiBhYnN0cmFjdCBhd2F5IHRoZSBwYXJ0aWN1bGFyIHN0cnVjdHVyZSBvZiBjaGlsZHJlbi5cbiAqXG4gKiBAcGFyYW0gez9vYmplY3R9IGNoaWxkcmVuIENoaWxkIGNvbGxlY3Rpb24gc3RydWN0dXJlLlxuICogQHJldHVybiB7UmVhY3RFbGVtZW50fSBUaGUgZmlyc3QgYW5kIG9ubHkgYFJlYWN0RWxlbWVudGAgY29udGFpbmVkIGluIHRoZVxuICogc3RydWN0dXJlLlxuICovXG5cblxuZnVuY3Rpb24gb25seUNoaWxkKGNoaWxkcmVuKSB7XG4gIGlmICghaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdSZWFjdC5DaGlsZHJlbi5vbmx5IGV4cGVjdGVkIHRvIHJlY2VpdmUgYSBzaW5nbGUgUmVhY3QgZWxlbWVudCBjaGlsZC4nKTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ29udGV4dChkZWZhdWx0VmFsdWUpIHtcbiAgLy8gVE9ETzogU2Vjb25kIGFyZ3VtZW50IHVzZWQgdG8gYmUgYW4gb3B0aW9uYWwgYGNhbGN1bGF0ZUNoYW5nZWRCaXRzYFxuICAvLyBmdW5jdGlvbi4gV2FybiB0byByZXNlcnZlIGZvciBmdXR1cmUgdXNlP1xuICB2YXIgY29udGV4dCA9IHtcbiAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgIC8vIEFzIGEgd29ya2Fyb3VuZCB0byBzdXBwb3J0IG11bHRpcGxlIGNvbmN1cnJlbnQgcmVuZGVyZXJzLCB3ZSBjYXRlZ29yaXplXG4gICAgLy8gc29tZSByZW5kZXJlcnMgYXMgcHJpbWFyeSBhbmQgb3RoZXJzIGFzIHNlY29uZGFyeS4gV2Ugb25seSBleHBlY3RcbiAgICAvLyB0aGVyZSB0byBiZSB0d28gY29uY3VycmVudCByZW5kZXJlcnMgYXQgbW9zdDogUmVhY3QgTmF0aXZlIChwcmltYXJ5KSBhbmRcbiAgICAvLyBGYWJyaWMgKHNlY29uZGFyeSk7IFJlYWN0IERPTSAocHJpbWFyeSkgYW5kIFJlYWN0IEFSVCAoc2Vjb25kYXJ5KS5cbiAgICAvLyBTZWNvbmRhcnkgcmVuZGVyZXJzIHN0b3JlIHRoZWlyIGNvbnRleHQgdmFsdWVzIG9uIHNlcGFyYXRlIGZpZWxkcy5cbiAgICBfY3VycmVudFZhbHVlOiBkZWZhdWx0VmFsdWUsXG4gICAgX2N1cnJlbnRWYWx1ZTI6IGRlZmF1bHRWYWx1ZSxcbiAgICAvLyBVc2VkIHRvIHRyYWNrIGhvdyBtYW55IGNvbmN1cnJlbnQgcmVuZGVyZXJzIHRoaXMgY29udGV4dCBjdXJyZW50bHlcbiAgICAvLyBzdXBwb3J0cyB3aXRoaW4gaW4gYSBzaW5nbGUgcmVuZGVyZXIuIFN1Y2ggYXMgcGFyYWxsZWwgc2VydmVyIHJlbmRlcmluZy5cbiAgICBfdGhyZWFkQ291bnQ6IDAsXG4gICAgLy8gVGhlc2UgYXJlIGNpcmN1bGFyXG4gICAgUHJvdmlkZXI6IG51bGwsXG4gICAgQ29uc3VtZXI6IG51bGwsXG4gICAgLy8gQWRkIHRoZXNlIHRvIHVzZSBzYW1lIGhpZGRlbiBjbGFzcyBpbiBWTSBhcyBTZXJ2ZXJDb250ZXh0XG4gICAgX2RlZmF1bHRWYWx1ZTogbnVsbCxcbiAgICBfZ2xvYmFsTmFtZTogbnVsbFxuICB9O1xuICBjb250ZXh0LlByb3ZpZGVyID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9QUk9WSURFUl9UWVBFLFxuICAgIF9jb250ZXh0OiBjb250ZXh0XG4gIH07XG4gIHZhciBoYXNXYXJuZWRBYm91dFVzaW5nTmVzdGVkQ29udGV4dENvbnN1bWVycyA9IGZhbHNlO1xuICB2YXIgaGFzV2FybmVkQWJvdXRVc2luZ0NvbnN1bWVyUHJvdmlkZXIgPSBmYWxzZTtcbiAgdmFyIGhhc1dhcm5lZEFib3V0RGlzcGxheU5hbWVPbkNvbnN1bWVyID0gZmFsc2U7XG5cbiAge1xuICAgIC8vIEEgc2VwYXJhdGUgb2JqZWN0LCBidXQgcHJveGllcyBiYWNrIHRvIHRoZSBvcmlnaW5hbCBjb250ZXh0IG9iamVjdCBmb3JcbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eS4gSXQgaGFzIGEgZGlmZmVyZW50ICQkdHlwZW9mLCBzbyB3ZSBjYW4gcHJvcGVybHlcbiAgICAvLyB3YXJuIGZvciB0aGUgaW5jb3JyZWN0IHVzYWdlIG9mIENvbnRleHQgYXMgYSBDb25zdW1lci5cbiAgICB2YXIgQ29uc3VtZXIgPSB7XG4gICAgICAkJHR5cGVvZjogUkVBQ1RfQ09OVEVYVF9UWVBFLFxuICAgICAgX2NvbnRleHQ6IGNvbnRleHRcbiAgICB9OyAvLyAkRmxvd0ZpeE1lOiBGbG93IGNvbXBsYWlucyBhYm91dCBub3Qgc2V0dGluZyBhIHZhbHVlLCB3aGljaCBpcyBpbnRlbnRpb25hbCBoZXJlXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDb25zdW1lciwge1xuICAgICAgUHJvdmlkZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dFVzaW5nQ29uc3VtZXJQcm92aWRlcikge1xuICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ0NvbnN1bWVyUHJvdmlkZXIgPSB0cnVlO1xuXG4gICAgICAgICAgICBlcnJvcignUmVuZGVyaW5nIDxDb250ZXh0LkNvbnN1bWVyLlByb3ZpZGVyPiBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LlByb3ZpZGVyPiBpbnN0ZWFkPycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb250ZXh0LlByb3ZpZGVyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfUHJvdmlkZXIpIHtcbiAgICAgICAgICBjb250ZXh0LlByb3ZpZGVyID0gX1Byb3ZpZGVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgX2N1cnJlbnRWYWx1ZToge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5fY3VycmVudFZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgY29udGV4dC5fY3VycmVudFZhbHVlID0gX2N1cnJlbnRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF9jdXJyZW50VmFsdWUyOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBjb250ZXh0Ll9jdXJyZW50VmFsdWUyO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChfY3VycmVudFZhbHVlMikge1xuICAgICAgICAgIGNvbnRleHQuX2N1cnJlbnRWYWx1ZTIgPSBfY3VycmVudFZhbHVlMjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIF90aHJlYWRDb3VudDoge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY29udGV4dC5fdGhyZWFkQ291bnQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKF90aHJlYWRDb3VudCkge1xuICAgICAgICAgIGNvbnRleHQuX3RocmVhZENvdW50ID0gX3RocmVhZENvdW50O1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgQ29uc3VtZXI6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dFVzaW5nTmVzdGVkQ29udGV4dENvbnN1bWVycykge1xuICAgICAgICAgICAgaGFzV2FybmVkQWJvdXRVc2luZ05lc3RlZENvbnRleHRDb25zdW1lcnMgPSB0cnVlO1xuXG4gICAgICAgICAgICBlcnJvcignUmVuZGVyaW5nIDxDb250ZXh0LkNvbnN1bWVyLkNvbnN1bWVyPiBpcyBub3Qgc3VwcG9ydGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArICdhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBEaWQgeW91IG1lYW4gdG8gcmVuZGVyIDxDb250ZXh0LkNvbnN1bWVyPiBpbnN0ZWFkPycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBjb250ZXh0LkNvbnN1bWVyO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZGlzcGxheU5hbWU6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbnRleHQuZGlzcGxheU5hbWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKGRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgaWYgKCFoYXNXYXJuZWRBYm91dERpc3BsYXlOYW1lT25Db25zdW1lcikge1xuICAgICAgICAgICAgd2FybignU2V0dGluZyBgZGlzcGxheU5hbWVgIG9uIENvbnRleHQuQ29uc3VtZXIgaGFzIG5vIGVmZmVjdC4gJyArIFwiWW91IHNob3VsZCBzZXQgaXQgZGlyZWN0bHkgb24gdGhlIGNvbnRleHQgd2l0aCBDb250ZXh0LmRpc3BsYXlOYW1lID0gJyVzJy5cIiwgZGlzcGxheU5hbWUpO1xuXG4gICAgICAgICAgICBoYXNXYXJuZWRBYm91dERpc3BsYXlOYW1lT25Db25zdW1lciA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7IC8vICRGbG93Rml4TWU6IEZsb3cgY29tcGxhaW5zIGFib3V0IG1pc3NpbmcgcHJvcGVydGllcyBiZWNhdXNlIGl0IGRvZXNuJ3QgdW5kZXJzdGFuZCBkZWZpbmVQcm9wZXJ0eVxuXG4gICAgY29udGV4dC5Db25zdW1lciA9IENvbnN1bWVyO1xuICB9XG5cbiAge1xuICAgIGNvbnRleHQuX2N1cnJlbnRSZW5kZXJlciA9IG51bGw7XG4gICAgY29udGV4dC5fY3VycmVudFJlbmRlcmVyMiA9IG51bGw7XG4gIH1cblxuICByZXR1cm4gY29udGV4dDtcbn1cblxudmFyIFVuaW5pdGlhbGl6ZWQgPSAtMTtcbnZhciBQZW5kaW5nID0gMDtcbnZhciBSZXNvbHZlZCA9IDE7XG52YXIgUmVqZWN0ZWQgPSAyO1xuXG5mdW5jdGlvbiBsYXp5SW5pdGlhbGl6ZXIocGF5bG9hZCkge1xuICBpZiAocGF5bG9hZC5fc3RhdHVzID09PSBVbmluaXRpYWxpemVkKSB7XG4gICAgdmFyIGN0b3IgPSBwYXlsb2FkLl9yZXN1bHQ7XG4gICAgdmFyIHRoZW5hYmxlID0gY3RvcigpOyAvLyBUcmFuc2l0aW9uIHRvIHRoZSBuZXh0IHN0YXRlLlxuICAgIC8vIFRoaXMgbWlnaHQgdGhyb3cgZWl0aGVyIGJlY2F1c2UgaXQncyBtaXNzaW5nIG9yIHRocm93cy4gSWYgc28sIHdlIHRyZWF0IGl0XG4gICAgLy8gYXMgc3RpbGwgdW5pbml0aWFsaXplZCBhbmQgdHJ5IGFnYWluIG5leHQgdGltZS4gV2hpY2ggaXMgdGhlIHNhbWUgYXMgd2hhdFxuICAgIC8vIGhhcHBlbnMgaWYgdGhlIGN0b3Igb3IgYW55IHdyYXBwZXJzIHByb2Nlc3NpbmcgdGhlIGN0b3IgdGhyb3dzLiBUaGlzIG1pZ2h0XG4gICAgLy8gZW5kIHVwIGZpeGluZyBpdCBpZiB0aGUgcmVzb2x1dGlvbiB3YXMgYSBjb25jdXJyZW5jeSBidWcuXG5cbiAgICB0aGVuYWJsZS50aGVuKGZ1bmN0aW9uIChtb2R1bGVPYmplY3QpIHtcbiAgICAgIGlmIChwYXlsb2FkLl9zdGF0dXMgPT09IFBlbmRpbmcgfHwgcGF5bG9hZC5fc3RhdHVzID09PSBVbmluaXRpYWxpemVkKSB7XG4gICAgICAgIC8vIFRyYW5zaXRpb24gdG8gdGhlIG5leHQgc3RhdGUuXG4gICAgICAgIHZhciByZXNvbHZlZCA9IHBheWxvYWQ7XG4gICAgICAgIHJlc29sdmVkLl9zdGF0dXMgPSBSZXNvbHZlZDtcbiAgICAgICAgcmVzb2x2ZWQuX3Jlc3VsdCA9IG1vZHVsZU9iamVjdDtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmIChwYXlsb2FkLl9zdGF0dXMgPT09IFBlbmRpbmcgfHwgcGF5bG9hZC5fc3RhdHVzID09PSBVbmluaXRpYWxpemVkKSB7XG4gICAgICAgIC8vIFRyYW5zaXRpb24gdG8gdGhlIG5leHQgc3RhdGUuXG4gICAgICAgIHZhciByZWplY3RlZCA9IHBheWxvYWQ7XG4gICAgICAgIHJlamVjdGVkLl9zdGF0dXMgPSBSZWplY3RlZDtcbiAgICAgICAgcmVqZWN0ZWQuX3Jlc3VsdCA9IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKHBheWxvYWQuX3N0YXR1cyA9PT0gVW5pbml0aWFsaXplZCkge1xuICAgICAgLy8gSW4gY2FzZSwgd2UncmUgc3RpbGwgdW5pbml0aWFsaXplZCwgdGhlbiB3ZSdyZSB3YWl0aW5nIGZvciB0aGUgdGhlbmFibGVcbiAgICAgIC8vIHRvIHJlc29sdmUuIFNldCBpdCBhcyBwZW5kaW5nIGluIHRoZSBtZWFudGltZS5cbiAgICAgIHZhciBwZW5kaW5nID0gcGF5bG9hZDtcbiAgICAgIHBlbmRpbmcuX3N0YXR1cyA9IFBlbmRpbmc7XG4gICAgICBwZW5kaW5nLl9yZXN1bHQgPSB0aGVuYWJsZTtcbiAgICB9XG4gIH1cblxuICBpZiAocGF5bG9hZC5fc3RhdHVzID09PSBSZXNvbHZlZCkge1xuICAgIHZhciBtb2R1bGVPYmplY3QgPSBwYXlsb2FkLl9yZXN1bHQ7XG5cbiAgICB7XG4gICAgICBpZiAobW9kdWxlT2JqZWN0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZXJyb3IoJ2xhenk6IEV4cGVjdGVkIHRoZSByZXN1bHQgb2YgYSBkeW5hbWljIGltcCcgKyAnb3J0KCkgY2FsbC4gJyArICdJbnN0ZWFkIHJlY2VpdmVkOiAlc1xcblxcbllvdXIgY29kZSBzaG91bGQgbG9vayBsaWtlOiBcXG4gICcgKyAvLyBCcmVhayB1cCBpbXBvcnRzIHRvIGF2b2lkIGFjY2lkZW50YWxseSBwYXJzaW5nIHRoZW0gYXMgZGVwZW5kZW5jaWVzLlxuICAgICAgICAnY29uc3QgTXlDb21wb25lbnQgPSBsYXp5KCgpID0+IGltcCcgKyBcIm9ydCgnLi9NeUNvbXBvbmVudCcpKVxcblxcblwiICsgJ0RpZCB5b3UgYWNjaWRlbnRhbGx5IHB1dCBjdXJseSBicmFjZXMgYXJvdW5kIHRoZSBpbXBvcnQ/JywgbW9kdWxlT2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB7XG4gICAgICBpZiAoISgnZGVmYXVsdCcgaW4gbW9kdWxlT2JqZWN0KSkge1xuICAgICAgICBlcnJvcignbGF6eTogRXhwZWN0ZWQgdGhlIHJlc3VsdCBvZiBhIGR5bmFtaWMgaW1wJyArICdvcnQoKSBjYWxsLiAnICsgJ0luc3RlYWQgcmVjZWl2ZWQ6ICVzXFxuXFxuWW91ciBjb2RlIHNob3VsZCBsb29rIGxpa2U6IFxcbiAgJyArIC8vIEJyZWFrIHVwIGltcG9ydHMgdG8gYXZvaWQgYWNjaWRlbnRhbGx5IHBhcnNpbmcgdGhlbSBhcyBkZXBlbmRlbmNpZXMuXG4gICAgICAgICdjb25zdCBNeUNvbXBvbmVudCA9IGxhenkoKCkgPT4gaW1wJyArIFwib3J0KCcuL015Q29tcG9uZW50JykpXCIsIG1vZHVsZU9iamVjdCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG1vZHVsZU9iamVjdC5kZWZhdWx0O1xuICB9IGVsc2Uge1xuICAgIHRocm93IHBheWxvYWQuX3Jlc3VsdDtcbiAgfVxufVxuXG5mdW5jdGlvbiBsYXp5KGN0b3IpIHtcbiAgdmFyIHBheWxvYWQgPSB7XG4gICAgLy8gV2UgdXNlIHRoZXNlIGZpZWxkcyB0byBzdG9yZSB0aGUgcmVzdWx0LlxuICAgIF9zdGF0dXM6IFVuaW5pdGlhbGl6ZWQsXG4gICAgX3Jlc3VsdDogY3RvclxuICB9O1xuICB2YXIgbGF6eVR5cGUgPSB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0xBWllfVFlQRSxcbiAgICBfcGF5bG9hZDogcGF5bG9hZCxcbiAgICBfaW5pdDogbGF6eUluaXRpYWxpemVyXG4gIH07XG5cbiAge1xuICAgIC8vIEluIHByb2R1Y3Rpb24sIHRoaXMgd291bGQganVzdCBzZXQgaXQgb24gdGhlIG9iamVjdC5cbiAgICB2YXIgZGVmYXVsdFByb3BzO1xuICAgIHZhciBwcm9wVHlwZXM7IC8vICRGbG93Rml4TWVcblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGxhenlUeXBlLCB7XG4gICAgICBkZWZhdWx0UHJvcHM6IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZGVmYXVsdFByb3BzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdEZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgICBlcnJvcignUmVhY3QubGF6eSguLi4pOiBJdCBpcyBub3Qgc3VwcG9ydGVkIHRvIGFzc2lnbiBgZGVmYXVsdFByb3BzYCB0byAnICsgJ2EgbGF6eSBjb21wb25lbnQgaW1wb3J0LiBFaXRoZXIgc3BlY2lmeSB0aGVtIHdoZXJlIHRoZSBjb21wb25lbnQgJyArICdpcyBkZWZpbmVkLCBvciBjcmVhdGUgYSB3cmFwcGluZyBjb21wb25lbnQgYXJvdW5kIGl0LicpO1xuXG4gICAgICAgICAgZGVmYXVsdFByb3BzID0gbmV3RGVmYXVsdFByb3BzOyAvLyBNYXRjaCBwcm9kdWN0aW9uIGJlaGF2aW9yIG1vcmUgY2xvc2VseTpcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG5cbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobGF6eVR5cGUsICdkZWZhdWx0UHJvcHMnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBwcm9wVHlwZXM6IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gcHJvcFR5cGVzO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdQcm9wVHlwZXMpIHtcbiAgICAgICAgICBlcnJvcignUmVhY3QubGF6eSguLi4pOiBJdCBpcyBub3Qgc3VwcG9ydGVkIHRvIGFzc2lnbiBgcHJvcFR5cGVzYCB0byAnICsgJ2EgbGF6eSBjb21wb25lbnQgaW1wb3J0LiBFaXRoZXIgc3BlY2lmeSB0aGVtIHdoZXJlIHRoZSBjb21wb25lbnQgJyArICdpcyBkZWZpbmVkLCBvciBjcmVhdGUgYSB3cmFwcGluZyBjb21wb25lbnQgYXJvdW5kIGl0LicpO1xuXG4gICAgICAgICAgcHJvcFR5cGVzID0gbmV3UHJvcFR5cGVzOyAvLyBNYXRjaCBwcm9kdWN0aW9uIGJlaGF2aW9yIG1vcmUgY2xvc2VseTpcbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lXG5cbiAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobGF6eVR5cGUsICdwcm9wVHlwZXMnLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBsYXp5VHlwZTtcbn1cblxuZnVuY3Rpb24gZm9yd2FyZFJlZihyZW5kZXIpIHtcbiAge1xuICAgIGlmIChyZW5kZXIgIT0gbnVsbCAmJiByZW5kZXIuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSkge1xuICAgICAgZXJyb3IoJ2ZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHJlY2VpdmVkIGEgYG1lbW9gICcgKyAnY29tcG9uZW50LiBJbnN0ZWFkIG9mIGZvcndhcmRSZWYobWVtbyguLi4pKSwgdXNlICcgKyAnbWVtbyhmb3J3YXJkUmVmKC4uLikpLicpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlbmRlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZXJyb3IoJ2ZvcndhcmRSZWYgcmVxdWlyZXMgYSByZW5kZXIgZnVuY3Rpb24gYnV0IHdhcyBnaXZlbiAlcy4nLCByZW5kZXIgPT09IG51bGwgPyAnbnVsbCcgOiB0eXBlb2YgcmVuZGVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHJlbmRlci5sZW5ndGggIT09IDAgJiYgcmVuZGVyLmxlbmd0aCAhPT0gMikge1xuICAgICAgICBlcnJvcignZm9yd2FyZFJlZiByZW5kZXIgZnVuY3Rpb25zIGFjY2VwdCBleGFjdGx5IHR3byBwYXJhbWV0ZXJzOiBwcm9wcyBhbmQgcmVmLiAlcycsIHJlbmRlci5sZW5ndGggPT09IDEgPyAnRGlkIHlvdSBmb3JnZXQgdG8gdXNlIHRoZSByZWYgcGFyYW1ldGVyPycgOiAnQW55IGFkZGl0aW9uYWwgcGFyYW1ldGVyIHdpbGwgYmUgdW5kZWZpbmVkLicpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChyZW5kZXIgIT0gbnVsbCkge1xuICAgICAgaWYgKHJlbmRlci5kZWZhdWx0UHJvcHMgIT0gbnVsbCB8fCByZW5kZXIucHJvcFR5cGVzICE9IG51bGwpIHtcbiAgICAgICAgZXJyb3IoJ2ZvcndhcmRSZWYgcmVuZGVyIGZ1bmN0aW9ucyBkbyBub3Qgc3VwcG9ydCBwcm9wVHlwZXMgb3IgZGVmYXVsdFByb3BzLiAnICsgJ0RpZCB5b3UgYWNjaWRlbnRhbGx5IHBhc3MgYSBSZWFjdCBjb21wb25lbnQ/Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIGVsZW1lbnRUeXBlID0ge1xuICAgICQkdHlwZW9mOiBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFLFxuICAgIHJlbmRlcjogcmVuZGVyXG4gIH07XG5cbiAge1xuICAgIHZhciBvd25OYW1lO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgJ2Rpc3BsYXlOYW1lJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBvd25OYW1lID0gbmFtZTsgLy8gVGhlIGlubmVyIGNvbXBvbmVudCBzaG91bGRuJ3QgaW5oZXJpdCB0aGlzIGRpc3BsYXkgbmFtZSBpbiBtb3N0IGNhc2VzLFxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBjb21wb25lbnQgbWF5IGJlIHVzZWQgZWxzZXdoZXJlLlxuICAgICAgICAvLyBCdXQgaXQncyBuaWNlIGZvciBhbm9ueW1vdXMgZnVuY3Rpb25zIHRvIGluaGVyaXQgdGhlIG5hbWUsXG4gICAgICAgIC8vIHNvIHRoYXQgb3VyIGNvbXBvbmVudC1zdGFjayBnZW5lcmF0aW9uIGxvZ2ljIHdpbGwgZGlzcGxheSB0aGVpciBmcmFtZXMuXG4gICAgICAgIC8vIEFuIGFub255bW91cyBmdW5jdGlvbiBnZW5lcmFsbHkgc3VnZ2VzdHMgYSBwYXR0ZXJuIGxpa2U6XG4gICAgICAgIC8vICAgUmVhY3QuZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4gey4uLn0pO1xuICAgICAgICAvLyBUaGlzIGtpbmQgb2YgaW5uZXIgZnVuY3Rpb24gaXMgbm90IHVzZWQgZWxzZXdoZXJlIHNvIHRoZSBzaWRlIGVmZmVjdCBpcyBva2F5LlxuXG4gICAgICAgIGlmICghcmVuZGVyLm5hbWUgJiYgIXJlbmRlci5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgIHJlbmRlci5kaXNwbGF5TmFtZSA9IG5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBlbGVtZW50VHlwZTtcbn1cblxudmFyIFJFQUNUX01PRFVMRV9SRUZFUkVOQ0U7XG5cbntcbiAgUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1vZHVsZS5yZWZlcmVuY2UnKTtcbn1cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpIHtcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9IC8vIE5vdGU6IHR5cGVvZiBtaWdodCBiZSBvdGhlciB0aGFuICdzeW1ib2wnIG9yICdudW1iZXInIChlLmcuIGlmIGl0J3MgYSBwb2x5ZmlsbCkuXG5cblxuICBpZiAodHlwZSA9PT0gUkVBQ1RfRlJBR01FTlRfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9QUk9GSUxFUl9UWVBFIHx8IGVuYWJsZURlYnVnVHJhY2luZyAgfHwgdHlwZSA9PT0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9UWVBFIHx8IHR5cGUgPT09IFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRSB8fCBlbmFibGVMZWdhY3lIaWRkZW4gIHx8IHR5cGUgPT09IFJFQUNUX09GRlNDUkVFTl9UWVBFIHx8IGVuYWJsZVNjb3BlQVBJICB8fCBlbmFibGVDYWNoZUVsZW1lbnQgIHx8IGVuYWJsZVRyYW5zaXRpb25UcmFjaW5nICkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsKSB7XG4gICAgaWYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0xBWllfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9NRU1PX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfUFJPVklERVJfVFlQRSB8fCB0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9DT05URVhUX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSB8fCAvLyBUaGlzIG5lZWRzIHRvIGluY2x1ZGUgYWxsIHBvc3NpYmxlIG1vZHVsZSByZWZlcmVuY2Ugb2JqZWN0XG4gICAgLy8gdHlwZXMgc3VwcG9ydGVkIGJ5IGFueSBGbGlnaHQgY29uZmlndXJhdGlvbiBhbnl3aGVyZSBzaW5jZVxuICAgIC8vIHdlIGRvbid0IGtub3cgd2hpY2ggRmxpZ2h0IGJ1aWxkIHRoaXMgd2lsbCBlbmQgdXAgYmVpbmcgdXNlZFxuICAgIC8vIHdpdGguXG4gICAgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSB8fCB0eXBlLmdldE1vZHVsZUlkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbWVtbyh0eXBlLCBjb21wYXJlKSB7XG4gIHtcbiAgICBpZiAoIWlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSkge1xuICAgICAgZXJyb3IoJ21lbW86IFRoZSBmaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgY29tcG9uZW50LiBJbnN0ZWFkICcgKyAncmVjZWl2ZWQ6ICVzJywgdHlwZSA9PT0gbnVsbCA/ICdudWxsJyA6IHR5cGVvZiB0eXBlKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZWxlbWVudFR5cGUgPSB7XG4gICAgJCR0eXBlb2Y6IFJFQUNUX01FTU9fVFlQRSxcbiAgICB0eXBlOiB0eXBlLFxuICAgIGNvbXBhcmU6IGNvbXBhcmUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiBjb21wYXJlXG4gIH07XG5cbiAge1xuICAgIHZhciBvd25OYW1lO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50VHlwZSwgJ2Rpc3BsYXlOYW1lJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIG93bk5hbWU7XG4gICAgICB9LFxuICAgICAgc2V0OiBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBvd25OYW1lID0gbmFtZTsgLy8gVGhlIGlubmVyIGNvbXBvbmVudCBzaG91bGRuJ3QgaW5oZXJpdCB0aGlzIGRpc3BsYXkgbmFtZSBpbiBtb3N0IGNhc2VzLFxuICAgICAgICAvLyBiZWNhdXNlIHRoZSBjb21wb25lbnQgbWF5IGJlIHVzZWQgZWxzZXdoZXJlLlxuICAgICAgICAvLyBCdXQgaXQncyBuaWNlIGZvciBhbm9ueW1vdXMgZnVuY3Rpb25zIHRvIGluaGVyaXQgdGhlIG5hbWUsXG4gICAgICAgIC8vIHNvIHRoYXQgb3VyIGNvbXBvbmVudC1zdGFjayBnZW5lcmF0aW9uIGxvZ2ljIHdpbGwgZGlzcGxheSB0aGVpciBmcmFtZXMuXG4gICAgICAgIC8vIEFuIGFub255bW91cyBmdW5jdGlvbiBnZW5lcmFsbHkgc3VnZ2VzdHMgYSBwYXR0ZXJuIGxpa2U6XG4gICAgICAgIC8vICAgUmVhY3QubWVtbygocHJvcHMpID0+IHsuLi59KTtcbiAgICAgICAgLy8gVGhpcyBraW5kIG9mIGlubmVyIGZ1bmN0aW9uIGlzIG5vdCB1c2VkIGVsc2V3aGVyZSBzbyB0aGUgc2lkZSBlZmZlY3QgaXMgb2theS5cblxuICAgICAgICBpZiAoIXR5cGUubmFtZSAmJiAhdHlwZS5kaXNwbGF5TmFtZSkge1xuICAgICAgICAgIHR5cGUuZGlzcGxheU5hbWUgPSBuYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZWxlbWVudFR5cGU7XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVEaXNwYXRjaGVyKCkge1xuICB2YXIgZGlzcGF0Y2hlciA9IFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudDtcblxuICB7XG4gICAgaWYgKGRpc3BhdGNoZXIgPT09IG51bGwpIHtcbiAgICAgIGVycm9yKCdJbnZhbGlkIGhvb2sgY2FsbC4gSG9va3MgY2FuIG9ubHkgYmUgY2FsbGVkIGluc2lkZSBvZiB0aGUgYm9keSBvZiBhIGZ1bmN0aW9uIGNvbXBvbmVudC4gVGhpcyBjb3VsZCBoYXBwZW4gZm9yJyArICcgb25lIG9mIHRoZSBmb2xsb3dpbmcgcmVhc29uczpcXG4nICsgJzEuIFlvdSBtaWdodCBoYXZlIG1pc21hdGNoaW5nIHZlcnNpb25zIG9mIFJlYWN0IGFuZCB0aGUgcmVuZGVyZXIgKHN1Y2ggYXMgUmVhY3QgRE9NKVxcbicgKyAnMi4gWW91IG1pZ2h0IGJlIGJyZWFraW5nIHRoZSBSdWxlcyBvZiBIb29rc1xcbicgKyAnMy4gWW91IG1pZ2h0IGhhdmUgbW9yZSB0aGFuIG9uZSBjb3B5IG9mIFJlYWN0IGluIHRoZSBzYW1lIGFwcFxcbicgKyAnU2VlIGh0dHBzOi8vcmVhY3Rqcy5vcmcvbGluay9pbnZhbGlkLWhvb2stY2FsbCBmb3IgdGlwcyBhYm91dCBob3cgdG8gZGVidWcgYW5kIGZpeCB0aGlzIHByb2JsZW0uJyk7XG4gICAgfVxuICB9IC8vIFdpbGwgcmVzdWx0IGluIGEgbnVsbCBhY2Nlc3MgZXJyb3IgaWYgYWNjZXNzZWQgb3V0c2lkZSByZW5kZXIgcGhhc2UuIFdlXG4gIC8vIGludGVudGlvbmFsbHkgZG9uJ3QgdGhyb3cgb3VyIG93biBlcnJvciBiZWNhdXNlIHRoaXMgaXMgaW4gYSBob3QgcGF0aC5cbiAgLy8gQWxzbyBoZWxwcyBlbnN1cmUgdGhpcyBpcyBpbmxpbmVkLlxuXG5cbiAgcmV0dXJuIGRpc3BhdGNoZXI7XG59XG5mdW5jdGlvbiB1c2VDb250ZXh0KENvbnRleHQpIHtcbiAgdmFyIGRpc3BhdGNoZXIgPSByZXNvbHZlRGlzcGF0Y2hlcigpO1xuXG4gIHtcbiAgICAvLyBUT0RPOiBhZGQgYSBtb3JlIGdlbmVyaWMgd2FybmluZyBmb3IgaW52YWxpZCB2YWx1ZXMuXG4gICAgaWYgKENvbnRleHQuX2NvbnRleHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIHJlYWxDb250ZXh0ID0gQ29udGV4dC5fY29udGV4dDsgLy8gRG9uJ3QgZGVkdXBsaWNhdGUgYmVjYXVzZSB0aGlzIGxlZ2l0aW1hdGVseSBjYXVzZXMgYnVnc1xuICAgICAgLy8gYW5kIG5vYm9keSBzaG91bGQgYmUgdXNpbmcgdGhpcyBpbiBleGlzdGluZyBjb2RlLlxuXG4gICAgICBpZiAocmVhbENvbnRleHQuQ29uc3VtZXIgPT09IENvbnRleHQpIHtcbiAgICAgICAgZXJyb3IoJ0NhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LkNvbnN1bWVyKSBpcyBub3Qgc3VwcG9ydGVkLCBtYXkgY2F1c2UgYnVncywgYW5kIHdpbGwgYmUgJyArICdyZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIERpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD8nKTtcbiAgICAgIH0gZWxzZSBpZiAocmVhbENvbnRleHQuUHJvdmlkZXIgPT09IENvbnRleHQpIHtcbiAgICAgICAgZXJyb3IoJ0NhbGxpbmcgdXNlQ29udGV4dChDb250ZXh0LlByb3ZpZGVyKSBpcyBub3Qgc3VwcG9ydGVkLiAnICsgJ0RpZCB5b3UgbWVhbiB0byBjYWxsIHVzZUNvbnRleHQoQ29udGV4dCkgaW5zdGVhZD8nKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gZGlzcGF0Y2hlci51c2VDb250ZXh0KENvbnRleHQpO1xufVxuZnVuY3Rpb24gdXNlU3RhdGUoaW5pdGlhbFN0YXRlKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlU3RhdGUoaW5pdGlhbFN0YXRlKTtcbn1cbmZ1bmN0aW9uIHVzZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCkge1xuICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gIHJldHVybiBkaXNwYXRjaGVyLnVzZVJlZHVjZXIocmVkdWNlciwgaW5pdGlhbEFyZywgaW5pdCk7XG59XG5mdW5jdGlvbiB1c2VSZWYoaW5pdGlhbFZhbHVlKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlUmVmKGluaXRpYWxWYWx1ZSk7XG59XG5mdW5jdGlvbiB1c2VFZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG59XG5mdW5jdGlvbiB1c2VJbnNlcnRpb25FZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlSW5zZXJ0aW9uRWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG59XG5mdW5jdGlvbiB1c2VMYXlvdXRFZmZlY3QoY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlTGF5b3V0RWZmZWN0KGNyZWF0ZSwgZGVwcyk7XG59XG5mdW5jdGlvbiB1c2VDYWxsYmFjayhjYWxsYmFjaywgZGVwcykge1xuICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gIHJldHVybiBkaXNwYXRjaGVyLnVzZUNhbGxiYWNrKGNhbGxiYWNrLCBkZXBzKTtcbn1cbmZ1bmN0aW9uIHVzZU1lbW8oY3JlYXRlLCBkZXBzKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlTWVtbyhjcmVhdGUsIGRlcHMpO1xufVxuZnVuY3Rpb24gdXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGNyZWF0ZSwgZGVwcykge1xuICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gIHJldHVybiBkaXNwYXRjaGVyLnVzZUltcGVyYXRpdmVIYW5kbGUocmVmLCBjcmVhdGUsIGRlcHMpO1xufVxuZnVuY3Rpb24gdXNlRGVidWdWYWx1ZSh2YWx1ZSwgZm9ybWF0dGVyRm4pIHtcbiAge1xuICAgIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgICByZXR1cm4gZGlzcGF0Y2hlci51c2VEZWJ1Z1ZhbHVlKHZhbHVlLCBmb3JtYXR0ZXJGbik7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb24oKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlVHJhbnNpdGlvbigpO1xufVxuZnVuY3Rpb24gdXNlRGVmZXJyZWRWYWx1ZSh2YWx1ZSkge1xuICB2YXIgZGlzcGF0Y2hlciA9IHJlc29sdmVEaXNwYXRjaGVyKCk7XG4gIHJldHVybiBkaXNwYXRjaGVyLnVzZURlZmVycmVkVmFsdWUodmFsdWUpO1xufVxuZnVuY3Rpb24gdXNlSWQoKSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlSWQoKTtcbn1cbmZ1bmN0aW9uIHVzZVN5bmNFeHRlcm5hbFN0b3JlKHN1YnNjcmliZSwgZ2V0U25hcHNob3QsIGdldFNlcnZlclNuYXBzaG90KSB7XG4gIHZhciBkaXNwYXRjaGVyID0gcmVzb2x2ZURpc3BhdGNoZXIoKTtcbiAgcmV0dXJuIGRpc3BhdGNoZXIudXNlU3luY0V4dGVybmFsU3RvcmUoc3Vic2NyaWJlLCBnZXRTbmFwc2hvdCwgZ2V0U2VydmVyU25hcHNob3QpO1xufVxuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWUgRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBkaXNhYmxlZERlcHRoKys7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAge1xuICAgIGRpc2FibGVkRGVwdGgtLTtcblxuICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkxvZ1xuICAgICAgICB9KSxcbiAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2SW5mb1xuICAgICAgICB9KSxcbiAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2V2FyblxuICAgICAgICB9KSxcbiAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkVycm9yXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwRW5kXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgfVxuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPCAwKSB7XG4gICAgICBlcnJvcignZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uICcgKyAnVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnREaXNwYXRjaGVyO1xudmFyIHByZWZpeDtcbmZ1bmN0aW9uIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUsIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgaWYgKHByZWZpeCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAvLyBFeHRyYWN0IHRoZSBWTSBzcGVjaWZpYyBwcmVmaXggdXNlZCBieSBlYWNoIGxpbmUuXG4gICAgICB0cnkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfSBjYXRjaCAoeCkge1xuICAgICAgICB2YXIgbWF0Y2ggPSB4LnN0YWNrLnRyaW0oKS5tYXRjaCgvXFxuKCAqKGF0ICk/KS8pO1xuICAgICAgICBwcmVmaXggPSBtYXRjaCAmJiBtYXRjaFsxXSB8fCAnJztcbiAgICAgIH1cbiAgICB9IC8vIFdlIHVzZSB0aGUgcHJlZml4IHRvIGVuc3VyZSBvdXIgc3RhY2tzIGxpbmUgdXAgd2l0aCBuYXRpdmUgc3RhY2sgZnJhbWVzLlxuXG5cbiAgICByZXR1cm4gJ1xcbicgKyBwcmVmaXggKyBuYW1lO1xuICB9XG59XG52YXIgcmVlbnRyeSA9IGZhbHNlO1xudmFyIGNvbXBvbmVudEZyYW1lQ2FjaGU7XG5cbntcbiAgdmFyIFBvc3NpYmx5V2Vha01hcCA9IHR5cGVvZiBXZWFrTWFwID09PSAnZnVuY3Rpb24nID8gV2Vha01hcCA6IE1hcDtcbiAgY29tcG9uZW50RnJhbWVDYWNoZSA9IG5ldyBQb3NzaWJseVdlYWtNYXAoKTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZShmbiwgY29uc3RydWN0KSB7XG4gIC8vIElmIHNvbWV0aGluZyBhc2tlZCBmb3IgYSBzdGFjayBpbnNpZGUgYSBmYWtlIHJlbmRlciwgaXQgc2hvdWxkIGdldCBpZ25vcmVkLlxuICBpZiAoICFmbiB8fCByZWVudHJ5KSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAge1xuICAgIHZhciBmcmFtZSA9IGNvbXBvbmVudEZyYW1lQ2FjaGUuZ2V0KGZuKTtcblxuICAgIGlmIChmcmFtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZnJhbWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGNvbnRyb2w7XG4gIHJlZW50cnkgPSB0cnVlO1xuICB2YXIgcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZSA9IEVycm9yLnByZXBhcmVTdGFja1RyYWNlOyAvLyAkRmxvd0ZpeE1lIEl0IGRvZXMgYWNjZXB0IHVuZGVmaW5lZC5cblxuICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHVuZGVmaW5lZDtcbiAgdmFyIHByZXZpb3VzRGlzcGF0Y2hlcjtcblxuICB7XG4gICAgcHJldmlvdXNEaXNwYXRjaGVyID0gUmVhY3RDdXJyZW50RGlzcGF0Y2hlciQxLmN1cnJlbnQ7IC8vIFNldCB0aGUgZGlzcGF0Y2hlciBpbiBERVYgYmVjYXVzZSB0aGlzIG1pZ2h0IGJlIGNhbGwgaW4gdGhlIHJlbmRlciBmdW5jdGlvblxuICAgIC8vIGZvciB3YXJuaW5ncy5cblxuICAgIFJlYWN0Q3VycmVudERpc3BhdGNoZXIkMS5jdXJyZW50ID0gbnVsbDtcbiAgICBkaXNhYmxlTG9ncygpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIHNob3VsZCB0aHJvdy5cbiAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfTsgLy8gJEZsb3dGaXhNZVxuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBXZSB1c2UgYSB0aHJvd2luZyBzZXR0ZXIgaW5zdGVhZCBvZiBmcm96ZW4gb3Igbm9uLXdyaXRhYmxlIHByb3BzXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgIC8vIFdlIGNvbnN0cnVjdCBhIGRpZmZlcmVudCBjb250cm9sIGZvciB0aGlzIGNhc2UgdG8gaW5jbHVkZSBhbnkgZXh0cmFcbiAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgIH1cblxuICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGZuKCk7XG4gICAgfVxuICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAvLyBUaGlzIGlzIGlubGluZWQgbWFudWFsbHkgYmVjYXVzZSBjbG9zdXJlIGRvZXNuJ3QgZG8gaXQgZm9yIHVzLlxuICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiB0eXBlb2Ygc2FtcGxlLnN0YWNrID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gVGhpcyBleHRyYWN0cyB0aGUgZmlyc3QgZnJhbWUgZnJvbSB0aGUgc2FtcGxlIHRoYXQgaXNuJ3QgYWxzbyBpbiB0aGUgY29udHJvbC5cbiAgICAgIC8vIFNraXBwaW5nIG9uZSBmcmFtZSB0aGF0IHdlIGFzc3VtZSBpcyB0aGUgZnJhbWUgdGhhdCBjYWxscyB0aGUgdHdvLlxuICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBzID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChzID49IDEgJiYgYyA+PSAwICYmIHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgLy8gV2UgZXhwZWN0IGF0IGxlYXN0IG9uZSBzdGFjayBmcmFtZSB0byBiZSBzaGFyZWQuXG4gICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgLy8gY3V0IG9mZiBkdWUgdG8gbWF4aW11bSBzdGFjayBsaW1pdHMuIEluIHRoaXMgY2FzZSwgb25lIG1heWJlIGN1dCBvZmZcbiAgICAgICAgLy8gZWFybGllciB0aGFuIHRoZSBvdGhlci4gV2UgYXNzdW1lIHRoYXQgdGhlIHNhbXBsZSBpcyBsb25nZXIgb3IgdGhlIHNhbWVcbiAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgLy8gdGhlIHNhbXBsZSBzb21ld2hlcmUgaW4gdGhlIGNvbnRyb2wuXG4gICAgICAgIGMtLTtcbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gLy8gUmV0dXJuIHRoZSBsaW5lIHdlIGZvdW5kLlxuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChzID49IDEgJiYgYyA+PSAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICByZWVudHJ5ID0gZmFsc2U7XG5cbiAgICB7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyJDEuY3VycmVudCA9IHByZXZpb3VzRGlzcGF0Y2hlcjtcbiAgICAgIHJlZW5hYmxlTG9ncygpO1xuICAgIH1cblxuICAgIEVycm9yLnByZXBhcmVTdGFja1RyYWNlID0gcHJldmlvdXNQcmVwYXJlU3RhY2tUcmFjZTtcbiAgfSAvLyBGYWxsYmFjayB0byBqdXN0IHVzaW5nIHRoZSBuYW1lIGlmIHdlIGNvdWxkbid0IG1ha2UgaXQgdGhyb3cuXG5cblxuICB2YXIgbmFtZSA9IGZuID8gZm4uZGlzcGxheU5hbWUgfHwgZm4ubmFtZSA6ICcnO1xuICB2YXIgc3ludGhldGljRnJhbWUgPSBuYW1lID8gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUobmFtZSkgOiAnJztcblxuICB7XG4gICAgaWYgKHR5cGVvZiBmbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY29tcG9uZW50RnJhbWVDYWNoZS5zZXQoZm4sIHN5bnRoZXRpY0ZyYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gc3ludGhldGljRnJhbWU7XG59XG5mdW5jdGlvbiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUoZm4sIHNvdXJjZSwgb3duZXJGbikge1xuICB7XG4gICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGZhbHNlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRDb25zdHJ1Y3QoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuICByZXR1cm4gISEocHJvdG90eXBlICYmIHByb3RvdHlwZS5pc1JlYWN0Q29tcG9uZW50KTtcbn1cblxuZnVuY3Rpb24gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKHR5cGUsIHNvdXJjZSwgb3duZXJGbikge1xuXG4gIGlmICh0eXBlID09IG51bGwpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB7XG4gICAgICByZXR1cm4gZGVzY3JpYmVOYXRpdmVDb21wb25lbnRGcmFtZSh0eXBlLCBzaG91bGRDb25zdHJ1Y3QodHlwZSkpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUodHlwZSk7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlJyk7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX0xJU1RfVFlQRTpcbiAgICAgIHJldHVybiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZSgnU3VzcGVuc2VMaXN0Jyk7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0ZPUldBUkRfUkVGX1RZUEU6XG4gICAgICAgIHJldHVybiBkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUodHlwZS5yZW5kZXIpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgLy8gTWVtbyBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgcmV0dXJuIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLnR5cGUsIHNvdXJjZSwgb3duZXJGbik7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gTGF6eSBtYXkgY29udGFpbiBhbnkgY29tcG9uZW50IHR5cGUgc28gd2UgcmVjdXJzaXZlbHkgcmVzb2x2ZSBpdC5cbiAgICAgICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoaW5pdChwYXlsb2FkKSwgc291cmNlLCBvd25lckZuKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7fVxuICAgICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG52YXIgbG9nZ2VkVHlwZUZhaWx1cmVzID0ge307XG52YXIgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcblxuZnVuY3Rpb24gc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcbiAgICAgIFJlYWN0RGVidWdDdXJyZW50RnJhbWUkMS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKG51bGwpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBjaGVja1Byb3BUeXBlcyh0eXBlU3BlY3MsIHZhbHVlcywgbG9jYXRpb24sIGNvbXBvbmVudE5hbWUsIGVsZW1lbnQpIHtcbiAge1xuICAgIC8vICRGbG93Rml4TWUgVGhpcyBpcyBva2F5IGJ1dCBGbG93IGRvZXNuJ3Qga25vdyBpdC5cbiAgICB2YXIgaGFzID0gRnVuY3Rpb24uY2FsbC5iaW5kKGhhc093blByb3BlcnR5KTtcblxuICAgIGZvciAodmFyIHR5cGVTcGVjTmFtZSBpbiB0eXBlU3BlY3MpIHtcbiAgICAgIGlmIChoYXModHlwZVNwZWNzLCB0eXBlU3BlY05hbWUpKSB7XG4gICAgICAgIHZhciBlcnJvciQxID0gdm9pZCAwOyAvLyBQcm9wIHR5cGUgdmFsaWRhdGlvbiBtYXkgdGhyb3cuIEluIGNhc2UgdGhleSBkbywgd2UgZG9uJ3Qgd2FudCB0b1xuICAgICAgICAvLyBmYWlsIHRoZSByZW5kZXIgcGhhc2Ugd2hlcmUgaXQgZGlkbid0IGZhaWwgYmVmb3JlLiBTbyB3ZSBsb2cgaXQuXG4gICAgICAgIC8vIEFmdGVyIHRoZXNlIGhhdmUgYmVlbiBjbGVhbmVkIHVwLCB3ZSdsbCBsZXQgdGhlbSB0aHJvdy5cblxuICAgICAgICB0cnkge1xuICAgICAgICAgIC8vIFRoaXMgaXMgaW50ZW50aW9uYWxseSBhbiBpbnZhcmlhbnQgdGhhdCBnZXRzIGNhdWdodC4gSXQncyB0aGUgc2FtZVxuICAgICAgICAgIC8vIGJlaGF2aW9yIGFzIHdpdGhvdXQgdGhpcyBzdGF0ZW1lbnQgZXhjZXB0IHdpdGggYSBiZXR0ZXIgbWVzc2FnZS5cbiAgICAgICAgICBpZiAodHlwZW9mIHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvcHJvZC1lcnJvci1jb2Rlc1xuICAgICAgICAgICAgdmFyIGVyciA9IEVycm9yKChjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycpICsgJzogJyArIGxvY2F0aW9uICsgJyB0eXBlIGAnICsgdHlwZVNwZWNOYW1lICsgJ2AgaXMgaW52YWxpZDsgJyArICdpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSB0aGUgYHByb3AtdHlwZXNgIHBhY2thZ2UsIGJ1dCByZWNlaXZlZCBgJyArIHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSArICdgLicgKyAnVGhpcyBvZnRlbiBoYXBwZW5zIGJlY2F1c2Ugb2YgdHlwb3Mgc3VjaCBhcyBgUHJvcFR5cGVzLmZ1bmN0aW9uYCBpbnN0ZWFkIG9mIGBQcm9wVHlwZXMuZnVuY2AuJyk7XG4gICAgICAgICAgICBlcnIubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBlcnJvciQxID0gdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0odmFsdWVzLCB0eXBlU3BlY05hbWUsIGNvbXBvbmVudE5hbWUsIGxvY2F0aW9uLCBudWxsLCAnU0VDUkVUX0RPX05PVF9QQVNTX1RISVNfT1JfWU9VX1dJTExfQkVfRklSRUQnKTtcbiAgICAgICAgfSBjYXRjaCAoZXgpIHtcbiAgICAgICAgICBlcnJvciQxID0gZXg7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSAmJiAhKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvcikpIHtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCclczogdHlwZSBzcGVjaWZpY2F0aW9uIG9mICVzJyArICcgYCVzYCBpcyBpbnZhbGlkOyB0aGUgdHlwZSBjaGVja2VyICcgKyAnZnVuY3Rpb24gbXVzdCByZXR1cm4gYG51bGxgIG9yIGFuIGBFcnJvcmAgYnV0IHJldHVybmVkIGEgJXMuICcgKyAnWW91IG1heSBoYXZlIGZvcmdvdHRlbiB0byBwYXNzIGFuIGFyZ3VtZW50IHRvIHRoZSB0eXBlIGNoZWNrZXIgJyArICdjcmVhdG9yIChhcnJheU9mLCBpbnN0YW5jZU9mLCBvYmplY3RPZiwgb25lT2YsIG9uZU9mVHlwZSwgYW5kICcgKyAnc2hhcGUgYWxsIHJlcXVpcmUgYW4gYXJndW1lbnQpLicsIGNvbXBvbmVudE5hbWUgfHwgJ1JlYWN0IGNsYXNzJywgbG9jYXRpb24sIHR5cGVTcGVjTmFtZSwgdHlwZW9mIGVycm9yJDEpO1xuXG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQobnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZXJyb3IkMSBpbnN0YW5jZW9mIEVycm9yICYmICEoZXJyb3IkMS5tZXNzYWdlIGluIGxvZ2dlZFR5cGVGYWlsdXJlcykpIHtcbiAgICAgICAgICAvLyBPbmx5IG1vbml0b3IgdGhpcyBmYWlsdXJlIG9uY2UgYmVjYXVzZSB0aGVyZSB0ZW5kcyB0byBiZSBhIGxvdCBvZiB0aGVcbiAgICAgICAgICAvLyBzYW1lIGVycm9yLlxuICAgICAgICAgIGxvZ2dlZFR5cGVGYWlsdXJlc1tlcnJvciQxLm1lc3NhZ2VdID0gdHJ1ZTtcbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KTtcblxuICAgICAgICAgIGVycm9yKCdGYWlsZWQgJXMgdHlwZTogJXMnLCBsb2NhdGlvbiwgZXJyb3IkMS5tZXNzYWdlKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCkge1xuICB7XG4gICAgaWYgKGVsZW1lbnQpIHtcbiAgICAgIHZhciBvd25lciA9IGVsZW1lbnQuX293bmVyO1xuICAgICAgdmFyIHN0YWNrID0gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGVsZW1lbnQudHlwZSwgZWxlbWVudC5fc291cmNlLCBvd25lciA/IG93bmVyLnR5cGUgOiBudWxsKTtcbiAgICAgIHNldEV4dHJhU3RhY2tGcmFtZShzdGFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duO1xuXG57XG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAgaWYgKFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQpIHtcbiAgICB2YXIgbmFtZSA9IGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpO1xuXG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiAnXFxuXFxuQ2hlY2sgdGhlIHJlbmRlciBtZXRob2Qgb2YgYCcgKyBuYW1lICsgJ2AuJztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtKHNvdXJjZSkge1xuICBpZiAoc291cmNlICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZmlsZU5hbWUgPSBzb3VyY2UuZmlsZU5hbWUucmVwbGFjZSgvXi4qW1xcXFxcXC9dLywgJycpO1xuICAgIHZhciBsaW5lTnVtYmVyID0gc291cmNlLmxpbmVOdW1iZXI7XG4gICAgcmV0dXJuICdcXG5cXG5DaGVjayB5b3VyIGNvZGUgYXQgJyArIGZpbGVOYW1lICsgJzonICsgbGluZU51bWJlciArICcuJztcbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gZ2V0U291cmNlSW5mb0Vycm9yQWRkZW5kdW1Gb3JQcm9wcyhlbGVtZW50UHJvcHMpIHtcbiAgaWYgKGVsZW1lbnRQcm9wcyAhPT0gbnVsbCAmJiBlbGVtZW50UHJvcHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShlbGVtZW50UHJvcHMuX19zb3VyY2UpO1xuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuLyoqXG4gKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gKiBvYmplY3Qga2V5cyBhcmUgbm90IHZhbGlkLiBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIGJldHdlZW5cbiAqIHVwZGF0ZXMuXG4gKi9cblxuXG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICB2YXIgaW5mbyA9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuXG4gIGlmICghaW5mbykge1xuICAgIHZhciBwYXJlbnROYW1lID0gdHlwZW9mIHBhcmVudFR5cGUgPT09ICdzdHJpbmcnID8gcGFyZW50VHlwZSA6IHBhcmVudFR5cGUuZGlzcGxheU5hbWUgfHwgcGFyZW50VHlwZS5uYW1lO1xuXG4gICAgaWYgKHBhcmVudE5hbWUpIHtcbiAgICAgIGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50TmFtZSArIFwiPi5cIjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaW5mbztcbn1cbi8qKlxuICogV2FybiBpZiB0aGUgZWxlbWVudCBkb2Vzbid0IGhhdmUgYW4gZXhwbGljaXQga2V5IGFzc2lnbmVkIHRvIGl0LlxuICogVGhpcyBlbGVtZW50IGlzIGluIGFuIGFycmF5LiBUaGUgYXJyYXkgY291bGQgZ3JvdyBhbmQgc2hyaW5rIG9yIGJlXG4gKiByZW9yZGVyZWQuIEFsbCBjaGlsZHJlbiB0aGF0IGhhdmVuJ3QgYWxyZWFkeSBiZWVuIHZhbGlkYXRlZCBhcmUgcmVxdWlyZWQgdG9cbiAqIGhhdmUgYSBcImtleVwiIHByb3BlcnR5IGFzc2lnbmVkIHRvIGl0LiBFcnJvciBzdGF0dXNlcyBhcmUgY2FjaGVkIHNvIGEgd2FybmluZ1xuICogd2lsbCBvbmx5IGJlIHNob3duIG9uY2UuXG4gKlxuICogQGludGVybmFsXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudCBFbGVtZW50IHRoYXQgcmVxdWlyZXMgYSBrZXkuXG4gKiBAcGFyYW0geyp9IHBhcmVudFR5cGUgZWxlbWVudCdzIHBhcmVudCdzIHR5cGUuXG4gKi9cblxuXG5mdW5jdGlvbiB2YWxpZGF0ZUV4cGxpY2l0S2V5KGVsZW1lbnQsIHBhcmVudFR5cGUpIHtcbiAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gIHZhciBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvID0gZ2V0Q3VycmVudENvbXBvbmVudEVycm9ySW5mbyhwYXJlbnRUeXBlKTtcblxuICBpZiAob3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgb3duZXJIYXNLZXlVc2VXYXJuaW5nW2N1cnJlbnRDb21wb25lbnRFcnJvckluZm9dID0gdHJ1ZTsgLy8gVXN1YWxseSB0aGUgY3VycmVudCBvd25lciBpcyB0aGUgb2ZmZW5kZXIsIGJ1dCBpZiBpdCBhY2NlcHRzIGNoaWxkcmVuIGFzIGFcbiAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAvLyBhc3NpZ25pbmcgaXQgYSBrZXkuXG5cbiAgdmFyIGNoaWxkT3duZXIgPSAnJztcblxuICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIuY3VycmVudCkge1xuICAgIC8vIEdpdmUgdGhlIGNvbXBvbmVudCB0aGF0IG9yaWdpbmFsbHkgY3JlYXRlZCB0aGlzIGNoaWxkLlxuICAgIGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSArIFwiLlwiO1xuICB9XG5cbiAge1xuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCk7XG5cbiAgICBlcnJvcignRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLCBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvLCBjaGlsZE93bmVyKTtcblxuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gIH1cbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICBpZiAodHlwZW9mIG5vZGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkobm9kZSkpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjaGlsZCA9IG5vZGVbaV07XG5cbiAgICAgIGlmIChpc1ZhbGlkRWxlbWVudChjaGlsZCkpIHtcbiAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgLy8gVGhpcyBlbGVtZW50IHdhcyBwYXNzZWQgaW4gYSB2YWxpZCBsb2NhdGlvbi5cbiAgICBpZiAobm9kZS5fc3RvcmUpIHtcbiAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgfVxuICB9IGVsc2UgaWYgKG5vZGUpIHtcbiAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICBpZiAodHlwZW9mIGl0ZXJhdG9yRm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEVudHJ5IGl0ZXJhdG9ycyB1c2VkIHRvIHByb3ZpZGUgaW1wbGljaXQga2V5cyxcbiAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgaWYgKGl0ZXJhdG9yRm4gIT09IG5vZGUuZW50cmllcykge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYXRvckZuLmNhbGwobm9kZSk7XG4gICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgIHdoaWxlICghKHN0ZXAgPSBpdGVyYXRvci5uZXh0KCkpLmRvbmUpIHtcbiAgICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoc3RlcC52YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB7XG4gICAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cbiAgICBpZiAodHlwZSA9PT0gbnVsbCB8fCB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3BUeXBlcztcblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gTm90ZTogTWVtbyBvbmx5IGNoZWNrcyBvdXRlciBwcm9wcyBoZXJlLlxuICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSkpIHtcbiAgICAgIHByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BUeXBlcykge1xuICAgICAgLy8gSW50ZW50aW9uYWxseSBpbnNpZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBsYXp5IGluaXRpYWxpemVyczpcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBlbGVtZW50LnByb3BzLCAncHJvcCcsIG5hbWUsIGVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZS5Qcm9wVHlwZXMgIT09IHVuZGVmaW5lZCAmJiAhcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24pIHtcbiAgICAgIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdHJ1ZTsgLy8gSW50ZW50aW9uYWxseSBpbnNpZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBsYXp5IGluaXRpYWxpemVyczpcblxuICAgICAgdmFyIF9uYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuXG4gICAgICBlcnJvcignQ29tcG9uZW50ICVzIGRlY2xhcmVkIGBQcm9wVHlwZXNgIGluc3RlYWQgb2YgYHByb3BUeXBlc2AuIERpZCB5b3UgbWlzc3BlbGwgdGhlIHByb3BlcnR5IGFzc2lnbm1lbnQ/JywgX25hbWUgfHwgJ1Vua25vd24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHR5cGUuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nICYmICF0eXBlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCkge1xuICAgICAgZXJyb3IoJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmcmFnbWVudC5wcm9wcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoa2V5ICE9PSAnY2hpbGRyZW4nICYmIGtleSAhPT0gJ2tleScpIHtcbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cbiAgICAgICAgZXJyb3IoJ0ludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuICcgKyAnUmVhY3QuRnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBga2V5YCBhbmQgYGNoaWxkcmVuYCBwcm9wcy4nLCBrZXkpO1xuXG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZnJhZ21lbnQpO1xuXG4gICAgICBlcnJvcignSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4nKTtcblxuICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbih0eXBlLCBwcm9wcywgY2hpbGRyZW4pIHtcbiAgdmFyIHZhbGlkVHlwZSA9IGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKTsgLy8gV2Ugd2FybiBpbiB0aGlzIGNhc2UgYnV0IGRvbid0IHRocm93LiBXZSBleHBlY3QgdGhlIGVsZW1lbnQgY3JlYXRpb24gdG9cbiAgLy8gc3VjY2VlZCBhbmQgdGhlcmUgd2lsbCBsaWtlbHkgYmUgZXJyb3JzIGluIHJlbmRlci5cblxuICBpZiAoIXZhbGlkVHlwZSkge1xuICAgIHZhciBpbmZvID0gJyc7XG5cbiAgICBpZiAodHlwZSA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiB0eXBlID09PSAnb2JqZWN0JyAmJiB0eXBlICE9PSBudWxsICYmIE9iamVjdC5rZXlzKHR5cGUpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICB9XG5cbiAgICB2YXIgc291cmNlSW5mbyA9IGdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtRm9yUHJvcHMocHJvcHMpO1xuXG4gICAgaWYgKHNvdXJjZUluZm8pIHtcbiAgICAgIGluZm8gKz0gc291cmNlSW5mbztcbiAgICB9IGVsc2Uge1xuICAgICAgaW5mbyArPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcbiAgICB9XG5cbiAgICB2YXIgdHlwZVN0cmluZztcblxuICAgIGlmICh0eXBlID09PSBudWxsKSB7XG4gICAgICB0eXBlU3RyaW5nID0gJ251bGwnO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheSh0eXBlKSkge1xuICAgICAgdHlwZVN0cmluZyA9ICdhcnJheSc7XG4gICAgfSBlbHNlIGlmICh0eXBlICE9PSB1bmRlZmluZWQgJiYgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFKSB7XG4gICAgICB0eXBlU3RyaW5nID0gXCI8XCIgKyAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgJ1Vua25vd24nKSArIFwiIC8+XCI7XG4gICAgICBpbmZvID0gJyBEaWQgeW91IGFjY2lkZW50YWxseSBleHBvcnQgYSBKU1ggbGl0ZXJhbCBpbnN0ZWFkIG9mIGEgY29tcG9uZW50Pyc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZTtcbiAgICB9XG5cbiAgICB7XG4gICAgICBlcnJvcignUmVhY3QuY3JlYXRlRWxlbWVudDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgJyArICdidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlICcgKyAnY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCB0eXBlU3RyaW5nLCBpbmZvKTtcbiAgICB9XG4gIH1cblxuICB2YXIgZWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgLy8gVGhlIHJlc3VsdCBjYW4gYmUgbnVsbGlzaCBpZiBhIG1vY2sgb3IgYSBjdXN0b20gZnVuY3Rpb24gaXMgdXNlZC5cbiAgLy8gVE9ETzogRHJvcCB0aGlzIHdoZW4gdGhlc2UgYXJlIG5vIGxvbmdlciBhbGxvd2VkIGFzIHRoZSB0eXBlIGFyZ3VtZW50LlxuXG4gIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfSAvLyBTa2lwIGtleSB3YXJuaW5nIGlmIHRoZSB0eXBlIGlzbid0IHZhbGlkIHNpbmNlIG91ciBrZXkgdmFsaWRhdGlvbiBsb2dpY1xuICAvLyBkb2Vzbid0IGV4cGVjdCBhIG5vbi1zdHJpbmcvZnVuY3Rpb24gdHlwZSBhbmQgY2FuIHRocm93IGNvbmZ1c2luZyBlcnJvcnMuXG4gIC8vIFdlIGRvbid0IHdhbnQgZXhjZXB0aW9uIGJlaGF2aW9yIHRvIGRpZmZlciBiZXR3ZWVuIGRldiBhbmQgcHJvZC5cbiAgLy8gKFJlbmRlcmluZyB3aWxsIHRocm93IHdpdGggYSBoZWxwZnVsIG1lc3NhZ2UgYW5kIGFzIHNvb24gYXMgdGhlIHR5cGUgaXNcbiAgLy8gZml4ZWQsIHRoZSBrZXkgd2FybmluZ3Mgd2lsbCBhcHBlYXIuKVxuXG5cbiAgaWYgKHZhbGlkVHlwZSkge1xuICAgIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWxpZGF0ZUNoaWxkS2V5cyhhcmd1bWVudHNbaV0sIHR5cGUpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlID09PSBSRUFDVF9GUkFHTUVOVF9UWVBFKSB7XG4gICAgdmFsaWRhdGVGcmFnbWVudFByb3BzKGVsZW1lbnQpO1xuICB9IGVsc2Uge1xuICAgIHZhbGlkYXRlUHJvcFR5cGVzKGVsZW1lbnQpO1xuICB9XG5cbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG52YXIgZGlkV2FybkFib3V0RGVwcmVjYXRlZENyZWF0ZUZhY3RvcnkgPSBmYWxzZTtcbmZ1bmN0aW9uIGNyZWF0ZUZhY3RvcnlXaXRoVmFsaWRhdGlvbih0eXBlKSB7XG4gIHZhciB2YWxpZGF0ZWRGYWN0b3J5ID0gY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uLmJpbmQobnVsbCwgdHlwZSk7XG4gIHZhbGlkYXRlZEZhY3RvcnkudHlwZSA9IHR5cGU7XG5cbiAge1xuICAgIGlmICghZGlkV2FybkFib3V0RGVwcmVjYXRlZENyZWF0ZUZhY3RvcnkpIHtcbiAgICAgIGRpZFdhcm5BYm91dERlcHJlY2F0ZWRDcmVhdGVGYWN0b3J5ID0gdHJ1ZTtcblxuICAgICAgd2FybignUmVhY3QuY3JlYXRlRmFjdG9yeSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAnICsgJ2EgZnV0dXJlIG1ham9yIHJlbGVhc2UuIENvbnNpZGVyIHVzaW5nIEpTWCAnICsgJ29yIHVzZSBSZWFjdC5jcmVhdGVFbGVtZW50KCkgZGlyZWN0bHkgaW5zdGVhZC4nKTtcbiAgICB9IC8vIExlZ2FjeSBob29rOiByZW1vdmUgaXRcblxuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbGlkYXRlZEZhY3RvcnksICd0eXBlJywge1xuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2FybignRmFjdG9yeS50eXBlIGlzIGRlcHJlY2F0ZWQuIEFjY2VzcyB0aGUgY2xhc3MgZGlyZWN0bHkgJyArICdiZWZvcmUgcGFzc2luZyBpdCB0byBjcmVhdGVGYWN0b3J5LicpO1xuXG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAndHlwZScsIHtcbiAgICAgICAgICB2YWx1ZTogdHlwZVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gdmFsaWRhdGVkRmFjdG9yeTtcbn1cbmZ1bmN0aW9uIGNsb25lRWxlbWVudFdpdGhWYWxpZGF0aW9uKGVsZW1lbnQsIHByb3BzLCBjaGlsZHJlbikge1xuICB2YXIgbmV3RWxlbWVudCA9IGNsb25lRWxlbWVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXG4gIGZvciAodmFyIGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFsaWRhdGVDaGlsZEtleXMoYXJndW1lbnRzW2ldLCBuZXdFbGVtZW50LnR5cGUpO1xuICB9XG5cbiAgdmFsaWRhdGVQcm9wVHlwZXMobmV3RWxlbWVudCk7XG4gIHJldHVybiBuZXdFbGVtZW50O1xufVxuXG5mdW5jdGlvbiBzdGFydFRyYW5zaXRpb24oc2NvcGUsIG9wdGlvbnMpIHtcbiAgdmFyIHByZXZUcmFuc2l0aW9uID0gUmVhY3RDdXJyZW50QmF0Y2hDb25maWcudHJhbnNpdGlvbjtcbiAgUmVhY3RDdXJyZW50QmF0Y2hDb25maWcudHJhbnNpdGlvbiA9IHt9O1xuICB2YXIgY3VycmVudFRyYW5zaXRpb24gPSBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZy50cmFuc2l0aW9uO1xuXG4gIHtcbiAgICBSZWFjdEN1cnJlbnRCYXRjaENvbmZpZy50cmFuc2l0aW9uLl91cGRhdGVkRmliZXJzID0gbmV3IFNldCgpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICBzY29wZSgpO1xuICB9IGZpbmFsbHkge1xuICAgIFJlYWN0Q3VycmVudEJhdGNoQ29uZmlnLnRyYW5zaXRpb24gPSBwcmV2VHJhbnNpdGlvbjtcblxuICAgIHtcbiAgICAgIGlmIChwcmV2VHJhbnNpdGlvbiA9PT0gbnVsbCAmJiBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycykge1xuICAgICAgICB2YXIgdXBkYXRlZEZpYmVyc0NvdW50ID0gY3VycmVudFRyYW5zaXRpb24uX3VwZGF0ZWRGaWJlcnMuc2l6ZTtcblxuICAgICAgICBpZiAodXBkYXRlZEZpYmVyc0NvdW50ID4gMTApIHtcbiAgICAgICAgICB3YXJuKCdEZXRlY3RlZCBhIGxhcmdlIG51bWJlciBvZiB1cGRhdGVzIGluc2lkZSBzdGFydFRyYW5zaXRpb24uICcgKyAnSWYgdGhpcyBpcyBkdWUgdG8gYSBzdWJzY3JpcHRpb24gcGxlYXNlIHJlLXdyaXRlIGl0IHRvIHVzZSBSZWFjdCBwcm92aWRlZCBob29rcy4gJyArICdPdGhlcndpc2UgY29uY3VycmVudCBtb2RlIGd1YXJhbnRlZXMgYXJlIG9mZiB0aGUgdGFibGUuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjdXJyZW50VHJhbnNpdGlvbi5fdXBkYXRlZEZpYmVycy5jbGVhcigpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG52YXIgZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgPSBmYWxzZTtcbnZhciBlbnF1ZXVlVGFza0ltcGwgPSBudWxsO1xuZnVuY3Rpb24gZW5xdWV1ZVRhc2sodGFzaykge1xuICBpZiAoZW5xdWV1ZVRhc2tJbXBsID09PSBudWxsKSB7XG4gICAgdHJ5IHtcbiAgICAgIC8vIHJlYWQgcmVxdWlyZSBvZmYgdGhlIG1vZHVsZSBvYmplY3QgdG8gZ2V0IGFyb3VuZCB0aGUgYnVuZGxlcnMuXG4gICAgICAvLyB3ZSBkb24ndCB3YW50IHRoZW0gdG8gZGV0ZWN0IGEgcmVxdWlyZSBhbmQgYnVuZGxlIGEgTm9kZSBwb2x5ZmlsbC5cbiAgICAgIHZhciByZXF1aXJlU3RyaW5nID0gKCdyZXF1aXJlJyArIE1hdGgucmFuZG9tKCkpLnNsaWNlKDAsIDcpO1xuICAgICAgdmFyIG5vZGVSZXF1aXJlID0gbW9kdWxlICYmIG1vZHVsZVtyZXF1aXJlU3RyaW5nXTsgLy8gYXNzdW1pbmcgd2UncmUgaW4gbm9kZSwgbGV0J3MgdHJ5IHRvIGdldCBub2RlJ3NcbiAgICAgIC8vIHZlcnNpb24gb2Ygc2V0SW1tZWRpYXRlLCBieXBhc3NpbmcgZmFrZSB0aW1lcnMgaWYgYW55LlxuXG4gICAgICBlbnF1ZXVlVGFza0ltcGwgPSBub2RlUmVxdWlyZS5jYWxsKG1vZHVsZSwgJ3RpbWVycycpLnNldEltbWVkaWF0ZTtcbiAgICB9IGNhdGNoIChfZXJyKSB7XG4gICAgICAvLyB3ZSdyZSBpbiBhIGJyb3dzZXJcbiAgICAgIC8vIHdlIGNhbid0IHVzZSByZWd1bGFyIHRpbWVycyBiZWNhdXNlIHRoZXkgbWF5IHN0aWxsIGJlIGZha2VkXG4gICAgICAvLyBzbyB3ZSB0cnkgTWVzc2FnZUNoYW5uZWwrcG9zdE1lc3NhZ2UgaW5zdGVhZFxuICAgICAgZW5xdWV1ZVRhc2tJbXBsID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICAgIHtcbiAgICAgICAgICBpZiAoZGlkV2FybkFib3V0TWVzc2FnZUNoYW5uZWwgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCA9IHRydWU7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgTWVzc2FnZUNoYW5uZWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGVycm9yKCdUaGlzIGJyb3dzZXIgZG9lcyBub3QgaGF2ZSBhIE1lc3NhZ2VDaGFubmVsIGltcGxlbWVudGF0aW9uLCAnICsgJ3NvIGVucXVldWluZyB0YXNrcyB2aWEgYXdhaXQgYWN0KGFzeW5jICgpID0+IC4uLikgd2lsbCBmYWlsLiAnICsgJ1BsZWFzZSBmaWxlIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMgJyArICdpZiB5b3UgZW5jb3VudGVyIHRoaXMgd2FybmluZy4nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY2hhbm5lbCA9IG5ldyBNZXNzYWdlQ2hhbm5lbCgpO1xuICAgICAgICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGNhbGxiYWNrO1xuICAgICAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKHVuZGVmaW5lZCk7XG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBlbnF1ZXVlVGFza0ltcGwodGFzayk7XG59XG5cbnZhciBhY3RTY29wZURlcHRoID0gMDtcbnZhciBkaWRXYXJuTm9Bd2FpdEFjdCA9IGZhbHNlO1xuZnVuY3Rpb24gYWN0KGNhbGxiYWNrKSB7XG4gIHtcbiAgICAvLyBgYWN0YCBjYWxscyBjYW4gYmUgbmVzdGVkLCBzbyB3ZSB0cmFjayB0aGUgZGVwdGguIFRoaXMgcmVwcmVzZW50cyB0aGVcbiAgICAvLyBudW1iZXIgb2YgYGFjdGAgc2NvcGVzIG9uIHRoZSBzdGFjay5cbiAgICB2YXIgcHJldkFjdFNjb3BlRGVwdGggPSBhY3RTY29wZURlcHRoO1xuICAgIGFjdFNjb3BlRGVwdGgrKztcblxuICAgIGlmIChSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAvLyBUaGlzIGlzIHRoZSBvdXRlcm1vc3QgYGFjdGAgc2NvcGUuIEluaXRpYWxpemUgdGhlIHF1ZXVlLiBUaGUgcmVjb25jaWxlclxuICAgICAgLy8gd2lsbCBkZXRlY3QgdGhlIHF1ZXVlIGFuZCB1c2UgaXQgaW5zdGVhZCBvZiBTY2hlZHVsZXIuXG4gICAgICBSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50ID0gW107XG4gICAgfVxuXG4gICAgdmFyIHByZXZJc0JhdGNoaW5nTGVnYWN5ID0gUmVhY3RDdXJyZW50QWN0UXVldWUuaXNCYXRjaGluZ0xlZ2FjeTtcbiAgICB2YXIgcmVzdWx0O1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFVzZWQgdG8gcmVwcm9kdWNlIGJlaGF2aW9yIG9mIGBiYXRjaGVkVXBkYXRlc2AgaW4gbGVnYWN5IG1vZGUuIE9ubHlcbiAgICAgIC8vIHNldCB0byBgdHJ1ZWAgd2hpbGUgdGhlIGdpdmVuIGNhbGxiYWNrIGlzIGV4ZWN1dGVkLCBub3QgZm9yIHVwZGF0ZXNcbiAgICAgIC8vIHRyaWdnZXJlZCBkdXJpbmcgYW4gYXN5bmMgZXZlbnQsIGJlY2F1c2UgdGhpcyBpcyBob3cgdGhlIGxlZ2FjeVxuICAgICAgLy8gaW1wbGVtZW50YXRpb24gb2YgYGFjdGAgYmVoYXZlZC5cbiAgICAgIFJlYWN0Q3VycmVudEFjdFF1ZXVlLmlzQmF0Y2hpbmdMZWdhY3kgPSB0cnVlO1xuICAgICAgcmVzdWx0ID0gY2FsbGJhY2soKTsgLy8gUmVwbGljYXRlIGJlaGF2aW9yIG9mIG9yaWdpbmFsIGBhY3RgIGltcGxlbWVudGF0aW9uIGluIGxlZ2FjeSBtb2RlLFxuICAgICAgLy8gd2hpY2ggZmx1c2hlZCB1cGRhdGVzIGltbWVkaWF0ZWx5IGFmdGVyIHRoZSBzY29wZSBmdW5jdGlvbiBleGl0cywgZXZlblxuICAgICAgLy8gaWYgaXQncyBhbiBhc3luYyBmdW5jdGlvbi5cblxuICAgICAgaWYgKCFwcmV2SXNCYXRjaGluZ0xlZ2FjeSAmJiBSZWFjdEN1cnJlbnRBY3RRdWV1ZS5kaWRTY2hlZHVsZUxlZ2FjeVVwZGF0ZSkge1xuICAgICAgICB2YXIgcXVldWUgPSBSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50O1xuXG4gICAgICAgIGlmIChxdWV1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgIFJlYWN0Q3VycmVudEFjdFF1ZXVlLmRpZFNjaGVkdWxlTGVnYWN5VXBkYXRlID0gZmFsc2U7XG4gICAgICAgICAgZmx1c2hBY3RRdWV1ZShxdWV1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFNjb3BlRGVwdGgpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIFJlYWN0Q3VycmVudEFjdFF1ZXVlLmlzQmF0Y2hpbmdMZWdhY3kgPSBwcmV2SXNCYXRjaGluZ0xlZ2FjeTtcbiAgICB9XG5cbiAgICBpZiAocmVzdWx0ICE9PSBudWxsICYmIHR5cGVvZiByZXN1bHQgPT09ICdvYmplY3QnICYmIHR5cGVvZiByZXN1bHQudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdmFyIHRoZW5hYmxlUmVzdWx0ID0gcmVzdWx0OyAvLyBUaGUgY2FsbGJhY2sgaXMgYW4gYXN5bmMgZnVuY3Rpb24gKGkuZS4gcmV0dXJuZWQgYSBwcm9taXNlKS4gV2FpdFxuICAgICAgLy8gZm9yIGl0IHRvIHJlc29sdmUgYmVmb3JlIGV4aXRpbmcgdGhlIGN1cnJlbnQgc2NvcGUuXG5cbiAgICAgIHZhciB3YXNBd2FpdGVkID0gZmFsc2U7XG4gICAgICB2YXIgdGhlbmFibGUgPSB7XG4gICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICB3YXNBd2FpdGVkID0gdHJ1ZTtcbiAgICAgICAgICB0aGVuYWJsZVJlc3VsdC50aGVuKGZ1bmN0aW9uIChyZXR1cm5WYWx1ZSkge1xuICAgICAgICAgICAgcG9wQWN0U2NvcGUocHJldkFjdFNjb3BlRGVwdGgpO1xuXG4gICAgICAgICAgICBpZiAoYWN0U2NvcGVEZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAvLyBXZSd2ZSBleGl0ZWQgdGhlIG91dGVybW9zdCBhY3Qgc2NvcGUuIFJlY3Vyc2l2ZWx5IGZsdXNoIHRoZVxuICAgICAgICAgICAgICAvLyBxdWV1ZSB1bnRpbCB0aGVyZSdzIG5vIHJlbWFpbmluZyB3b3JrLlxuICAgICAgICAgICAgICByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShyZXR1cm5WYWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBUaGUgY2FsbGJhY2sgdGhyZXcgYW4gZXJyb3IuXG4gICAgICAgICAgICBwb3BBY3RTY29wZShwcmV2QWN0U2NvcGVEZXB0aCk7XG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB7XG4gICAgICAgIGlmICghZGlkV2Fybk5vQXdhaXRBY3QgJiYgdHlwZW9mIFByb21pc2UgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVuZGVmXG4gICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7fSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXdhc0F3YWl0ZWQpIHtcbiAgICAgICAgICAgICAgZGlkV2Fybk5vQXdhaXRBY3QgPSB0cnVlO1xuXG4gICAgICAgICAgICAgIGVycm9yKCdZb3UgY2FsbGVkIGFjdChhc3luYyAoKSA9PiAuLi4pIHdpdGhvdXQgYXdhaXQuICcgKyAnVGhpcyBjb3VsZCBsZWFkIHRvIHVuZXhwZWN0ZWQgdGVzdGluZyBiZWhhdmlvdXIsICcgKyAnaW50ZXJsZWF2aW5nIG11bHRpcGxlIGFjdCBjYWxscyBhbmQgbWl4aW5nIHRoZWlyICcgKyAnc2NvcGVzLiAnICsgJ1lvdSBzaG91bGQgLSBhd2FpdCBhY3QoYXN5bmMgKCkgPT4gLi4uKTsnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhlbmFibGU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXR1cm5WYWx1ZSA9IHJlc3VsdDsgLy8gVGhlIGNhbGxiYWNrIGlzIG5vdCBhbiBhc3luYyBmdW5jdGlvbi4gRXhpdCB0aGUgY3VycmVudCBzY29wZVxuICAgICAgLy8gaW1tZWRpYXRlbHksIHdpdGhvdXQgYXdhaXRpbmcuXG5cbiAgICAgIHBvcEFjdFNjb3BlKHByZXZBY3RTY29wZURlcHRoKTtcblxuICAgICAgaWYgKGFjdFNjb3BlRGVwdGggPT09IDApIHtcbiAgICAgICAgLy8gRXhpdGluZyB0aGUgb3V0ZXJtb3N0IGFjdCBzY29wZS4gRmx1c2ggdGhlIHF1ZXVlLlxuICAgICAgICB2YXIgX3F1ZXVlID0gUmVhY3RDdXJyZW50QWN0UXVldWUuY3VycmVudDtcblxuICAgICAgICBpZiAoX3F1ZXVlICE9PSBudWxsKSB7XG4gICAgICAgICAgZmx1c2hBY3RRdWV1ZShfcXVldWUpO1xuICAgICAgICAgIFJlYWN0Q3VycmVudEFjdFF1ZXVlLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICB9IC8vIFJldHVybiBhIHRoZW5hYmxlLiBJZiB0aGUgdXNlciBhd2FpdHMgaXQsIHdlJ2xsIGZsdXNoIGFnYWluIGluXG4gICAgICAgIC8vIGNhc2UgYWRkaXRpb25hbCB3b3JrIHdhcyBzY2hlZHVsZWQgYnkgYSBtaWNyb3Rhc2suXG5cblxuICAgICAgICB2YXIgX3RoZW5hYmxlID0ge1xuICAgICAgICAgIHRoZW46IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIC8vIENvbmZpcm0gd2UgaGF2ZW4ndCByZS1lbnRlcmVkIGFub3RoZXIgYGFjdGAgc2NvcGUsIGluIGNhc2VcbiAgICAgICAgICAgIC8vIHRoZSB1c2VyIGRvZXMgc29tZXRoaW5nIHdlaXJkIGxpa2UgYXdhaXQgdGhlIHRoZW5hYmxlXG4gICAgICAgICAgICAvLyBtdWx0aXBsZSB0aW1lcy5cbiAgICAgICAgICAgIGlmIChSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsdXNoIHRoZSBxdWV1ZSB1bnRpbCB0aGVyZSdzIG5vIHJlbWFpbmluZyB3b3JrLlxuICAgICAgICAgICAgICBSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50ID0gW107XG4gICAgICAgICAgICAgIHJlY3Vyc2l2ZWx5Rmx1c2hBc3luY0FjdFdvcmsocmV0dXJuVmFsdWUsIHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhlbmFibGU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBTaW5jZSB3ZSdyZSBpbnNpZGUgYSBuZXN0ZWQgYGFjdGAgc2NvcGUsIHRoZSByZXR1cm5lZCB0aGVuYWJsZVxuICAgICAgICAvLyBpbW1lZGlhdGVseSByZXNvbHZlcy4gVGhlIG91dGVyIHNjb3BlIHdpbGwgZmx1c2ggdGhlIHF1ZXVlLlxuICAgICAgICB2YXIgX3RoZW5hYmxlMiA9IHtcbiAgICAgICAgICB0aGVuOiBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhlbmFibGUyO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwb3BBY3RTY29wZShwcmV2QWN0U2NvcGVEZXB0aCkge1xuICB7XG4gICAgaWYgKHByZXZBY3RTY29wZURlcHRoICE9PSBhY3RTY29wZURlcHRoIC0gMSkge1xuICAgICAgZXJyb3IoJ1lvdSBzZWVtIHRvIGhhdmUgb3ZlcmxhcHBpbmcgYWN0KCkgY2FsbHMsIHRoaXMgaXMgbm90IHN1cHBvcnRlZC4gJyArICdCZSBzdXJlIHRvIGF3YWl0IHByZXZpb3VzIGFjdCgpIGNhbGxzIGJlZm9yZSBtYWtpbmcgYSBuZXcgb25lLiAnKTtcbiAgICB9XG5cbiAgICBhY3RTY29wZURlcHRoID0gcHJldkFjdFNjb3BlRGVwdGg7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVjdXJzaXZlbHlGbHVzaEFzeW5jQWN0V29yayhyZXR1cm5WYWx1ZSwgcmVzb2x2ZSwgcmVqZWN0KSB7XG4gIHtcbiAgICB2YXIgcXVldWUgPSBSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50O1xuXG4gICAgaWYgKHF1ZXVlICE9PSBudWxsKSB7XG4gICAgICB0cnkge1xuICAgICAgICBmbHVzaEFjdFF1ZXVlKHF1ZXVlKTtcbiAgICAgICAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIC8vIE5vIGFkZGl0aW9uYWwgd29yayB3YXMgc2NoZWR1bGVkLiBGaW5pc2guXG4gICAgICAgICAgICBSZWFjdEN1cnJlbnRBY3RRdWV1ZS5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICAgIHJlc29sdmUocmV0dXJuVmFsdWUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBLZWVwIGZsdXNoaW5nIHdvcmsgdW50aWwgdGhlcmUncyBub25lIGxlZnQuXG4gICAgICAgICAgICByZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrKHJldHVyblZhbHVlLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKHJldHVyblZhbHVlKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGlzRmx1c2hpbmcgPSBmYWxzZTtcblxuZnVuY3Rpb24gZmx1c2hBY3RRdWV1ZShxdWV1ZSkge1xuICB7XG4gICAgaWYgKCFpc0ZsdXNoaW5nKSB7XG4gICAgICAvLyBQcmV2ZW50IHJlLWVudHJhbmNlLlxuICAgICAgaXNGbHVzaGluZyA9IHRydWU7XG4gICAgICB2YXIgaSA9IDA7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIGZvciAoOyBpIDwgcXVldWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBxdWV1ZVtpXTtcblxuICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgIGNhbGxiYWNrID0gY2FsbGJhY2sodHJ1ZSk7XG4gICAgICAgICAgfSB3aGlsZSAoY2FsbGJhY2sgIT09IG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgcXVldWUubGVuZ3RoID0gMDtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8vIElmIHNvbWV0aGluZyB0aHJvd3MsIGxlYXZlIHRoZSByZW1haW5pbmcgY2FsbGJhY2tzIG9uIHRoZSBxdWV1ZS5cbiAgICAgICAgcXVldWUgPSBxdWV1ZS5zbGljZShpICsgMSk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgaXNGbHVzaGluZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG52YXIgY3JlYXRlRWxlbWVudCQxID0gIGNyZWF0ZUVsZW1lbnRXaXRoVmFsaWRhdGlvbiA7XG52YXIgY2xvbmVFbGVtZW50JDEgPSAgY2xvbmVFbGVtZW50V2l0aFZhbGlkYXRpb24gO1xudmFyIGNyZWF0ZUZhY3RvcnkgPSAgY3JlYXRlRmFjdG9yeVdpdGhWYWxpZGF0aW9uIDtcbnZhciBDaGlsZHJlbiA9IHtcbiAgbWFwOiBtYXBDaGlsZHJlbixcbiAgZm9yRWFjaDogZm9yRWFjaENoaWxkcmVuLFxuICBjb3VudDogY291bnRDaGlsZHJlbixcbiAgdG9BcnJheTogdG9BcnJheSxcbiAgb25seTogb25seUNoaWxkXG59O1xuXG5leHBvcnRzLkNoaWxkcmVuID0gQ2hpbGRyZW47XG5leHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5Qcm9maWxlciA9IFJFQUNUX1BST0ZJTEVSX1RZUEU7XG5leHBvcnRzLlB1cmVDb21wb25lbnQgPSBQdXJlQ29tcG9uZW50O1xuZXhwb3J0cy5TdHJpY3RNb2RlID0gUkVBQ1RfU1RSSUNUX01PREVfVFlQRTtcbmV4cG9ydHMuU3VzcGVuc2UgPSBSRUFDVF9TVVNQRU5TRV9UWVBFO1xuZXhwb3J0cy5fX1NFQ1JFVF9JTlRFUk5BTFNfRE9fTk9UX1VTRV9PUl9ZT1VfV0lMTF9CRV9GSVJFRCA9IFJlYWN0U2hhcmVkSW50ZXJuYWxzO1xuZXhwb3J0cy5hY3QgPSBhY3Q7XG5leHBvcnRzLmNsb25lRWxlbWVudCA9IGNsb25lRWxlbWVudCQxO1xuZXhwb3J0cy5jcmVhdGVDb250ZXh0ID0gY3JlYXRlQ29udGV4dDtcbmV4cG9ydHMuY3JlYXRlRWxlbWVudCA9IGNyZWF0ZUVsZW1lbnQkMTtcbmV4cG9ydHMuY3JlYXRlRmFjdG9yeSA9IGNyZWF0ZUZhY3Rvcnk7XG5leHBvcnRzLmNyZWF0ZVJlZiA9IGNyZWF0ZVJlZjtcbmV4cG9ydHMuZm9yd2FyZFJlZiA9IGZvcndhcmRSZWY7XG5leHBvcnRzLmlzVmFsaWRFbGVtZW50ID0gaXNWYWxpZEVsZW1lbnQ7XG5leHBvcnRzLmxhenkgPSBsYXp5O1xuZXhwb3J0cy5tZW1vID0gbWVtbztcbmV4cG9ydHMuc3RhcnRUcmFuc2l0aW9uID0gc3RhcnRUcmFuc2l0aW9uO1xuZXhwb3J0cy51bnN0YWJsZV9hY3QgPSBhY3Q7XG5leHBvcnRzLnVzZUNhbGxiYWNrID0gdXNlQ2FsbGJhY2s7XG5leHBvcnRzLnVzZUNvbnRleHQgPSB1c2VDb250ZXh0O1xuZXhwb3J0cy51c2VEZWJ1Z1ZhbHVlID0gdXNlRGVidWdWYWx1ZTtcbmV4cG9ydHMudXNlRGVmZXJyZWRWYWx1ZSA9IHVzZURlZmVycmVkVmFsdWU7XG5leHBvcnRzLnVzZUVmZmVjdCA9IHVzZUVmZmVjdDtcbmV4cG9ydHMudXNlSWQgPSB1c2VJZDtcbmV4cG9ydHMudXNlSW1wZXJhdGl2ZUhhbmRsZSA9IHVzZUltcGVyYXRpdmVIYW5kbGU7XG5leHBvcnRzLnVzZUluc2VydGlvbkVmZmVjdCA9IHVzZUluc2VydGlvbkVmZmVjdDtcbmV4cG9ydHMudXNlTGF5b3V0RWZmZWN0ID0gdXNlTGF5b3V0RWZmZWN0O1xuZXhwb3J0cy51c2VNZW1vID0gdXNlTWVtbztcbmV4cG9ydHMudXNlUmVkdWNlciA9IHVzZVJlZHVjZXI7XG5leHBvcnRzLnVzZVJlZiA9IHVzZVJlZjtcbmV4cG9ydHMudXNlU3RhdGUgPSB1c2VTdGF0ZTtcbmV4cG9ydHMudXNlU3luY0V4dGVybmFsU3RvcmUgPSB1c2VTeW5jRXh0ZXJuYWxTdG9yZTtcbmV4cG9ydHMudXNlVHJhbnNpdGlvbiA9IHVzZVRyYW5zaXRpb247XG5leHBvcnRzLnZlcnNpb24gPSBSZWFjdFZlcnNpb247XG4gICAgICAgICAgLyogZ2xvYmFsIF9fUkVBQ1RfREVWVE9PTFNfR0xPQkFMX0hPT0tfXyAqL1xuaWYgKFxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fICE9PSAndW5kZWZpbmVkJyAmJlxuICB0eXBlb2YgX19SRUFDVF9ERVZUT09MU19HTE9CQUxfSE9PS19fLnJlZ2lzdGVySW50ZXJuYWxNb2R1bGVTdG9wID09PVxuICAgICdmdW5jdGlvbidcbikge1xuICBfX1JFQUNUX0RFVlRPT0xTX0dMT0JBTF9IT09LX18ucmVnaXN0ZXJJbnRlcm5hbE1vZHVsZVN0b3AobmV3IEVycm9yKCkpO1xufVxuICAgICAgICBcbiAgfSkoKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5wcm9kdWN0aW9uLm1pbi5qcycpO1xufSBlbHNlIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC5kZXZlbG9wbWVudC5qcycpO1xufVxuIiwiLyoqXG4gKiBAbGljZW5zZSBSZWFjdFxuICogcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzXG4gKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09IFwicHJvZHVjdGlvblwiKSB7XG4gIChmdW5jdGlvbigpIHtcbid1c2Ugc3RyaWN0JztcblxudmFyIFJlYWN0ID0gcmVxdWlyZSgncmVhY3QnKTtcblxuLy8gQVRURU5USU9OXG4vLyBXaGVuIGFkZGluZyBuZXcgc3ltYm9scyB0byB0aGlzIGZpbGUsXG4vLyBQbGVhc2UgY29uc2lkZXIgYWxzbyBhZGRpbmcgdG8gJ3JlYWN0LWRldnRvb2xzLXNoYXJlZC9zcmMvYmFja2VuZC9SZWFjdFN5bWJvbHMnXG4vLyBUaGUgU3ltYm9sIHVzZWQgdG8gdGFnIHRoZSBSZWFjdEVsZW1lbnQtbGlrZSB0eXBlcy5cbnZhciBSRUFDVF9FTEVNRU5UX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50Jyk7XG52YXIgUkVBQ1RfUE9SVEFMX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5wb3J0YWwnKTtcbnZhciBSRUFDVF9GUkFHTUVOVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QuZnJhZ21lbnQnKTtcbnZhciBSRUFDVF9TVFJJQ1RfTU9ERV9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3RyaWN0X21vZGUnKTtcbnZhciBSRUFDVF9QUk9GSUxFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvZmlsZXInKTtcbnZhciBSRUFDVF9QUk9WSURFUl9UWVBFID0gU3ltYm9sLmZvcigncmVhY3QucHJvdmlkZXInKTtcbnZhciBSRUFDVF9DT05URVhUX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5jb250ZXh0Jyk7XG52YXIgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LmZvcndhcmRfcmVmJyk7XG52YXIgUkVBQ1RfU1VTUEVOU0VfVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0LnN1c3BlbnNlJyk7XG52YXIgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFID0gU3ltYm9sLmZvcigncmVhY3Quc3VzcGVuc2VfbGlzdCcpO1xudmFyIFJFQUNUX01FTU9fVFlQRSA9IFN5bWJvbC5mb3IoJ3JlYWN0Lm1lbW8nKTtcbnZhciBSRUFDVF9MQVpZX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5sYXp5Jyk7XG52YXIgUkVBQ1RfT0ZGU0NSRUVOX1RZUEUgPSBTeW1ib2wuZm9yKCdyZWFjdC5vZmZzY3JlZW4nKTtcbnZhciBNQVlCRV9JVEVSQVRPUl9TWU1CT0wgPSBTeW1ib2wuaXRlcmF0b3I7XG52YXIgRkFVWF9JVEVSQVRPUl9TWU1CT0wgPSAnQEBpdGVyYXRvcic7XG5mdW5jdGlvbiBnZXRJdGVyYXRvckZuKG1heWJlSXRlcmFibGUpIHtcbiAgaWYgKG1heWJlSXRlcmFibGUgPT09IG51bGwgfHwgdHlwZW9mIG1heWJlSXRlcmFibGUgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB2YXIgbWF5YmVJdGVyYXRvciA9IE1BWUJFX0lURVJBVE9SX1NZTUJPTCAmJiBtYXliZUl0ZXJhYmxlW01BWUJFX0lURVJBVE9SX1NZTUJPTF0gfHwgbWF5YmVJdGVyYWJsZVtGQVVYX0lURVJBVE9SX1NZTUJPTF07XG5cbiAgaWYgKHR5cGVvZiBtYXliZUl0ZXJhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG1heWJlSXRlcmF0b3I7XG4gIH1cblxuICByZXR1cm4gbnVsbDtcbn1cblxudmFyIFJlYWN0U2hhcmVkSW50ZXJuYWxzID0gUmVhY3QuX19TRUNSRVRfSU5URVJOQUxTX0RPX05PVF9VU0VfT1JfWU9VX1dJTExfQkVfRklSRUQ7XG5cbmZ1bmN0aW9uIGVycm9yKGZvcm1hdCkge1xuICB7XG4gICAge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yID4gMSA/IF9sZW4yIC0gMSA6IDApLCBfa2V5MiA9IDE7IF9rZXkyIDwgX2xlbjI7IF9rZXkyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MiAtIDFdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcHJpbnRXYXJuaW5nKCdlcnJvcicsIGZvcm1hdCwgYXJncyk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHByaW50V2FybmluZyhsZXZlbCwgZm9ybWF0LCBhcmdzKSB7XG4gIC8vIFdoZW4gY2hhbmdpbmcgdGhpcyBsb2dpYywgeW91IG1pZ2h0IHdhbnQgdG8gYWxzb1xuICAvLyB1cGRhdGUgY29uc29sZVdpdGhTdGFja0Rldi53d3cuanMgYXMgd2VsbC5cbiAge1xuICAgIHZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZTtcbiAgICB2YXIgc3RhY2sgPSBSZWFjdERlYnVnQ3VycmVudEZyYW1lLmdldFN0YWNrQWRkZW5kdW0oKTtcblxuICAgIGlmIChzdGFjayAhPT0gJycpIHtcbiAgICAgIGZvcm1hdCArPSAnJXMnO1xuICAgICAgYXJncyA9IGFyZ3MuY29uY2F0KFtzdGFja10pO1xuICAgIH0gLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3NhZmUtc3RyaW5nLWNvZXJjaW9uXG5cblxuICAgIHZhciBhcmdzV2l0aEZvcm1hdCA9IGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gU3RyaW5nKGl0ZW0pO1xuICAgIH0pOyAvLyBDYXJlZnVsOiBSTiBjdXJyZW50bHkgZGVwZW5kcyBvbiB0aGlzIHByZWZpeFxuXG4gICAgYXJnc1dpdGhGb3JtYXQudW5zaGlmdCgnV2FybmluZzogJyArIGZvcm1hdCk7IC8vIFdlIGludGVudGlvbmFsbHkgZG9uJ3QgdXNlIHNwcmVhZCAob3IgLmFwcGx5KSBkaXJlY3RseSBiZWNhdXNlIGl0XG4gICAgLy8gYnJlYWtzIElFOTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMzYxMFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmdcblxuICAgIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKGNvbnNvbGVbbGV2ZWxdLCBjb25zb2xlLCBhcmdzV2l0aEZvcm1hdCk7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxudmFyIGVuYWJsZVNjb3BlQVBJID0gZmFsc2U7IC8vIEV4cGVyaW1lbnRhbCBDcmVhdGUgRXZlbnQgSGFuZGxlIEFQSS5cbnZhciBlbmFibGVDYWNoZUVsZW1lbnQgPSBmYWxzZTtcbnZhciBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyA9IGZhbHNlOyAvLyBObyBrbm93biBidWdzLCBidXQgbmVlZHMgcGVyZm9ybWFuY2UgdGVzdGluZ1xuXG52YXIgZW5hYmxlTGVnYWN5SGlkZGVuID0gZmFsc2U7IC8vIEVuYWJsZXMgdW5zdGFibGVfYXZvaWRUaGlzRmFsbGJhY2sgZmVhdHVyZSBpbiBGaWJlclxuLy8gc3R1ZmYuIEludGVuZGVkIHRvIGVuYWJsZSBSZWFjdCBjb3JlIG1lbWJlcnMgdG8gbW9yZSBlYXNpbHkgZGVidWcgc2NoZWR1bGluZ1xuLy8gaXNzdWVzIGluIERFViBidWlsZHMuXG5cbnZhciBlbmFibGVEZWJ1Z1RyYWNpbmcgPSBmYWxzZTsgLy8gVHJhY2sgd2hpY2ggRmliZXIocykgc2NoZWR1bGUgcmVuZGVyIHdvcmsuXG5cbnZhciBSRUFDVF9NT0RVTEVfUkVGRVJFTkNFO1xuXG57XG4gIFJFQUNUX01PRFVMRV9SRUZFUkVOQ0UgPSBTeW1ib2wuZm9yKCdyZWFjdC5tb2R1bGUucmVmZXJlbmNlJyk7XG59XG5cbmZ1bmN0aW9uIGlzVmFsaWRFbGVtZW50VHlwZSh0eXBlKSB7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSAvLyBOb3RlOiB0eXBlb2YgbWlnaHQgYmUgb3RoZXIgdGhhbiAnc3ltYm9sJyBvciAnbnVtYmVyJyAoZS5nLiBpZiBpdCdzIGEgcG9seWZpbGwpLlxuXG5cbiAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfUFJPRklMRVJfVFlQRSB8fCBlbmFibGVEZWJ1Z1RyYWNpbmcgIHx8IHR5cGUgPT09IFJFQUNUX1NUUklDVF9NT0RFX1RZUEUgfHwgdHlwZSA9PT0gUkVBQ1RfU1VTUEVOU0VfVFlQRSB8fCB0eXBlID09PSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUgfHwgZW5hYmxlTGVnYWN5SGlkZGVuICB8fCB0eXBlID09PSBSRUFDVF9PRkZTQ1JFRU5fVFlQRSB8fCBlbmFibGVTY29wZUFQSSAgfHwgZW5hYmxlQ2FjaGVFbGVtZW50ICB8fCBlbmFibGVUcmFuc2l0aW9uVHJhY2luZyApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCkge1xuICAgIGlmICh0eXBlLiQkdHlwZW9mID09PSBSRUFDVF9MQVpZX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfTUVNT19UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX1BST1ZJREVSX1RZUEUgfHwgdHlwZS4kJHR5cGVvZiA9PT0gUkVBQ1RfQ09OVEVYVF9UWVBFIHx8IHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gVGhpcyBuZWVkcyB0byBpbmNsdWRlIGFsbCBwb3NzaWJsZSBtb2R1bGUgcmVmZXJlbmNlIG9iamVjdFxuICAgIC8vIHR5cGVzIHN1cHBvcnRlZCBieSBhbnkgRmxpZ2h0IGNvbmZpZ3VyYXRpb24gYW55d2hlcmUgc2luY2VcbiAgICAvLyB3ZSBkb24ndCBrbm93IHdoaWNoIEZsaWdodCBidWlsZCB0aGlzIHdpbGwgZW5kIHVwIGJlaW5nIHVzZWRcbiAgICAvLyB3aXRoLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01PRFVMRV9SRUZFUkVOQ0UgfHwgdHlwZS5nZXRNb2R1bGVJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFdyYXBwZWROYW1lKG91dGVyVHlwZSwgaW5uZXJUeXBlLCB3cmFwcGVyTmFtZSkge1xuICB2YXIgZGlzcGxheU5hbWUgPSBvdXRlclR5cGUuZGlzcGxheU5hbWU7XG5cbiAgaWYgKGRpc3BsYXlOYW1lKSB7XG4gICAgcmV0dXJuIGRpc3BsYXlOYW1lO1xuICB9XG5cbiAgdmFyIGZ1bmN0aW9uTmFtZSA9IGlubmVyVHlwZS5kaXNwbGF5TmFtZSB8fCBpbm5lclR5cGUubmFtZSB8fCAnJztcbiAgcmV0dXJuIGZ1bmN0aW9uTmFtZSAhPT0gJycgPyB3cmFwcGVyTmFtZSArIFwiKFwiICsgZnVuY3Rpb25OYW1lICsgXCIpXCIgOiB3cmFwcGVyTmFtZTtcbn0gLy8gS2VlcCBpbiBzeW5jIHdpdGggcmVhY3QtcmVjb25jaWxlci9nZXRDb21wb25lbnROYW1lRnJvbUZpYmVyXG5cblxuZnVuY3Rpb24gZ2V0Q29udGV4dE5hbWUodHlwZSkge1xuICByZXR1cm4gdHlwZS5kaXNwbGF5TmFtZSB8fCAnQ29udGV4dCc7XG59IC8vIE5vdGUgdGhhdCB0aGUgcmVjb25jaWxlciBwYWNrYWdlIHNob3VsZCBnZW5lcmFsbHkgcHJlZmVyIHRvIHVzZSBnZXRDb21wb25lbnROYW1lRnJvbUZpYmVyKCkgaW5zdGVhZC5cblxuXG5mdW5jdGlvbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSkge1xuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgLy8gSG9zdCByb290LCB0ZXh0IG5vZGUgb3IganVzdCBpbnZhbGlkIHR5cGUuXG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICB7XG4gICAgaWYgKHR5cGVvZiB0eXBlLnRhZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIGVycm9yKCdSZWNlaXZlZCBhbiB1bmV4cGVjdGVkIG9iamVjdCBpbiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoKS4gJyArICdUaGlzIGlzIGxpa2VseSBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHR5cGUuZGlzcGxheU5hbWUgfHwgdHlwZS5uYW1lIHx8IG51bGw7XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFJFQUNUX0ZSQUdNRU5UX1RZUEU6XG4gICAgICByZXR1cm4gJ0ZyYWdtZW50JztcblxuICAgIGNhc2UgUkVBQ1RfUE9SVEFMX1RZUEU6XG4gICAgICByZXR1cm4gJ1BvcnRhbCc7XG5cbiAgICBjYXNlIFJFQUNUX1BST0ZJTEVSX1RZUEU6XG4gICAgICByZXR1cm4gJ1Byb2ZpbGVyJztcblxuICAgIGNhc2UgUkVBQ1RfU1RSSUNUX01PREVfVFlQRTpcbiAgICAgIHJldHVybiAnU3RyaWN0TW9kZSc7XG5cbiAgICBjYXNlIFJFQUNUX1NVU1BFTlNFX1RZUEU6XG4gICAgICByZXR1cm4gJ1N1c3BlbnNlJztcblxuICAgIGNhc2UgUkVBQ1RfU1VTUEVOU0VfTElTVF9UWVBFOlxuICAgICAgcmV0dXJuICdTdXNwZW5zZUxpc3QnO1xuXG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdvYmplY3QnKSB7XG4gICAgc3dpdGNoICh0eXBlLiQkdHlwZW9mKSB7XG4gICAgICBjYXNlIFJFQUNUX0NPTlRFWFRfVFlQRTpcbiAgICAgICAgdmFyIGNvbnRleHQgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUoY29udGV4dCkgKyAnLkNvbnN1bWVyJztcblxuICAgICAgY2FzZSBSRUFDVF9QUk9WSURFUl9UWVBFOlxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0eXBlO1xuICAgICAgICByZXR1cm4gZ2V0Q29udGV4dE5hbWUocHJvdmlkZXIuX2NvbnRleHQpICsgJy5Qcm92aWRlcic7XG5cbiAgICAgIGNhc2UgUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRTpcbiAgICAgICAgcmV0dXJuIGdldFdyYXBwZWROYW1lKHR5cGUsIHR5cGUucmVuZGVyLCAnRm9yd2FyZFJlZicpO1xuXG4gICAgICBjYXNlIFJFQUNUX01FTU9fVFlQRTpcbiAgICAgICAgdmFyIG91dGVyTmFtZSA9IHR5cGUuZGlzcGxheU5hbWUgfHwgbnVsbDtcblxuICAgICAgICBpZiAob3V0ZXJOYW1lICE9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIG91dGVyTmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZS50eXBlKSB8fCAnTWVtbyc7XG5cbiAgICAgIGNhc2UgUkVBQ1RfTEFaWV9UWVBFOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIGxhenlDb21wb25lbnQgPSB0eXBlO1xuICAgICAgICAgIHZhciBwYXlsb2FkID0gbGF6eUNvbXBvbmVudC5fcGF5bG9hZDtcbiAgICAgICAgICB2YXIgaW5pdCA9IGxhenlDb21wb25lbnQuX2luaXQ7XG5cbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShpbml0KHBheWxvYWQpKTtcbiAgICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWZhbGx0aHJvdWdoXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG51bGw7XG59XG5cbnZhciBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuXG4vLyBIZWxwZXJzIHRvIHBhdGNoIGNvbnNvbGUubG9ncyB0byBhdm9pZCBsb2dnaW5nIGR1cmluZyBzaWRlLWVmZmVjdCBmcmVlXG4vLyByZXBsYXlpbmcgb24gcmVuZGVyIGZ1bmN0aW9uLiBUaGlzIGN1cnJlbnRseSBvbmx5IHBhdGNoZXMgdGhlIG9iamVjdFxuLy8gbGF6aWx5IHdoaWNoIHdvbid0IGNvdmVyIGlmIHRoZSBsb2cgZnVuY3Rpb24gd2FzIGV4dHJhY3RlZCBlYWdlcmx5LlxuLy8gV2UgY291bGQgYWxzbyBlYWdlcmx5IHBhdGNoIHRoZSBtZXRob2QuXG52YXIgZGlzYWJsZWREZXB0aCA9IDA7XG52YXIgcHJldkxvZztcbnZhciBwcmV2SW5mbztcbnZhciBwcmV2V2FybjtcbnZhciBwcmV2RXJyb3I7XG52YXIgcHJldkdyb3VwO1xudmFyIHByZXZHcm91cENvbGxhcHNlZDtcbnZhciBwcmV2R3JvdXBFbmQ7XG5cbmZ1bmN0aW9uIGRpc2FibGVkTG9nKCkge31cblxuZGlzYWJsZWRMb2cuX19yZWFjdERpc2FibGVkTG9nID0gdHJ1ZTtcbmZ1bmN0aW9uIGRpc2FibGVMb2dzKCkge1xuICB7XG4gICAgaWYgKGRpc2FibGVkRGVwdGggPT09IDApIHtcbiAgICAgIC8qIGVzbGludC1kaXNhYmxlIHJlYWN0LWludGVybmFsL25vLXByb2R1Y3Rpb24tbG9nZ2luZyAqL1xuICAgICAgcHJldkxvZyA9IGNvbnNvbGUubG9nO1xuICAgICAgcHJldkluZm8gPSBjb25zb2xlLmluZm87XG4gICAgICBwcmV2V2FybiA9IGNvbnNvbGUud2FybjtcbiAgICAgIHByZXZFcnJvciA9IGNvbnNvbGUuZXJyb3I7XG4gICAgICBwcmV2R3JvdXAgPSBjb25zb2xlLmdyb3VwO1xuICAgICAgcHJldkdyb3VwQ29sbGFwc2VkID0gY29uc29sZS5ncm91cENvbGxhcHNlZDtcbiAgICAgIHByZXZHcm91cEVuZCA9IGNvbnNvbGUuZ3JvdXBFbmQ7IC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTkwOTlcblxuICAgICAgdmFyIHByb3BzID0ge1xuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIHZhbHVlOiBkaXNhYmxlZExvZyxcbiAgICAgICAgd3JpdGFibGU6IHRydWVcbiAgICAgIH07IC8vICRGbG93Rml4TWUgRmxvdyB0aGlua3MgY29uc29sZSBpcyBpbW11dGFibGUuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGNvbnNvbGUsIHtcbiAgICAgICAgaW5mbzogcHJvcHMsXG4gICAgICAgIGxvZzogcHJvcHMsXG4gICAgICAgIHdhcm46IHByb3BzLFxuICAgICAgICBlcnJvcjogcHJvcHMsXG4gICAgICAgIGdyb3VwOiBwcm9wcyxcbiAgICAgICAgZ3JvdXBDb2xsYXBzZWQ6IHByb3BzLFxuICAgICAgICBncm91cEVuZDogcHJvcHNcbiAgICAgIH0pO1xuICAgICAgLyogZXNsaW50LWVuYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICB9XG5cbiAgICBkaXNhYmxlZERlcHRoKys7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlZW5hYmxlTG9ncygpIHtcbiAge1xuICAgIGRpc2FibGVkRGVwdGgtLTtcblxuICAgIGlmIChkaXNhYmxlZERlcHRoID09PSAwKSB7XG4gICAgICAvKiBlc2xpbnQtZGlzYWJsZSByZWFjdC1pbnRlcm5hbC9uby1wcm9kdWN0aW9uLWxvZ2dpbmcgKi9cbiAgICAgIHZhciBwcm9wcyA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgICAgfTsgLy8gJEZsb3dGaXhNZSBGbG93IHRoaW5rcyBjb25zb2xlIGlzIGltbXV0YWJsZS5cblxuICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoY29uc29sZSwge1xuICAgICAgICBsb2c6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkxvZ1xuICAgICAgICB9KSxcbiAgICAgICAgaW5mbzogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2SW5mb1xuICAgICAgICB9KSxcbiAgICAgICAgd2FybjogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2V2FyblxuICAgICAgICB9KSxcbiAgICAgICAgZXJyb3I6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkVycm9yXG4gICAgICAgIH0pLFxuICAgICAgICBncm91cDogYXNzaWduKHt9LCBwcm9wcywge1xuICAgICAgICAgIHZhbHVlOiBwcmV2R3JvdXBcbiAgICAgICAgfSksXG4gICAgICAgIGdyb3VwQ29sbGFwc2VkOiBhc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgICAgdmFsdWU6IHByZXZHcm91cENvbGxhcHNlZFxuICAgICAgICB9KSxcbiAgICAgICAgZ3JvdXBFbmQ6IGFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgICB2YWx1ZTogcHJldkdyb3VwRW5kXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICAgIC8qIGVzbGludC1lbmFibGUgcmVhY3QtaW50ZXJuYWwvbm8tcHJvZHVjdGlvbi1sb2dnaW5nICovXG4gICAgfVxuXG4gICAgaWYgKGRpc2FibGVkRGVwdGggPCAwKSB7XG4gICAgICBlcnJvcignZGlzYWJsZWREZXB0aCBmZWxsIGJlbG93IHplcm8uICcgKyAnVGhpcyBpcyBhIGJ1ZyBpbiBSZWFjdC4gUGxlYXNlIGZpbGUgYW4gaXNzdWUuJyk7XG4gICAgfVxuICB9XG59XG5cbnZhciBSZWFjdEN1cnJlbnREaXNwYXRjaGVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50RGlzcGF0Y2hlcjtcbnZhciBwcmVmaXg7XG5mdW5jdGlvbiBkZXNjcmliZUJ1aWx0SW5Db21wb25lbnRGcmFtZShuYW1lLCBzb3VyY2UsIG93bmVyRm4pIHtcbiAge1xuICAgIGlmIChwcmVmaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gRXh0cmFjdCB0aGUgVk0gc3BlY2lmaWMgcHJlZml4IHVzZWQgYnkgZWFjaCBsaW5lLlxuICAgICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgdmFyIG1hdGNoID0geC5zdGFjay50cmltKCkubWF0Y2goL1xcbiggKihhdCApPykvKTtcbiAgICAgICAgcHJlZml4ID0gbWF0Y2ggJiYgbWF0Y2hbMV0gfHwgJyc7XG4gICAgICB9XG4gICAgfSAvLyBXZSB1c2UgdGhlIHByZWZpeCB0byBlbnN1cmUgb3VyIHN0YWNrcyBsaW5lIHVwIHdpdGggbmF0aXZlIHN0YWNrIGZyYW1lcy5cblxuXG4gICAgcmV0dXJuICdcXG4nICsgcHJlZml4ICsgbmFtZTtcbiAgfVxufVxudmFyIHJlZW50cnkgPSBmYWxzZTtcbnZhciBjb21wb25lbnRGcmFtZUNhY2hlO1xuXG57XG4gIHZhciBQb3NzaWJseVdlYWtNYXAgPSB0eXBlb2YgV2Vha01hcCA9PT0gJ2Z1bmN0aW9uJyA/IFdlYWtNYXAgOiBNYXA7XG4gIGNvbXBvbmVudEZyYW1lQ2FjaGUgPSBuZXcgUG9zc2libHlXZWFrTWFwKCk7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUoZm4sIGNvbnN0cnVjdCkge1xuICAvLyBJZiBzb21ldGhpbmcgYXNrZWQgZm9yIGEgc3RhY2sgaW5zaWRlIGEgZmFrZSByZW5kZXIsIGl0IHNob3VsZCBnZXQgaWdub3JlZC5cbiAgaWYgKCAhZm4gfHwgcmVlbnRyeSkge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHtcbiAgICB2YXIgZnJhbWUgPSBjb21wb25lbnRGcmFtZUNhY2hlLmdldChmbik7XG5cbiAgICBpZiAoZnJhbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGZyYW1lO1xuICAgIH1cbiAgfVxuXG4gIHZhciBjb250cm9sO1xuICByZWVudHJ5ID0gdHJ1ZTtcbiAgdmFyIHByZXZpb3VzUHJlcGFyZVN0YWNrVHJhY2UgPSBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZTsgLy8gJEZsb3dGaXhNZSBJdCBkb2VzIGFjY2VwdCB1bmRlZmluZWQuXG5cbiAgRXJyb3IucHJlcGFyZVN0YWNrVHJhY2UgPSB1bmRlZmluZWQ7XG4gIHZhciBwcmV2aW91c0Rpc3BhdGNoZXI7XG5cbiAge1xuICAgIHByZXZpb3VzRGlzcGF0Y2hlciA9IFJlYWN0Q3VycmVudERpc3BhdGNoZXIuY3VycmVudDsgLy8gU2V0IHRoZSBkaXNwYXRjaGVyIGluIERFViBiZWNhdXNlIHRoaXMgbWlnaHQgYmUgY2FsbCBpbiB0aGUgcmVuZGVyIGZ1bmN0aW9uXG4gICAgLy8gZm9yIHdhcm5pbmdzLlxuXG4gICAgUmVhY3RDdXJyZW50RGlzcGF0Y2hlci5jdXJyZW50ID0gbnVsbDtcbiAgICBkaXNhYmxlTG9ncygpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAvLyBUaGlzIHNob3VsZCB0aHJvdy5cbiAgICBpZiAoY29uc3RydWN0KSB7XG4gICAgICAvLyBTb21ldGhpbmcgc2hvdWxkIGJlIHNldHRpbmcgdGhlIHByb3BzIGluIHRoZSBjb25zdHJ1Y3Rvci5cbiAgICAgIHZhciBGYWtlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aHJvdyBFcnJvcigpO1xuICAgICAgfTsgLy8gJEZsb3dGaXhNZVxuXG5cbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGYWtlLnByb3RvdHlwZSwgJ3Byb3BzJywge1xuICAgICAgICBzZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyBXZSB1c2UgYSB0aHJvd2luZyBzZXR0ZXIgaW5zdGVhZCBvZiBmcm96ZW4gb3Igbm9uLXdyaXRhYmxlIHByb3BzXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGF0IHdvbid0IHRocm93IGluIGEgbm9uLXN0cmljdCBtb2RlIGZ1bmN0aW9uLlxuICAgICAgICAgIHRocm93IEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnICYmIFJlZmxlY3QuY29uc3RydWN0KSB7XG4gICAgICAgIC8vIFdlIGNvbnN0cnVjdCBhIGRpZmZlcmVudCBjb250cm9sIGZvciB0aGlzIGNhc2UgdG8gaW5jbHVkZSBhbnkgZXh0cmFcbiAgICAgICAgLy8gZnJhbWVzIGFkZGVkIGJ5IHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBSZWZsZWN0LmNvbnN0cnVjdChGYWtlLCBbXSk7XG4gICAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgICBjb250cm9sID0geDtcbiAgICAgICAgfVxuXG4gICAgICAgIFJlZmxlY3QuY29uc3RydWN0KGZuLCBbXSwgRmFrZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIEZha2UuY2FsbCgpO1xuICAgICAgICB9IGNhdGNoICh4KSB7XG4gICAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICAgIH1cblxuICAgICAgICBmbi5jYWxsKEZha2UucHJvdG90eXBlKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgdGhyb3cgRXJyb3IoKTtcbiAgICAgIH0gY2F0Y2ggKHgpIHtcbiAgICAgICAgY29udHJvbCA9IHg7XG4gICAgICB9XG5cbiAgICAgIGZuKCk7XG4gICAgfVxuICB9IGNhdGNoIChzYW1wbGUpIHtcbiAgICAvLyBUaGlzIGlzIGlubGluZWQgbWFudWFsbHkgYmVjYXVzZSBjbG9zdXJlIGRvZXNuJ3QgZG8gaXQgZm9yIHVzLlxuICAgIGlmIChzYW1wbGUgJiYgY29udHJvbCAmJiB0eXBlb2Ygc2FtcGxlLnN0YWNrID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gVGhpcyBleHRyYWN0cyB0aGUgZmlyc3QgZnJhbWUgZnJvbSB0aGUgc2FtcGxlIHRoYXQgaXNuJ3QgYWxzbyBpbiB0aGUgY29udHJvbC5cbiAgICAgIC8vIFNraXBwaW5nIG9uZSBmcmFtZSB0aGF0IHdlIGFzc3VtZSBpcyB0aGUgZnJhbWUgdGhhdCBjYWxscyB0aGUgdHdvLlxuICAgICAgdmFyIHNhbXBsZUxpbmVzID0gc2FtcGxlLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBjb250cm9sTGluZXMgPSBjb250cm9sLnN0YWNrLnNwbGl0KCdcXG4nKTtcbiAgICAgIHZhciBzID0gc2FtcGxlTGluZXMubGVuZ3RoIC0gMTtcbiAgICAgIHZhciBjID0gY29udHJvbExpbmVzLmxlbmd0aCAtIDE7XG5cbiAgICAgIHdoaWxlIChzID49IDEgJiYgYyA+PSAwICYmIHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgLy8gV2UgZXhwZWN0IGF0IGxlYXN0IG9uZSBzdGFjayBmcmFtZSB0byBiZSBzaGFyZWQuXG4gICAgICAgIC8vIFR5cGljYWxseSB0aGlzIHdpbGwgYmUgdGhlIHJvb3QgbW9zdCBvbmUuIEhvd2V2ZXIsIHN0YWNrIGZyYW1lcyBtYXkgYmVcbiAgICAgICAgLy8gY3V0IG9mZiBkdWUgdG8gbWF4aW11bSBzdGFjayBsaW1pdHMuIEluIHRoaXMgY2FzZSwgb25lIG1heWJlIGN1dCBvZmZcbiAgICAgICAgLy8gZWFybGllciB0aGFuIHRoZSBvdGhlci4gV2UgYXNzdW1lIHRoYXQgdGhlIHNhbXBsZSBpcyBsb25nZXIgb3IgdGhlIHNhbWVcbiAgICAgICAgLy8gYW5kIHRoZXJlIGZvciBjdXQgb2ZmIGVhcmxpZXIuIFNvIHdlIHNob3VsZCBmaW5kIHRoZSByb290IG1vc3QgZnJhbWUgaW5cbiAgICAgICAgLy8gdGhlIHNhbXBsZSBzb21ld2hlcmUgaW4gdGhlIGNvbnRyb2wuXG4gICAgICAgIGMtLTtcbiAgICAgIH1cblxuICAgICAgZm9yICg7IHMgPj0gMSAmJiBjID49IDA7IHMtLSwgYy0tKSB7XG4gICAgICAgIC8vIE5leHQgd2UgZmluZCB0aGUgZmlyc3Qgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgd2hpY2ggc2hvdWxkIGJlIHRoZVxuICAgICAgICAvLyBmcmFtZSB0aGF0IGNhbGxlZCBvdXIgc2FtcGxlIGZ1bmN0aW9uIGFuZCB0aGUgY29udHJvbC5cbiAgICAgICAgaWYgKHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAvLyBJbiBWOCwgdGhlIGZpcnN0IGxpbmUgaXMgZGVzY3JpYmluZyB0aGUgbWVzc2FnZSBidXQgb3RoZXIgVk1zIGRvbid0LlxuICAgICAgICAgIC8vIElmIHdlJ3JlIGFib3V0IHRvIHJldHVybiB0aGUgZmlyc3QgbGluZSwgYW5kIHRoZSBjb250cm9sIGlzIGFsc28gb24gdGhlIHNhbWVcbiAgICAgICAgICAvLyBsaW5lLCB0aGF0J3MgYSBwcmV0dHkgZ29vZCBpbmRpY2F0b3IgdGhhdCBvdXIgc2FtcGxlIHRocmV3IGF0IHNhbWUgbGluZSBhc1xuICAgICAgICAgIC8vIHRoZSBjb250cm9sLiBJLmUuIGJlZm9yZSB3ZSBlbnRlcmVkIHRoZSBzYW1wbGUgZnJhbWUuIFNvIHdlIGlnbm9yZSB0aGlzIHJlc3VsdC5cbiAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgeW91IHBhc3NlZCBhIGNsYXNzIHRvIGZ1bmN0aW9uIGNvbXBvbmVudCwgb3Igbm9uLWZ1bmN0aW9uLlxuICAgICAgICAgIGlmIChzICE9PSAxIHx8IGMgIT09IDEpIHtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgcy0tO1xuICAgICAgICAgICAgICBjLS07IC8vIFdlIG1heSBzdGlsbCBoYXZlIHNpbWlsYXIgaW50ZXJtZWRpYXRlIGZyYW1lcyBmcm9tIHRoZSBjb25zdHJ1Y3QgY2FsbC5cbiAgICAgICAgICAgICAgLy8gVGhlIG5leHQgb25lIHRoYXQgaXNuJ3QgdGhlIHNhbWUgc2hvdWxkIGJlIG91ciBtYXRjaCB0aG91Z2guXG5cbiAgICAgICAgICAgICAgaWYgKGMgPCAwIHx8IHNhbXBsZUxpbmVzW3NdICE9PSBjb250cm9sTGluZXNbY10pIHtcbiAgICAgICAgICAgICAgICAvLyBWOCBhZGRzIGEgXCJuZXdcIiBwcmVmaXggZm9yIG5hdGl2ZSBjbGFzc2VzLiBMZXQncyByZW1vdmUgaXQgdG8gbWFrZSBpdCBwcmV0dGllci5cbiAgICAgICAgICAgICAgICB2YXIgX2ZyYW1lID0gJ1xcbicgKyBzYW1wbGVMaW5lc1tzXS5yZXBsYWNlKCcgYXQgbmV3ICcsICcgYXQgJyk7IC8vIElmIG91ciBjb21wb25lbnQgZnJhbWUgaXMgbGFiZWxlZCBcIjxhbm9ueW1vdXM+XCJcbiAgICAgICAgICAgICAgICAvLyBidXQgd2UgaGF2ZSBhIHVzZXItcHJvdmlkZWQgXCJkaXNwbGF5TmFtZVwiXG4gICAgICAgICAgICAgICAgLy8gc3BsaWNlIGl0IGluIHRvIG1ha2UgdGhlIHN0YWNrIG1vcmUgcmVhZGFibGUuXG5cblxuICAgICAgICAgICAgICAgIGlmIChmbi5kaXNwbGF5TmFtZSAmJiBfZnJhbWUuaW5jbHVkZXMoJzxhbm9ueW1vdXM+JykpIHtcbiAgICAgICAgICAgICAgICAgIF9mcmFtZSA9IF9mcmFtZS5yZXBsYWNlKCc8YW5vbnltb3VzPicsIGZuLmRpc3BsYXlOYW1lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBfZnJhbWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gLy8gUmV0dXJuIHRoZSBsaW5lIHdlIGZvdW5kLlxuXG5cbiAgICAgICAgICAgICAgICByZXR1cm4gX2ZyYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChzID49IDEgJiYgYyA+PSAwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBmaW5hbGx5IHtcbiAgICByZWVudHJ5ID0gZmFsc2U7XG5cbiAgICB7XG4gICAgICBSZWFjdEN1cnJlbnREaXNwYXRjaGVyLmN1cnJlbnQgPSBwcmV2aW91c0Rpc3BhdGNoZXI7XG4gICAgICByZWVuYWJsZUxvZ3MoKTtcbiAgICB9XG5cbiAgICBFcnJvci5wcmVwYXJlU3RhY2tUcmFjZSA9IHByZXZpb3VzUHJlcGFyZVN0YWNrVHJhY2U7XG4gIH0gLy8gRmFsbGJhY2sgdG8ganVzdCB1c2luZyB0aGUgbmFtZSBpZiB3ZSBjb3VsZG4ndCBtYWtlIGl0IHRocm93LlxuXG5cbiAgdmFyIG5hbWUgPSBmbiA/IGZuLmRpc3BsYXlOYW1lIHx8IGZuLm5hbWUgOiAnJztcbiAgdmFyIHN5bnRoZXRpY0ZyYW1lID0gbmFtZSA/IGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKG5hbWUpIDogJyc7XG5cbiAge1xuICAgIGlmICh0eXBlb2YgZm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNvbXBvbmVudEZyYW1lQ2FjaGUuc2V0KGZuLCBzeW50aGV0aWNGcmFtZSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHN5bnRoZXRpY0ZyYW1lO1xufVxuZnVuY3Rpb24gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKGZuLCBzb3VyY2UsIG93bmVyRm4pIHtcbiAge1xuICAgIHJldHVybiBkZXNjcmliZU5hdGl2ZUNvbXBvbmVudEZyYW1lKGZuLCBmYWxzZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkQ29uc3RydWN0KENvbXBvbmVudCkge1xuICB2YXIgcHJvdG90eXBlID0gQ29tcG9uZW50LnByb3RvdHlwZTtcbiAgcmV0dXJuICEhKHByb3RvdHlwZSAmJiBwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCk7XG59XG5cbmZ1bmN0aW9uIGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVih0eXBlLCBzb3VyY2UsIG93bmVyRm4pIHtcblxuICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAge1xuICAgICAgcmV0dXJuIGRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUodHlwZSwgc2hvdWxkQ29uc3RydWN0KHR5cGUpKTtcbiAgICB9XG4gIH1cblxuICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKHR5cGUpO1xuICB9XG5cbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9UWVBFOlxuICAgICAgcmV0dXJuIGRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lKCdTdXNwZW5zZScpO1xuXG4gICAgY2FzZSBSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEU6XG4gICAgICByZXR1cm4gZGVzY3JpYmVCdWlsdEluQ29tcG9uZW50RnJhbWUoJ1N1c3BlbnNlTGlzdCcpO1xuICB9XG5cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnb2JqZWN0Jykge1xuICAgIHN3aXRjaCAodHlwZS4kJHR5cGVvZikge1xuICAgICAgY2FzZSBSRUFDVF9GT1JXQVJEX1JFRl9UWVBFOlxuICAgICAgICByZXR1cm4gZGVzY3JpYmVGdW5jdGlvbkNvbXBvbmVudEZyYW1lKHR5cGUucmVuZGVyKTtcblxuICAgICAgY2FzZSBSRUFDVF9NRU1PX1RZUEU6XG4gICAgICAgIC8vIE1lbW8gbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgIHJldHVybiBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYodHlwZS50eXBlLCBzb3VyY2UsIG93bmVyRm4pO1xuXG4gICAgICBjYXNlIFJFQUNUX0xBWllfVFlQRTpcbiAgICAgICAge1xuICAgICAgICAgIHZhciBsYXp5Q29tcG9uZW50ID0gdHlwZTtcbiAgICAgICAgICB2YXIgcGF5bG9hZCA9IGxhenlDb21wb25lbnQuX3BheWxvYWQ7XG4gICAgICAgICAgdmFyIGluaXQgPSBsYXp5Q29tcG9uZW50Ll9pbml0O1xuXG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIExhenkgbWF5IGNvbnRhaW4gYW55IGNvbXBvbmVudCB0eXBlIHNvIHdlIHJlY3Vyc2l2ZWx5IHJlc29sdmUgaXQuXG4gICAgICAgICAgICByZXR1cm4gZGVzY3JpYmVVbmtub3duRWxlbWVudFR5cGVGcmFtZUluREVWKGluaXQocGF5bG9hZCksIHNvdXJjZSwgb3duZXJGbik7XG4gICAgICAgICAgfSBjYXRjaCAoeCkge31cbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiAnJztcbn1cblxudmFyIGhhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGxvZ2dlZFR5cGVGYWlsdXJlcyA9IHt9O1xudmFyIFJlYWN0RGVidWdDdXJyZW50RnJhbWUgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChlbGVtZW50KSB7XG4gIHtcbiAgICBpZiAoZWxlbWVudCkge1xuICAgICAgdmFyIG93bmVyID0gZWxlbWVudC5fb3duZXI7XG4gICAgICB2YXIgc3RhY2sgPSBkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYoZWxlbWVudC50eXBlLCBlbGVtZW50Ll9zb3VyY2UsIG93bmVyID8gb3duZXIudHlwZSA6IG51bGwpO1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZS5zZXRFeHRyYVN0YWNrRnJhbWUoc3RhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tQcm9wVHlwZXModHlwZVNwZWNzLCB2YWx1ZXMsIGxvY2F0aW9uLCBjb21wb25lbnROYW1lLCBlbGVtZW50KSB7XG4gIHtcbiAgICAvLyAkRmxvd0ZpeE1lIFRoaXMgaXMgb2theSBidXQgRmxvdyBkb2Vzbid0IGtub3cgaXQuXG4gICAgdmFyIGhhcyA9IEZ1bmN0aW9uLmNhbGwuYmluZChoYXNPd25Qcm9wZXJ0eSk7XG5cbiAgICBmb3IgKHZhciB0eXBlU3BlY05hbWUgaW4gdHlwZVNwZWNzKSB7XG4gICAgICBpZiAoaGFzKHR5cGVTcGVjcywgdHlwZVNwZWNOYW1lKSkge1xuICAgICAgICB2YXIgZXJyb3IkMSA9IHZvaWQgMDsgLy8gUHJvcCB0eXBlIHZhbGlkYXRpb24gbWF5IHRocm93LiBJbiBjYXNlIHRoZXkgZG8sIHdlIGRvbid0IHdhbnQgdG9cbiAgICAgICAgLy8gZmFpbCB0aGUgcmVuZGVyIHBoYXNlIHdoZXJlIGl0IGRpZG4ndCBmYWlsIGJlZm9yZS4gU28gd2UgbG9nIGl0LlxuICAgICAgICAvLyBBZnRlciB0aGVzZSBoYXZlIGJlZW4gY2xlYW5lZCB1cCwgd2UnbGwgbGV0IHRoZW0gdGhyb3cuXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAvLyBUaGlzIGlzIGludGVudGlvbmFsbHkgYW4gaW52YXJpYW50IHRoYXQgZ2V0cyBjYXVnaHQuIEl0J3MgdGhlIHNhbWVcbiAgICAgICAgICAvLyBiZWhhdmlvciBhcyB3aXRob3V0IHRoaXMgc3RhdGVtZW50IGV4Y2VwdCB3aXRoIGEgYmV0dGVyIG1lc3NhZ2UuXG4gICAgICAgICAgaWYgKHR5cGVvZiB0eXBlU3BlY3NbdHlwZVNwZWNOYW1lXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0LWludGVybmFsL3Byb2QtZXJyb3ItY29kZXNcbiAgICAgICAgICAgIHZhciBlcnIgPSBFcnJvcigoY29tcG9uZW50TmFtZSB8fCAnUmVhY3QgY2xhc3MnKSArICc6ICcgKyBsb2NhdGlvbiArICcgdHlwZSBgJyArIHR5cGVTcGVjTmFtZSArICdgIGlzIGludmFsaWQ7ICcgKyAnaXQgbXVzdCBiZSBhIGZ1bmN0aW9uLCB1c3VhbGx5IGZyb20gdGhlIGBwcm9wLXR5cGVzYCBwYWNrYWdlLCBidXQgcmVjZWl2ZWQgYCcgKyB0eXBlb2YgdHlwZVNwZWNzW3R5cGVTcGVjTmFtZV0gKyAnYC4nICsgJ1RoaXMgb2Z0ZW4gaGFwcGVucyBiZWNhdXNlIG9mIHR5cG9zIHN1Y2ggYXMgYFByb3BUeXBlcy5mdW5jdGlvbmAgaW5zdGVhZCBvZiBgUHJvcFR5cGVzLmZ1bmNgLicpO1xuICAgICAgICAgICAgZXJyLm5hbWUgPSAnSW52YXJpYW50IFZpb2xhdGlvbic7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZXJyb3IkMSA9IHR5cGVTcGVjc1t0eXBlU3BlY05hbWVdKHZhbHVlcywgdHlwZVNwZWNOYW1lLCBjb21wb25lbnROYW1lLCBsb2NhdGlvbiwgbnVsbCwgJ1NFQ1JFVF9ET19OT1RfUEFTU19USElTX09SX1lPVV9XSUxMX0JFX0ZJUkVEJyk7XG4gICAgICAgIH0gY2F0Y2ggKGV4KSB7XG4gICAgICAgICAgZXJyb3IkMSA9IGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yJDEgJiYgIShlcnJvciQxIGluc3RhbmNlb2YgRXJyb3IpKSB7XG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICBlcnJvcignJXM6IHR5cGUgc3BlY2lmaWNhdGlvbiBvZiAlcycgKyAnIGAlc2AgaXMgaW52YWxpZDsgdGhlIHR5cGUgY2hlY2tlciAnICsgJ2Z1bmN0aW9uIG11c3QgcmV0dXJuIGBudWxsYCBvciBhbiBgRXJyb3JgIGJ1dCByZXR1cm5lZCBhICVzLiAnICsgJ1lvdSBtYXkgaGF2ZSBmb3Jnb3R0ZW4gdG8gcGFzcyBhbiBhcmd1bWVudCB0byB0aGUgdHlwZSBjaGVja2VyICcgKyAnY3JlYXRvciAoYXJyYXlPZiwgaW5zdGFuY2VPZiwgb2JqZWN0T2YsIG9uZU9mLCBvbmVPZlR5cGUsIGFuZCAnICsgJ3NoYXBlIGFsbCByZXF1aXJlIGFuIGFyZ3VtZW50KS4nLCBjb21wb25lbnROYW1lIHx8ICdSZWFjdCBjbGFzcycsIGxvY2F0aW9uLCB0eXBlU3BlY05hbWUsIHR5cGVvZiBlcnJvciQxKTtcblxuICAgICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50KG51bGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGVycm9yJDEgaW5zdGFuY2VvZiBFcnJvciAmJiAhKGVycm9yJDEubWVzc2FnZSBpbiBsb2dnZWRUeXBlRmFpbHVyZXMpKSB7XG4gICAgICAgICAgLy8gT25seSBtb25pdG9yIHRoaXMgZmFpbHVyZSBvbmNlIGJlY2F1c2UgdGhlcmUgdGVuZHMgdG8gYmUgYSBsb3Qgb2YgdGhlXG4gICAgICAgICAgLy8gc2FtZSBlcnJvci5cbiAgICAgICAgICBsb2dnZWRUeXBlRmFpbHVyZXNbZXJyb3IkMS5tZXNzYWdlXSA9IHRydWU7XG4gICAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQoZWxlbWVudCk7XG5cbiAgICAgICAgICBlcnJvcignRmFpbGVkICVzIHR5cGU6ICVzJywgbG9jYXRpb24sIGVycm9yJDEubWVzc2FnZSk7XG5cbiAgICAgICAgICBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudChudWxsKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG52YXIgaXNBcnJheUltcGwgPSBBcnJheS5pc0FycmF5OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cbmZ1bmN0aW9uIGlzQXJyYXkoYSkge1xuICByZXR1cm4gaXNBcnJheUltcGwoYSk7XG59XG5cbi8qXG4gKiBUaGUgYCcnICsgdmFsdWVgIHBhdHRlcm4gKHVzZWQgaW4gaW4gcGVyZi1zZW5zaXRpdmUgY29kZSkgdGhyb3dzIGZvciBTeW1ib2xcbiAqIGFuZCBUZW1wb3JhbC4qIHR5cGVzLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L3B1bGwvMjIwNjQuXG4gKlxuICogVGhlIGZ1bmN0aW9ucyBpbiB0aGlzIG1vZHVsZSB3aWxsIHRocm93IGFuIGVhc2llci10by11bmRlcnN0YW5kLFxuICogZWFzaWVyLXRvLWRlYnVnIGV4Y2VwdGlvbiB3aXRoIGEgY2xlYXIgZXJyb3JzIG1lc3NhZ2UgbWVzc2FnZSBleHBsYWluaW5nIHRoZVxuICogcHJvYmxlbS4gKEluc3RlYWQgb2YgYSBjb25mdXNpbmcgZXhjZXB0aW9uIHRocm93biBpbnNpZGUgdGhlIGltcGxlbWVudGF0aW9uXG4gKiBvZiB0aGUgYHZhbHVlYCBvYmplY3QpLlxuICovXG4vLyAkRmxvd0ZpeE1lIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuZnVuY3Rpb24gdHlwZU5hbWUodmFsdWUpIHtcbiAge1xuICAgIC8vIHRvU3RyaW5nVGFnIGlzIG5lZWRlZCBmb3IgbmFtZXNwYWNlZCB0eXBlcyBsaWtlIFRlbXBvcmFsLkluc3RhbnRcbiAgICB2YXIgaGFzVG9TdHJpbmdUYWcgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC50b1N0cmluZ1RhZztcbiAgICB2YXIgdHlwZSA9IGhhc1RvU3RyaW5nVGFnICYmIHZhbHVlW1N5bWJvbC50b1N0cmluZ1RhZ10gfHwgdmFsdWUuY29uc3RydWN0b3IubmFtZSB8fCAnT2JqZWN0JztcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxufSAvLyAkRmxvd0ZpeE1lIG9ubHkgY2FsbGVkIGluIERFViwgc28gdm9pZCByZXR1cm4gaXMgbm90IHBvc3NpYmxlLlxuXG5cbmZ1bmN0aW9uIHdpbGxDb2VyY2lvblRocm93KHZhbHVlKSB7XG4gIHtcbiAgICB0cnkge1xuICAgICAgdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIC8vIElmIHlvdSBlbmRlZCB1cCBoZXJlIGJ5IGZvbGxvd2luZyBhbiBleGNlcHRpb24gY2FsbCBzdGFjaywgaGVyZSdzIHdoYXQnc1xuICAvLyBoYXBwZW5lZDogeW91IHN1cHBsaWVkIGFuIG9iamVjdCBvciBzeW1ib2wgdmFsdWUgdG8gUmVhY3QgKGFzIGEgcHJvcCwga2V5LFxuICAvLyBET00gYXR0cmlidXRlLCBDU1MgcHJvcGVydHksIHN0cmluZyByZWYsIGV0Yy4pIGFuZCB3aGVuIFJlYWN0IHRyaWVkIHRvXG4gIC8vIGNvZXJjZSBpdCB0byBhIHN0cmluZyB1c2luZyBgJycgKyB2YWx1ZWAsIGFuIGV4Y2VwdGlvbiB3YXMgdGhyb3duLlxuICAvL1xuICAvLyBUaGUgbW9zdCBjb21tb24gdHlwZXMgdGhhdCB3aWxsIGNhdXNlIHRoaXMgZXhjZXB0aW9uIGFyZSBgU3ltYm9sYCBpbnN0YW5jZXNcbiAgLy8gYW5kIFRlbXBvcmFsIG9iamVjdHMgbGlrZSBgVGVtcG9yYWwuSW5zdGFudGAuIEJ1dCBhbnkgb2JqZWN0IHRoYXQgaGFzIGFcbiAgLy8gYHZhbHVlT2ZgIG9yIGBbU3ltYm9sLnRvUHJpbWl0aXZlXWAgbWV0aG9kIHRoYXQgdGhyb3dzIHdpbGwgYWxzbyBjYXVzZSB0aGlzXG4gIC8vIGV4Y2VwdGlvbi4gKExpYnJhcnkgYXV0aG9ycyBkbyB0aGlzIHRvIHByZXZlbnQgdXNlcnMgZnJvbSB1c2luZyBidWlsdC1pblxuICAvLyBudW1lcmljIG9wZXJhdG9ycyBsaWtlIGArYCBvciBjb21wYXJpc29uIG9wZXJhdG9ycyBsaWtlIGA+PWAgYmVjYXVzZSBjdXN0b21cbiAgLy8gbWV0aG9kcyBhcmUgbmVlZGVkIHRvIHBlcmZvcm0gYWNjdXJhdGUgYXJpdGhtZXRpYyBvciBjb21wYXJpc29uLilcbiAgLy9cbiAgLy8gVG8gZml4IHRoZSBwcm9ibGVtLCBjb2VyY2UgdGhpcyBvYmplY3Qgb3Igc3ltYm9sIHZhbHVlIHRvIGEgc3RyaW5nIGJlZm9yZVxuICAvLyBwYXNzaW5nIGl0IHRvIFJlYWN0LiBUaGUgbW9zdCByZWxpYWJsZSB3YXkgaXMgdXN1YWxseSBgU3RyaW5nKHZhbHVlKWAuXG4gIC8vXG4gIC8vIFRvIGZpbmQgd2hpY2ggdmFsdWUgaXMgdGhyb3dpbmcsIGNoZWNrIHRoZSBicm93c2VyIG9yIGRlYnVnZ2VyIGNvbnNvbGUuXG4gIC8vIEJlZm9yZSB0aGlzIGV4Y2VwdGlvbiB3YXMgdGhyb3duLCB0aGVyZSBzaG91bGQgYmUgYGNvbnNvbGUuZXJyb3JgIG91dHB1dFxuICAvLyB0aGF0IHNob3dzIHRoZSB0eXBlIChTeW1ib2wsIFRlbXBvcmFsLlBsYWluRGF0ZSwgZXRjLikgdGhhdCBjYXVzZWQgdGhlXG4gIC8vIHByb2JsZW0gYW5kIGhvdyB0aGF0IHR5cGUgd2FzIHVzZWQ6IGtleSwgYXRycmlidXRlLCBpbnB1dCB2YWx1ZSBwcm9wLCBldGMuXG4gIC8vIEluIG1vc3QgY2FzZXMsIHRoaXMgY29uc29sZSBvdXRwdXQgYWxzbyBzaG93cyB0aGUgY29tcG9uZW50IGFuZCBpdHNcbiAgLy8gYW5jZXN0b3IgY29tcG9uZW50cyB3aGVyZSB0aGUgZXhjZXB0aW9uIGhhcHBlbmVkLlxuICAvL1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgcmVhY3QtaW50ZXJuYWwvc2FmZS1zdHJpbmctY29lcmNpb25cbiAgcmV0dXJuICcnICsgdmFsdWU7XG59XG5mdW5jdGlvbiBjaGVja0tleVN0cmluZ0NvZXJjaW9uKHZhbHVlKSB7XG4gIHtcbiAgICBpZiAod2lsbENvZXJjaW9uVGhyb3codmFsdWUpKSB7XG4gICAgICBlcnJvcignVGhlIHByb3ZpZGVkIGtleSBpcyBhbiB1bnN1cHBvcnRlZCB0eXBlICVzLicgKyAnIFRoaXMgdmFsdWUgbXVzdCBiZSBjb2VyY2VkIHRvIGEgc3RyaW5nIGJlZm9yZSBiZWZvcmUgdXNpbmcgaXQgaGVyZS4nLCB0eXBlTmFtZSh2YWx1ZSkpO1xuXG4gICAgICByZXR1cm4gdGVzdFN0cmluZ0NvZXJjaW9uKHZhbHVlKTsgLy8gdGhyb3cgKHRvIGhlbHAgY2FsbGVycyBmaW5kIHRyb3VibGVzaG9vdGluZyBjb21tZW50cylcbiAgICB9XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudE93bmVyID0gUmVhY3RTaGFyZWRJbnRlcm5hbHMuUmVhY3RDdXJyZW50T3duZXI7XG52YXIgUkVTRVJWRURfUFJPUFMgPSB7XG4gIGtleTogdHJ1ZSxcbiAgcmVmOiB0cnVlLFxuICBfX3NlbGY6IHRydWUsXG4gIF9fc291cmNlOiB0cnVlXG59O1xudmFyIHNwZWNpYWxQcm9wS2V5V2FybmluZ1Nob3duO1xudmFyIHNwZWNpYWxQcm9wUmVmV2FybmluZ1Nob3duO1xudmFyIGRpZFdhcm5BYm91dFN0cmluZ1JlZnM7XG5cbntcbiAgZGlkV2FybkFib3V0U3RyaW5nUmVmcyA9IHt9O1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZFJlZihjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ3JlZicpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdyZWYnKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnJlZiAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBoYXNWYWxpZEtleShjb25maWcpIHtcbiAge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgJ2tleScpKSB7XG4gICAgICB2YXIgZ2V0dGVyID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihjb25maWcsICdrZXknKS5nZXQ7XG5cbiAgICAgIGlmIChnZXR0ZXIgJiYgZ2V0dGVyLmlzUmVhY3RXYXJuaW5nKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gY29uZmlnLmtleSAhPT0gdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKSB7XG4gIHtcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5yZWYgPT09ICdzdHJpbmcnICYmIFJlYWN0Q3VycmVudE93bmVyLmN1cnJlbnQgJiYgc2VsZiAmJiBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnN0YXRlTm9kZSAhPT0gc2VsZikge1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUoUmVhY3RDdXJyZW50T3duZXIuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKCFkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdKSB7XG4gICAgICAgIGVycm9yKCdDb21wb25lbnQgXCIlc1wiIGNvbnRhaW5zIHRoZSBzdHJpbmcgcmVmIFwiJXNcIi4gJyArICdTdXBwb3J0IGZvciBzdHJpbmcgcmVmcyB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gJyArICdUaGlzIGNhc2UgY2Fubm90IGJlIGF1dG9tYXRpY2FsbHkgY29udmVydGVkIHRvIGFuIGFycm93IGZ1bmN0aW9uLiAnICsgJ1dlIGFzayB5b3UgdG8gbWFudWFsbHkgZml4IHRoaXMgY2FzZSBieSB1c2luZyB1c2VSZWYoKSBvciBjcmVhdGVSZWYoKSBpbnN0ZWFkLiAnICsgJ0xlYXJuIG1vcmUgYWJvdXQgdXNpbmcgcmVmcyBzYWZlbHkgaGVyZTogJyArICdodHRwczovL3JlYWN0anMub3JnL2xpbmsvc3RyaWN0LW1vZGUtc3RyaW5nLXJlZicsIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LnR5cGUpLCBjb25maWcucmVmKTtcblxuICAgICAgICBkaWRXYXJuQWJvdXRTdHJpbmdSZWZzW2NvbXBvbmVudE5hbWVdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nS2V5ID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcEtleVdhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBga2V5YCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdLZXkuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ2tleScsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nS2V5LFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVmaW5lUmVmUHJvcFdhcm5pbmdHZXR0ZXIocHJvcHMsIGRpc3BsYXlOYW1lKSB7XG4gIHtcbiAgICB2YXIgd2FybkFib3V0QWNjZXNzaW5nUmVmID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCFzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93bikge1xuICAgICAgICBzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biA9IHRydWU7XG5cbiAgICAgICAgZXJyb3IoJyVzOiBgcmVmYCBpcyBub3QgYSBwcm9wLiBUcnlpbmcgdG8gYWNjZXNzIGl0IHdpbGwgcmVzdWx0ICcgKyAnaW4gYHVuZGVmaW5lZGAgYmVpbmcgcmV0dXJuZWQuIElmIHlvdSBuZWVkIHRvIGFjY2VzcyB0aGUgc2FtZSAnICsgJ3ZhbHVlIHdpdGhpbiB0aGUgY2hpbGQgY29tcG9uZW50LCB5b3Ugc2hvdWxkIHBhc3MgaXQgYXMgYSBkaWZmZXJlbnQgJyArICdwcm9wLiAoaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3NwZWNpYWwtcHJvcHMpJywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3YXJuQWJvdXRBY2Nlc3NpbmdSZWYuaXNSZWFjdFdhcm5pbmcgPSB0cnVlO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShwcm9wcywgJ3JlZicsIHtcbiAgICAgIGdldDogd2FybkFib3V0QWNjZXNzaW5nUmVmLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn1cbi8qKlxuICogRmFjdG9yeSBtZXRob2QgdG8gY3JlYXRlIGEgbmV3IFJlYWN0IGVsZW1lbnQuIFRoaXMgbm8gbG9uZ2VyIGFkaGVyZXMgdG9cbiAqIHRoZSBjbGFzcyBwYXR0ZXJuLCBzbyBkbyBub3QgdXNlIG5ldyB0byBjYWxsIGl0LiBBbHNvLCBpbnN0YW5jZW9mIGNoZWNrXG4gKiB3aWxsIG5vdCB3b3JrLiBJbnN0ZWFkIHRlc3QgJCR0eXBlb2YgZmllbGQgYWdhaW5zdCBTeW1ib2wuZm9yKCdyZWFjdC5lbGVtZW50JykgdG8gY2hlY2tcbiAqIGlmIHNvbWV0aGluZyBpcyBhIFJlYWN0IEVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHsqfSB0eXBlXG4gKiBAcGFyYW0geyp9IHByb3BzXG4gKiBAcGFyYW0geyp9IGtleVxuICogQHBhcmFtIHtzdHJpbmd8b2JqZWN0fSByZWZcbiAqIEBwYXJhbSB7Kn0gb3duZXJcbiAqIEBwYXJhbSB7Kn0gc2VsZiBBICp0ZW1wb3JhcnkqIGhlbHBlciB0byBkZXRlY3QgcGxhY2VzIHdoZXJlIGB0aGlzYCBpc1xuICogZGlmZmVyZW50IGZyb20gdGhlIGBvd25lcmAgd2hlbiBSZWFjdC5jcmVhdGVFbGVtZW50IGlzIGNhbGxlZCwgc28gdGhhdCB3ZVxuICogY2FuIHdhcm4uIFdlIHdhbnQgdG8gZ2V0IHJpZCBvZiBvd25lciBhbmQgcmVwbGFjZSBzdHJpbmcgYHJlZmBzIHdpdGggYXJyb3dcbiAqIGZ1bmN0aW9ucywgYW5kIGFzIGxvbmcgYXMgYHRoaXNgIGFuZCBvd25lciBhcmUgdGhlIHNhbWUsIHRoZXJlIHdpbGwgYmUgbm9cbiAqIGNoYW5nZSBpbiBiZWhhdmlvci5cbiAqIEBwYXJhbSB7Kn0gc291cmNlIEFuIGFubm90YXRpb24gb2JqZWN0IChhZGRlZCBieSBhIHRyYW5zcGlsZXIgb3Igb3RoZXJ3aXNlKVxuICogaW5kaWNhdGluZyBmaWxlbmFtZSwgbGluZSBudW1iZXIsIGFuZC9vciBvdGhlciBpbmZvcm1hdGlvbi5cbiAqIEBpbnRlcm5hbFxuICovXG5cblxudmFyIFJlYWN0RWxlbWVudCA9IGZ1bmN0aW9uICh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBvd25lciwgcHJvcHMpIHtcbiAgdmFyIGVsZW1lbnQgPSB7XG4gICAgLy8gVGhpcyB0YWcgYWxsb3dzIHVzIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoaXMgYXMgYSBSZWFjdCBFbGVtZW50XG4gICAgJCR0eXBlb2Y6IFJFQUNUX0VMRU1FTlRfVFlQRSxcbiAgICAvLyBCdWlsdC1pbiBwcm9wZXJ0aWVzIHRoYXQgYmVsb25nIG9uIHRoZSBlbGVtZW50XG4gICAgdHlwZTogdHlwZSxcbiAgICBrZXk6IGtleSxcbiAgICByZWY6IHJlZixcbiAgICBwcm9wczogcHJvcHMsXG4gICAgLy8gUmVjb3JkIHRoZSBjb21wb25lbnQgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoaXMgZWxlbWVudC5cbiAgICBfb3duZXI6IG93bmVyXG4gIH07XG5cbiAge1xuICAgIC8vIFRoZSB2YWxpZGF0aW9uIGZsYWcgaXMgY3VycmVudGx5IG11dGF0aXZlLiBXZSBwdXQgaXQgb25cbiAgICAvLyBhbiBleHRlcm5hbCBiYWNraW5nIHN0b3JlIHNvIHRoYXQgd2UgY2FuIGZyZWV6ZSB0aGUgd2hvbGUgb2JqZWN0LlxuICAgIC8vIFRoaXMgY2FuIGJlIHJlcGxhY2VkIHdpdGggYSBXZWFrTWFwIG9uY2UgdGhleSBhcmUgaW1wbGVtZW50ZWQgaW5cbiAgICAvLyBjb21tb25seSB1c2VkIGRldmVsb3BtZW50IGVudmlyb25tZW50cy5cbiAgICBlbGVtZW50Ll9zdG9yZSA9IHt9OyAvLyBUbyBtYWtlIGNvbXBhcmluZyBSZWFjdEVsZW1lbnRzIGVhc2llciBmb3IgdGVzdGluZyBwdXJwb3Nlcywgd2UgbWFrZVxuICAgIC8vIHRoZSB2YWxpZGF0aW9uIGZsYWcgbm9uLWVudW1lcmFibGUgKHdoZXJlIHBvc3NpYmxlLCB3aGljaCBzaG91bGRcbiAgICAvLyBpbmNsdWRlIGV2ZXJ5IGVudmlyb25tZW50IHdlIHJ1biB0ZXN0cyBpbiksIHNvIHRoZSB0ZXN0IGZyYW1ld29ya1xuICAgIC8vIGlnbm9yZXMgaXQuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudC5fc3RvcmUsICd2YWxpZGF0ZWQnLCB7XG4gICAgICBjb25maWd1cmFibGU6IGZhbHNlLFxuICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgIHZhbHVlOiBmYWxzZVxuICAgIH0pOyAvLyBzZWxmIGFuZCBzb3VyY2UgYXJlIERFViBvbmx5IHByb3BlcnRpZXMuXG5cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZWxlbWVudCwgJ19zZWxmJywge1xuICAgICAgY29uZmlndXJhYmxlOiBmYWxzZSxcbiAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgd3JpdGFibGU6IGZhbHNlLFxuICAgICAgdmFsdWU6IHNlbGZcbiAgICB9KTsgLy8gVHdvIGVsZW1lbnRzIGNyZWF0ZWQgaW4gdHdvIGRpZmZlcmVudCBwbGFjZXMgc2hvdWxkIGJlIGNvbnNpZGVyZWRcbiAgICAvLyBlcXVhbCBmb3IgdGVzdGluZyBwdXJwb3NlcyBhbmQgdGhlcmVmb3JlIHdlIGhpZGUgaXQgZnJvbSBlbnVtZXJhdGlvbi5cblxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlbGVtZW50LCAnX3NvdXJjZScsIHtcbiAgICAgIGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgIHZhbHVlOiBzb3VyY2VcbiAgICB9KTtcblxuICAgIGlmIChPYmplY3QuZnJlZXplKSB7XG4gICAgICBPYmplY3QuZnJlZXplKGVsZW1lbnQucHJvcHMpO1xuICAgICAgT2JqZWN0LmZyZWV6ZShlbGVtZW50KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZWxlbWVudDtcbn07XG4vKipcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdGpzL3JmY3MvcHVsbC8xMDdcbiAqIEBwYXJhbSB7Kn0gdHlwZVxuICogQHBhcmFtIHtvYmplY3R9IHByb3BzXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5XG4gKi9cblxuZnVuY3Rpb24ganN4REVWKHR5cGUsIGNvbmZpZywgbWF5YmVLZXksIHNvdXJjZSwgc2VsZikge1xuICB7XG4gICAgdmFyIHByb3BOYW1lOyAvLyBSZXNlcnZlZCBuYW1lcyBhcmUgZXh0cmFjdGVkXG5cbiAgICB2YXIgcHJvcHMgPSB7fTtcbiAgICB2YXIga2V5ID0gbnVsbDtcbiAgICB2YXIgcmVmID0gbnVsbDsgLy8gQ3VycmVudGx5LCBrZXkgY2FuIGJlIHNwcmVhZCBpbiBhcyBhIHByb3AuIFRoaXMgY2F1c2VzIGEgcG90ZW50aWFsXG4gICAgLy8gaXNzdWUgaWYga2V5IGlzIGFsc28gZXhwbGljaXRseSBkZWNsYXJlZCAoaWUuIDxkaXYgey4uLnByb3BzfSBrZXk9XCJIaVwiIC8+XG4gICAgLy8gb3IgPGRpdiBrZXk9XCJIaVwiIHsuLi5wcm9wc30gLz4gKS4gV2Ugd2FudCB0byBkZXByZWNhdGUga2V5IHNwcmVhZCxcbiAgICAvLyBidXQgYXMgYW4gaW50ZXJtZWRpYXJ5IHN0ZXAsIHdlIHdpbGwgdXNlIGpzeERFViBmb3IgZXZlcnl0aGluZyBleGNlcHRcbiAgICAvLyA8ZGl2IHsuLi5wcm9wc30ga2V5PVwiSGlcIiAvPiwgYmVjYXVzZSB3ZSBhcmVuJ3QgY3VycmVudGx5IGFibGUgdG8gdGVsbCBpZlxuICAgIC8vIGtleSBpcyBleHBsaWNpdGx5IGRlY2xhcmVkIHRvIGJlIHVuZGVmaW5lZCBvciBub3QuXG5cbiAgICBpZiAobWF5YmVLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKG1heWJlS2V5KTtcbiAgICAgIH1cblxuICAgICAga2V5ID0gJycgKyBtYXliZUtleTtcbiAgICB9XG5cbiAgICBpZiAoaGFzVmFsaWRLZXkoY29uZmlnKSkge1xuICAgICAge1xuICAgICAgICBjaGVja0tleVN0cmluZ0NvZXJjaW9uKGNvbmZpZy5rZXkpO1xuICAgICAgfVxuXG4gICAgICBrZXkgPSAnJyArIGNvbmZpZy5rZXk7XG4gICAgfVxuXG4gICAgaWYgKGhhc1ZhbGlkUmVmKGNvbmZpZykpIHtcbiAgICAgIHJlZiA9IGNvbmZpZy5yZWY7XG4gICAgICB3YXJuSWZTdHJpbmdSZWZDYW5ub3RCZUF1dG9Db252ZXJ0ZWQoY29uZmlnLCBzZWxmKTtcbiAgICB9IC8vIFJlbWFpbmluZyBwcm9wZXJ0aWVzIGFyZSBhZGRlZCB0byBhIG5ldyBwcm9wcyBvYmplY3RcblxuXG4gICAgZm9yIChwcm9wTmFtZSBpbiBjb25maWcpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKGNvbmZpZywgcHJvcE5hbWUpICYmICFSRVNFUlZFRF9QUk9QUy5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgcHJvcHNbcHJvcE5hbWVdID0gY29uZmlnW3Byb3BOYW1lXTtcbiAgICAgIH1cbiAgICB9IC8vIFJlc29sdmUgZGVmYXVsdCBwcm9wc1xuXG5cbiAgICBpZiAodHlwZSAmJiB0eXBlLmRlZmF1bHRQcm9wcykge1xuICAgICAgdmFyIGRlZmF1bHRQcm9wcyA9IHR5cGUuZGVmYXVsdFByb3BzO1xuXG4gICAgICBmb3IgKHByb3BOYW1lIGluIGRlZmF1bHRQcm9wcykge1xuICAgICAgICBpZiAocHJvcHNbcHJvcE5hbWVdID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwcm9wc1twcm9wTmFtZV0gPSBkZWZhdWx0UHJvcHNbcHJvcE5hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGtleSB8fCByZWYpIHtcbiAgICAgIHZhciBkaXNwbGF5TmFtZSA9IHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nID8gdHlwZS5kaXNwbGF5TmFtZSB8fCB0eXBlLm5hbWUgfHwgJ1Vua25vd24nIDogdHlwZTtcblxuICAgICAgaWYgKGtleSkge1xuICAgICAgICBkZWZpbmVLZXlQcm9wV2FybmluZ0dldHRlcihwcm9wcywgZGlzcGxheU5hbWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmVmKSB7XG4gICAgICAgIGRlZmluZVJlZlByb3BXYXJuaW5nR2V0dGVyKHByb3BzLCBkaXNwbGF5TmFtZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIFJlYWN0RWxlbWVudCh0eXBlLCBrZXksIHJlZiwgc2VsZiwgc291cmNlLCBSZWFjdEN1cnJlbnRPd25lci5jdXJyZW50LCBwcm9wcyk7XG4gIH1cbn1cblxudmFyIFJlYWN0Q3VycmVudE93bmVyJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdEN1cnJlbnRPd25lcjtcbnZhciBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEgPSBSZWFjdFNoYXJlZEludGVybmFscy5SZWFjdERlYnVnQ3VycmVudEZyYW1lO1xuXG5mdW5jdGlvbiBzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxKGVsZW1lbnQpIHtcbiAge1xuICAgIGlmIChlbGVtZW50KSB7XG4gICAgICB2YXIgb3duZXIgPSBlbGVtZW50Ll9vd25lcjtcbiAgICAgIHZhciBzdGFjayA9IGRlc2NyaWJlVW5rbm93bkVsZW1lbnRUeXBlRnJhbWVJbkRFVihlbGVtZW50LnR5cGUsIGVsZW1lbnQuX3NvdXJjZSwgb3duZXIgPyBvd25lci50eXBlIDogbnVsbCk7XG4gICAgICBSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEuc2V0RXh0cmFTdGFja0ZyYW1lKHN0YWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgUmVhY3REZWJ1Z0N1cnJlbnRGcmFtZSQxLnNldEV4dHJhU3RhY2tGcmFtZShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duO1xuXG57XG4gIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gZmFsc2U7XG59XG4vKipcbiAqIFZlcmlmaWVzIHRoZSBvYmplY3QgaXMgYSBSZWFjdEVsZW1lbnQuXG4gKiBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9kb2NzL3JlYWN0LWFwaS5odG1sI2lzdmFsaWRlbGVtZW50XG4gKiBAcGFyYW0gez9vYmplY3R9IG9iamVjdFxuICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiBgb2JqZWN0YCBpcyBhIFJlYWN0RWxlbWVudC5cbiAqIEBmaW5hbFxuICovXG5cblxuZnVuY3Rpb24gaXNWYWxpZEVsZW1lbnQob2JqZWN0KSB7XG4gIHtcbiAgICByZXR1cm4gdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcgJiYgb2JqZWN0ICE9PSBudWxsICYmIG9iamVjdC4kJHR5cGVvZiA9PT0gUkVBQ1RfRUxFTUVOVF9UWVBFO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpIHtcbiAge1xuICAgIGlmIChSZWFjdEN1cnJlbnRPd25lciQxLmN1cnJlbnQpIHtcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKFJlYWN0Q3VycmVudE93bmVyJDEuY3VycmVudC50eXBlKTtcblxuICAgICAgaWYgKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuICdcXG5cXG5DaGVjayB0aGUgcmVuZGVyIG1ldGhvZCBvZiBgJyArIG5hbWUgKyAnYC4nO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShzb3VyY2UpIHtcbiAge1xuICAgIGlmIChzb3VyY2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdmFyIGZpbGVOYW1lID0gc291cmNlLmZpbGVOYW1lLnJlcGxhY2UoL14uKltcXFxcXFwvXS8sICcnKTtcbiAgICAgIHZhciBsaW5lTnVtYmVyID0gc291cmNlLmxpbmVOdW1iZXI7XG4gICAgICByZXR1cm4gJ1xcblxcbkNoZWNrIHlvdXIgY29kZSBhdCAnICsgZmlsZU5hbWUgKyAnOicgKyBsaW5lTnVtYmVyICsgJy4nO1xuICAgIH1cblxuICAgIHJldHVybiAnJztcbiAgfVxufVxuLyoqXG4gKiBXYXJuIGlmIHRoZXJlJ3Mgbm8ga2V5IGV4cGxpY2l0bHkgc2V0IG9uIGR5bmFtaWMgYXJyYXlzIG9mIGNoaWxkcmVuIG9yXG4gKiBvYmplY3Qga2V5cyBhcmUgbm90IHZhbGlkLiBUaGlzIGFsbG93cyB1cyB0byBrZWVwIHRyYWNrIG9mIGNoaWxkcmVuIGJldHdlZW5cbiAqIHVwZGF0ZXMuXG4gKi9cblxuXG52YXIgb3duZXJIYXNLZXlVc2VXYXJuaW5nID0ge307XG5cbmZ1bmN0aW9uIGdldEN1cnJlbnRDb21wb25lbnRFcnJvckluZm8ocGFyZW50VHlwZSkge1xuICB7XG4gICAgdmFyIGluZm8gPSBnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0oKTtcblxuICAgIGlmICghaW5mbykge1xuICAgICAgdmFyIHBhcmVudE5hbWUgPSB0eXBlb2YgcGFyZW50VHlwZSA9PT0gJ3N0cmluZycgPyBwYXJlbnRUeXBlIDogcGFyZW50VHlwZS5kaXNwbGF5TmFtZSB8fCBwYXJlbnRUeXBlLm5hbWU7XG5cbiAgICAgIGlmIChwYXJlbnROYW1lKSB7XG4gICAgICAgIGluZm8gPSBcIlxcblxcbkNoZWNrIHRoZSB0b3AtbGV2ZWwgcmVuZGVyIGNhbGwgdXNpbmcgPFwiICsgcGFyZW50TmFtZSArIFwiPi5cIjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gaW5mbztcbiAgfVxufVxuLyoqXG4gKiBXYXJuIGlmIHRoZSBlbGVtZW50IGRvZXNuJ3QgaGF2ZSBhbiBleHBsaWNpdCBrZXkgYXNzaWduZWQgdG8gaXQuXG4gKiBUaGlzIGVsZW1lbnQgaXMgaW4gYW4gYXJyYXkuIFRoZSBhcnJheSBjb3VsZCBncm93IGFuZCBzaHJpbmsgb3IgYmVcbiAqIHJlb3JkZXJlZC4gQWxsIGNoaWxkcmVuIHRoYXQgaGF2ZW4ndCBhbHJlYWR5IGJlZW4gdmFsaWRhdGVkIGFyZSByZXF1aXJlZCB0b1xuICogaGF2ZSBhIFwia2V5XCIgcHJvcGVydHkgYXNzaWduZWQgdG8gaXQuIEVycm9yIHN0YXR1c2VzIGFyZSBjYWNoZWQgc28gYSB3YXJuaW5nXG4gKiB3aWxsIG9ubHkgYmUgc2hvd24gb25jZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3RFbGVtZW50fSBlbGVtZW50IEVsZW1lbnQgdGhhdCByZXF1aXJlcyBhIGtleS5cbiAqIEBwYXJhbSB7Kn0gcGFyZW50VHlwZSBlbGVtZW50J3MgcGFyZW50J3MgdHlwZS5cbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRXhwbGljaXRLZXkoZWxlbWVudCwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKCFlbGVtZW50Ll9zdG9yZSB8fCBlbGVtZW50Ll9zdG9yZS52YWxpZGF0ZWQgfHwgZWxlbWVudC5rZXkgIT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGVsZW1lbnQuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgdmFyIGN1cnJlbnRDb21wb25lbnRFcnJvckluZm8gPSBnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvKHBhcmVudFR5cGUpO1xuXG4gICAgaWYgKG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIG93bmVySGFzS2V5VXNlV2FybmluZ1tjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvXSA9IHRydWU7IC8vIFVzdWFsbHkgdGhlIGN1cnJlbnQgb3duZXIgaXMgdGhlIG9mZmVuZGVyLCBidXQgaWYgaXQgYWNjZXB0cyBjaGlsZHJlbiBhcyBhXG4gICAgLy8gcHJvcGVydHksIGl0IG1heSBiZSB0aGUgY3JlYXRvciBvZiB0aGUgY2hpbGQgdGhhdCdzIHJlc3BvbnNpYmxlIGZvclxuICAgIC8vIGFzc2lnbmluZyBpdCBhIGtleS5cblxuICAgIHZhciBjaGlsZE93bmVyID0gJyc7XG5cbiAgICBpZiAoZWxlbWVudCAmJiBlbGVtZW50Ll9vd25lciAmJiBlbGVtZW50Ll9vd25lciAhPT0gUmVhY3RDdXJyZW50T3duZXIkMS5jdXJyZW50KSB7XG4gICAgICAvLyBHaXZlIHRoZSBjb21wb25lbnQgdGhhdCBvcmlnaW5hbGx5IGNyZWF0ZWQgdGhpcyBjaGlsZC5cbiAgICAgIGNoaWxkT3duZXIgPSBcIiBJdCB3YXMgcGFzc2VkIGEgY2hpbGQgZnJvbSBcIiArIGdldENvbXBvbmVudE5hbWVGcm9tVHlwZShlbGVtZW50Ll9vd25lci50eXBlKSArIFwiLlwiO1xuICAgIH1cblxuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZWxlbWVudCk7XG5cbiAgICBlcnJvcignRWFjaCBjaGlsZCBpbiBhIGxpc3Qgc2hvdWxkIGhhdmUgYSB1bmlxdWUgXCJrZXlcIiBwcm9wLicgKyAnJXMlcyBTZWUgaHR0cHM6Ly9yZWFjdGpzLm9yZy9saW5rL3dhcm5pbmcta2V5cyBmb3IgbW9yZSBpbmZvcm1hdGlvbi4nLCBjdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvLCBjaGlsZE93bmVyKTtcblxuICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gIH1cbn1cbi8qKlxuICogRW5zdXJlIHRoYXQgZXZlcnkgZWxlbWVudCBlaXRoZXIgaXMgcGFzc2VkIGluIGEgc3RhdGljIGxvY2F0aW9uLCBpbiBhblxuICogYXJyYXkgd2l0aCBhbiBleHBsaWNpdCBrZXlzIHByb3BlcnR5IGRlZmluZWQsIG9yIGluIGFuIG9iamVjdCBsaXRlcmFsXG4gKiB3aXRoIHZhbGlkIGtleSBwcm9wZXJ0eS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSB7UmVhY3ROb2RlfSBub2RlIFN0YXRpY2FsbHkgcGFzc2VkIGNoaWxkIG9mIGFueSB0eXBlLlxuICogQHBhcmFtIHsqfSBwYXJlbnRUeXBlIG5vZGUncyBwYXJlbnQncyB0eXBlLlxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVDaGlsZEtleXMobm9kZSwgcGFyZW50VHlwZSkge1xuICB7XG4gICAgaWYgKHR5cGVvZiBub2RlICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChpc0FycmF5KG5vZGUpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGNoaWxkID0gbm9kZVtpXTtcblxuICAgICAgICBpZiAoaXNWYWxpZEVsZW1lbnQoY2hpbGQpKSB7XG4gICAgICAgICAgdmFsaWRhdGVFeHBsaWNpdEtleShjaGlsZCwgcGFyZW50VHlwZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGlzVmFsaWRFbGVtZW50KG5vZGUpKSB7XG4gICAgICAvLyBUaGlzIGVsZW1lbnQgd2FzIHBhc3NlZCBpbiBhIHZhbGlkIGxvY2F0aW9uLlxuICAgICAgaWYgKG5vZGUuX3N0b3JlKSB7XG4gICAgICAgIG5vZGUuX3N0b3JlLnZhbGlkYXRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChub2RlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JGbiA9IGdldEl0ZXJhdG9yRm4obm9kZSk7XG5cbiAgICAgIGlmICh0eXBlb2YgaXRlcmF0b3JGbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAvLyBFbnRyeSBpdGVyYXRvcnMgdXNlZCB0byBwcm92aWRlIGltcGxpY2l0IGtleXMsXG4gICAgICAgIC8vIGJ1dCBub3cgd2UgcHJpbnQgYSBzZXBhcmF0ZSB3YXJuaW5nIGZvciB0aGVtIGxhdGVyLlxuICAgICAgICBpZiAoaXRlcmF0b3JGbiAhPT0gbm9kZS5lbnRyaWVzKSB7XG4gICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JGbi5jYWxsKG5vZGUpO1xuICAgICAgICAgIHZhciBzdGVwO1xuXG4gICAgICAgICAgd2hpbGUgKCEoc3RlcCA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgICAgICAgaWYgKGlzVmFsaWRFbGVtZW50KHN0ZXAudmFsdWUpKSB7XG4gICAgICAgICAgICAgIHZhbGlkYXRlRXhwbGljaXRLZXkoc3RlcC52YWx1ZSwgcGFyZW50VHlwZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGVsZW1lbnQsIHZhbGlkYXRlIHRoYXQgaXRzIHByb3BzIGZvbGxvdyB0aGUgcHJvcFR5cGVzIGRlZmluaXRpb24sXG4gKiBwcm92aWRlZCBieSB0aGUgdHlwZS5cbiAqXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZWxlbWVudFxuICovXG5cblxuZnVuY3Rpb24gdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCkge1xuICB7XG4gICAgdmFyIHR5cGUgPSBlbGVtZW50LnR5cGU7XG5cbiAgICBpZiAodHlwZSA9PT0gbnVsbCB8fCB0eXBlID09PSB1bmRlZmluZWQgfHwgdHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHByb3BUeXBlcztcblxuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvcFR5cGVzID0gdHlwZS5wcm9wVHlwZXM7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgKHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0ZPUldBUkRfUkVGX1RZUEUgfHwgLy8gTm90ZTogTWVtbyBvbmx5IGNoZWNrcyBvdXRlciBwcm9wcyBoZXJlLlxuICAgIC8vIElubmVyIHByb3BzIGFyZSBjaGVja2VkIGluIHRoZSByZWNvbmNpbGVyLlxuICAgIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX01FTU9fVFlQRSkpIHtcbiAgICAgIHByb3BUeXBlcyA9IHR5cGUucHJvcFR5cGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHByb3BUeXBlcykge1xuICAgICAgLy8gSW50ZW50aW9uYWxseSBpbnNpZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBsYXp5IGluaXRpYWxpemVyczpcbiAgICAgIHZhciBuYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuICAgICAgY2hlY2tQcm9wVHlwZXMocHJvcFR5cGVzLCBlbGVtZW50LnByb3BzLCAncHJvcCcsIG5hbWUsIGVsZW1lbnQpO1xuICAgIH0gZWxzZSBpZiAodHlwZS5Qcm9wVHlwZXMgIT09IHVuZGVmaW5lZCAmJiAhcHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24pIHtcbiAgICAgIHByb3BUeXBlc01pc3NwZWxsV2FybmluZ1Nob3duID0gdHJ1ZTsgLy8gSW50ZW50aW9uYWxseSBpbnNpZGUgdG8gYXZvaWQgdHJpZ2dlcmluZyBsYXp5IGluaXRpYWxpemVyczpcblxuICAgICAgdmFyIF9uYW1lID0gZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUpO1xuXG4gICAgICBlcnJvcignQ29tcG9uZW50ICVzIGRlY2xhcmVkIGBQcm9wVHlwZXNgIGluc3RlYWQgb2YgYHByb3BUeXBlc2AuIERpZCB5b3UgbWlzc3BlbGwgdGhlIHByb3BlcnR5IGFzc2lnbm1lbnQ/JywgX25hbWUgfHwgJ1Vua25vd24nKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHR5cGUuZ2V0RGVmYXVsdFByb3BzID09PSAnZnVuY3Rpb24nICYmICF0eXBlLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCkge1xuICAgICAgZXJyb3IoJ2dldERlZmF1bHRQcm9wcyBpcyBvbmx5IHVzZWQgb24gY2xhc3NpYyBSZWFjdC5jcmVhdGVDbGFzcyAnICsgJ2RlZmluaXRpb25zLiBVc2UgYSBzdGF0aWMgcHJvcGVydHkgbmFtZWQgYGRlZmF1bHRQcm9wc2AgaW5zdGVhZC4nKTtcbiAgICB9XG4gIH1cbn1cbi8qKlxuICogR2l2ZW4gYSBmcmFnbWVudCwgdmFsaWRhdGUgdGhhdCBpdCBjYW4gb25seSBiZSBwcm92aWRlZCB3aXRoIGZyYWdtZW50IHByb3BzXG4gKiBAcGFyYW0ge1JlYWN0RWxlbWVudH0gZnJhZ21lbnRcbiAqL1xuXG5cbmZ1bmN0aW9uIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhmcmFnbWVudCkge1xuICB7XG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmcmFnbWVudC5wcm9wcyk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuXG4gICAgICBpZiAoa2V5ICE9PSAnY2hpbGRyZW4nICYmIGtleSAhPT0gJ2tleScpIHtcbiAgICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShmcmFnbWVudCk7XG5cbiAgICAgICAgZXJyb3IoJ0ludmFsaWQgcHJvcCBgJXNgIHN1cHBsaWVkIHRvIGBSZWFjdC5GcmFnbWVudGAuICcgKyAnUmVhY3QuRnJhZ21lbnQgY2FuIG9ubHkgaGF2ZSBga2V5YCBhbmQgYGNoaWxkcmVuYCBwcm9wcy4nLCBrZXkpO1xuXG4gICAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChmcmFnbWVudC5yZWYgIT09IG51bGwpIHtcbiAgICAgIHNldEN1cnJlbnRseVZhbGlkYXRpbmdFbGVtZW50JDEoZnJhZ21lbnQpO1xuXG4gICAgICBlcnJvcignSW52YWxpZCBhdHRyaWJ1dGUgYHJlZmAgc3VwcGxpZWQgdG8gYFJlYWN0LkZyYWdtZW50YC4nKTtcblxuICAgICAgc2V0Q3VycmVudGx5VmFsaWRhdGluZ0VsZW1lbnQkMShudWxsKTtcbiAgICB9XG4gIH1cbn1cblxudmFyIGRpZFdhcm5BYm91dEtleVNwcmVhZCA9IHt9O1xuZnVuY3Rpb24ganN4V2l0aFZhbGlkYXRpb24odHlwZSwgcHJvcHMsIGtleSwgaXNTdGF0aWNDaGlsZHJlbiwgc291cmNlLCBzZWxmKSB7XG4gIHtcbiAgICB2YXIgdmFsaWRUeXBlID0gaXNWYWxpZEVsZW1lbnRUeXBlKHR5cGUpOyAvLyBXZSB3YXJuIGluIHRoaXMgY2FzZSBidXQgZG9uJ3QgdGhyb3cuIFdlIGV4cGVjdCB0aGUgZWxlbWVudCBjcmVhdGlvbiB0b1xuICAgIC8vIHN1Y2NlZWQgYW5kIHRoZXJlIHdpbGwgbGlrZWx5IGJlIGVycm9ycyBpbiByZW5kZXIuXG5cbiAgICBpZiAoIXZhbGlkVHlwZSkge1xuICAgICAgdmFyIGluZm8gPSAnJztcblxuICAgICAgaWYgKHR5cGUgPT09IHVuZGVmaW5lZCB8fCB0eXBlb2YgdHlwZSA9PT0gJ29iamVjdCcgJiYgdHlwZSAhPT0gbnVsbCAmJiBPYmplY3Qua2V5cyh0eXBlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgaW5mbyArPSAnIFlvdSBsaWtlbHkgZm9yZ290IHRvIGV4cG9ydCB5b3VyIGNvbXBvbmVudCBmcm9tIHRoZSBmaWxlICcgKyBcIml0J3MgZGVmaW5lZCBpbiwgb3IgeW91IG1pZ2h0IGhhdmUgbWl4ZWQgdXAgZGVmYXVsdCBhbmQgbmFtZWQgaW1wb3J0cy5cIjtcbiAgICAgIH1cblxuICAgICAgdmFyIHNvdXJjZUluZm8gPSBnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bShzb3VyY2UpO1xuXG4gICAgICBpZiAoc291cmNlSW5mbykge1xuICAgICAgICBpbmZvICs9IHNvdXJjZUluZm87XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmZvICs9IGdldERlY2xhcmF0aW9uRXJyb3JBZGRlbmR1bSgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgdHlwZVN0cmluZztcblxuICAgICAgaWYgKHR5cGUgPT09IG51bGwpIHtcbiAgICAgICAgdHlwZVN0cmluZyA9ICdudWxsJztcbiAgICAgIH0gZWxzZSBpZiAoaXNBcnJheSh0eXBlKSkge1xuICAgICAgICB0eXBlU3RyaW5nID0gJ2FycmF5JztcbiAgICAgIH0gZWxzZSBpZiAodHlwZSAhPT0gdW5kZWZpbmVkICYmIHR5cGUuJCR0eXBlb2YgPT09IFJFQUNUX0VMRU1FTlRfVFlQRSkge1xuICAgICAgICB0eXBlU3RyaW5nID0gXCI8XCIgKyAoZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlKHR5cGUudHlwZSkgfHwgJ1Vua25vd24nKSArIFwiIC8+XCI7XG4gICAgICAgIGluZm8gPSAnIERpZCB5b3UgYWNjaWRlbnRhbGx5IGV4cG9ydCBhIEpTWCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjb21wb25lbnQ/JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGVTdHJpbmcgPSB0eXBlb2YgdHlwZTtcbiAgICAgIH1cblxuICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogdHlwZSBpcyBpbnZhbGlkIC0tIGV4cGVjdGVkIGEgc3RyaW5nIChmb3IgJyArICdidWlsdC1pbiBjb21wb25lbnRzKSBvciBhIGNsYXNzL2Z1bmN0aW9uIChmb3IgY29tcG9zaXRlICcgKyAnY29tcG9uZW50cykgYnV0IGdvdDogJXMuJXMnLCB0eXBlU3RyaW5nLCBpbmZvKTtcbiAgICB9XG5cbiAgICB2YXIgZWxlbWVudCA9IGpzeERFVih0eXBlLCBwcm9wcywga2V5LCBzb3VyY2UsIHNlbGYpOyAvLyBUaGUgcmVzdWx0IGNhbiBiZSBudWxsaXNoIGlmIGEgbW9jayBvciBhIGN1c3RvbSBmdW5jdGlvbiBpcyB1c2VkLlxuICAgIC8vIFRPRE86IERyb3AgdGhpcyB3aGVuIHRoZXNlIGFyZSBubyBsb25nZXIgYWxsb3dlZCBhcyB0aGUgdHlwZSBhcmd1bWVudC5cblxuICAgIGlmIChlbGVtZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH0gLy8gU2tpcCBrZXkgd2FybmluZyBpZiB0aGUgdHlwZSBpc24ndCB2YWxpZCBzaW5jZSBvdXIga2V5IHZhbGlkYXRpb24gbG9naWNcbiAgICAvLyBkb2Vzbid0IGV4cGVjdCBhIG5vbi1zdHJpbmcvZnVuY3Rpb24gdHlwZSBhbmQgY2FuIHRocm93IGNvbmZ1c2luZyBlcnJvcnMuXG4gICAgLy8gV2UgZG9uJ3Qgd2FudCBleGNlcHRpb24gYmVoYXZpb3IgdG8gZGlmZmVyIGJldHdlZW4gZGV2IGFuZCBwcm9kLlxuICAgIC8vIChSZW5kZXJpbmcgd2lsbCB0aHJvdyB3aXRoIGEgaGVscGZ1bCBtZXNzYWdlIGFuZCBhcyBzb29uIGFzIHRoZSB0eXBlIGlzXG4gICAgLy8gZml4ZWQsIHRoZSBrZXkgd2FybmluZ3Mgd2lsbCBhcHBlYXIuKVxuXG5cbiAgICBpZiAodmFsaWRUeXBlKSB7XG4gICAgICB2YXIgY2hpbGRyZW4gPSBwcm9wcy5jaGlsZHJlbjtcblxuICAgICAgaWYgKGNoaWxkcmVuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGlzU3RhdGljQ2hpbGRyZW4pIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShjaGlsZHJlbikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgdmFsaWRhdGVDaGlsZEtleXMoY2hpbGRyZW5baV0sIHR5cGUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmZyZWV6ZSkge1xuICAgICAgICAgICAgICBPYmplY3QuZnJlZXplKGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXJyb3IoJ1JlYWN0LmpzeDogU3RhdGljIGNoaWxkcmVuIHNob3VsZCBhbHdheXMgYmUgYW4gYXJyYXkuICcgKyAnWW91IGFyZSBsaWtlbHkgZXhwbGljaXRseSBjYWxsaW5nIFJlYWN0LmpzeHMgb3IgUmVhY3QuanN4REVWLiAnICsgJ1VzZSB0aGUgQmFiZWwgdHJhbnNmb3JtIGluc3RlYWQuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbGlkYXRlQ2hpbGRLZXlzKGNoaWxkcmVuLCB0eXBlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHByb3BzLCAna2V5JykpIHtcbiAgICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBnZXRDb21wb25lbnROYW1lRnJvbVR5cGUodHlwZSk7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocHJvcHMpLmZpbHRlcihmdW5jdGlvbiAoaykge1xuICAgICAgICAgIHJldHVybiBrICE9PSAna2V5JztcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBiZWZvcmVFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3trZXk6IHNvbWVLZXksICcgKyBrZXlzLmpvaW4oJzogLi4uLCAnKSArICc6IC4uLn0nIDogJ3trZXk6IHNvbWVLZXl9JztcblxuICAgICAgICBpZiAoIWRpZFdhcm5BYm91dEtleVNwcmVhZFtjb21wb25lbnROYW1lICsgYmVmb3JlRXhhbXBsZV0pIHtcbiAgICAgICAgICB2YXIgYWZ0ZXJFeGFtcGxlID0ga2V5cy5sZW5ndGggPiAwID8gJ3snICsga2V5cy5qb2luKCc6IC4uLiwgJykgKyAnOiAuLi59JyA6ICd7fSc7XG5cbiAgICAgICAgICBlcnJvcignQSBwcm9wcyBvYmplY3QgY29udGFpbmluZyBhIFwia2V5XCIgcHJvcCBpcyBiZWluZyBzcHJlYWQgaW50byBKU1g6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMgey4uLnByb3BzfSAvPlxcbicgKyAnUmVhY3Qga2V5cyBtdXN0IGJlIHBhc3NlZCBkaXJlY3RseSB0byBKU1ggd2l0aG91dCB1c2luZyBzcHJlYWQ6XFxuJyArICcgIGxldCBwcm9wcyA9ICVzO1xcbicgKyAnICA8JXMga2V5PXtzb21lS2V5fSB7Li4ucHJvcHN9IC8+JywgYmVmb3JlRXhhbXBsZSwgY29tcG9uZW50TmFtZSwgYWZ0ZXJFeGFtcGxlLCBjb21wb25lbnROYW1lKTtcblxuICAgICAgICAgIGRpZFdhcm5BYm91dEtleVNwcmVhZFtjb21wb25lbnROYW1lICsgYmVmb3JlRXhhbXBsZV0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGUgPT09IFJFQUNUX0ZSQUdNRU5UX1RZUEUpIHtcbiAgICAgIHZhbGlkYXRlRnJhZ21lbnRQcm9wcyhlbGVtZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsaWRhdGVQcm9wVHlwZXMoZWxlbWVudCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGVsZW1lbnQ7XG4gIH1cbn0gLy8gVGhlc2UgdHdvIGZ1bmN0aW9ucyBleGlzdCB0byBzdGlsbCBnZXQgY2hpbGQgd2FybmluZ3MgaW4gZGV2XG5cbnZhciBqc3hERVYkMSA9ICBqc3hXaXRoVmFsaWRhdGlvbiA7XG5cbmV4cG9ydHMuRnJhZ21lbnQgPSBSRUFDVF9GUkFHTUVOVF9UWVBFO1xuZXhwb3J0cy5qc3hERVYgPSBqc3hERVYkMTtcbiAgfSkoKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcblxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL2Nqcy9yZWFjdC1qc3gtZGV2LXJ1bnRpbWUucHJvZHVjdGlvbi5taW4uanMnKTtcbn0gZWxzZSB7XG4gIG1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9janMvcmVhY3QtanN4LWRldi1ydW50aW1lLmRldmVsb3BtZW50LmpzJyk7XG59XG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NDYuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuY29uc3QgdG9LZWJhYkNhc2UgPSAoc3RyaW5nKSA9PiBzdHJpbmcucmVwbGFjZSgvKFthLXowLTldKShbQS1aXSkvZywgXCIkMS0kMlwiKS50b0xvd2VyQ2FzZSgpO1xuY29uc3QgbWVyZ2VDbGFzc2VzID0gKC4uLmNsYXNzZXMpID0+IGNsYXNzZXMuZmlsdGVyKChjbGFzc05hbWUsIGluZGV4LCBhcnJheSkgPT4ge1xuICByZXR1cm4gQm9vbGVhbihjbGFzc05hbWUpICYmIGFycmF5LmluZGV4T2YoY2xhc3NOYW1lKSA9PT0gaW5kZXg7XG59KS5qb2luKFwiIFwiKTtcblxuZXhwb3J0IHsgbWVyZ2VDbGFzc2VzLCB0b0tlYmFiQ2FzZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NDYuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxudmFyIGRlZmF1bHRBdHRyaWJ1dGVzID0ge1xuICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICB3aWR0aDogMjQsXG4gIGhlaWdodDogMjQsXG4gIHZpZXdCb3g6IFwiMCAwIDI0IDI0XCIsXG4gIGZpbGw6IFwibm9uZVwiLFxuICBzdHJva2U6IFwiY3VycmVudENvbG9yXCIsXG4gIHN0cm9rZVdpZHRoOiAyLFxuICBzdHJva2VMaW5lY2FwOiBcInJvdW5kXCIsXG4gIHN0cm9rZUxpbmVqb2luOiBcInJvdW5kXCJcbn07XG5cbmV4cG9ydCB7IGRlZmF1bHRBdHRyaWJ1dGVzIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRBdHRyaWJ1dGVzLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDQ2LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCB7IGZvcndhcmRSZWYsIGNyZWF0ZUVsZW1lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgZGVmYXVsdEF0dHJpYnV0ZXMgZnJvbSAnLi9kZWZhdWx0QXR0cmlidXRlcy5qcyc7XG5pbXBvcnQgeyBtZXJnZUNsYXNzZXMgfSBmcm9tICcuL3NoYXJlZC9zcmMvdXRpbHMuanMnO1xuXG5jb25zdCBJY29uID0gZm9yd2FyZFJlZihcbiAgKHtcbiAgICBjb2xvciA9IFwiY3VycmVudENvbG9yXCIsXG4gICAgc2l6ZSA9IDI0LFxuICAgIHN0cm9rZVdpZHRoID0gMixcbiAgICBhYnNvbHV0ZVN0cm9rZVdpZHRoLFxuICAgIGNsYXNzTmFtZSA9IFwiXCIsXG4gICAgY2hpbGRyZW4sXG4gICAgaWNvbk5vZGUsXG4gICAgLi4ucmVzdFxuICB9LCByZWYpID0+IHtcbiAgICByZXR1cm4gY3JlYXRlRWxlbWVudChcbiAgICAgIFwic3ZnXCIsXG4gICAgICB7XG4gICAgICAgIHJlZixcbiAgICAgICAgLi4uZGVmYXVsdEF0dHJpYnV0ZXMsXG4gICAgICAgIHdpZHRoOiBzaXplLFxuICAgICAgICBoZWlnaHQ6IHNpemUsXG4gICAgICAgIHN0cm9rZTogY29sb3IsXG4gICAgICAgIHN0cm9rZVdpZHRoOiBhYnNvbHV0ZVN0cm9rZVdpZHRoID8gTnVtYmVyKHN0cm9rZVdpZHRoKSAqIDI0IC8gTnVtYmVyKHNpemUpIDogc3Ryb2tlV2lkdGgsXG4gICAgICAgIGNsYXNzTmFtZTogbWVyZ2VDbGFzc2VzKFwibHVjaWRlXCIsIGNsYXNzTmFtZSksXG4gICAgICAgIC4uLnJlc3RcbiAgICAgIH0sXG4gICAgICBbXG4gICAgICAgIC4uLmljb25Ob2RlLm1hcCgoW3RhZywgYXR0cnNdKSA9PiBjcmVhdGVFbGVtZW50KHRhZywgYXR0cnMpKSxcbiAgICAgICAgLi4uQXJyYXkuaXNBcnJheShjaGlsZHJlbikgPyBjaGlsZHJlbiA6IFtjaGlsZHJlbl1cbiAgICAgIF1cbiAgICApO1xuICB9XG4pO1xuXG5leHBvcnQgeyBJY29uIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb24uanMubWFwXG4iLCIvKipcbiAqIEBsaWNlbnNlIGx1Y2lkZS1yZWFjdCB2MC40NDYuMCAtIElTQ1xuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIElTQyBsaWNlbnNlLlxuICogU2VlIHRoZSBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuaW1wb3J0IHsgZm9yd2FyZFJlZiwgY3JlYXRlRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IG1lcmdlQ2xhc3NlcywgdG9LZWJhYkNhc2UgfSBmcm9tICcuL3NoYXJlZC9zcmMvdXRpbHMuanMnO1xuaW1wb3J0IEljb24gZnJvbSAnLi9JY29uLmpzJztcblxuY29uc3QgY3JlYXRlTHVjaWRlSWNvbiA9IChpY29uTmFtZSwgaWNvbk5vZGUpID0+IHtcbiAgY29uc3QgQ29tcG9uZW50ID0gZm9yd2FyZFJlZihcbiAgICAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIHJlZikgPT4gY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgICByZWYsXG4gICAgICBpY29uTm9kZSxcbiAgICAgIGNsYXNzTmFtZTogbWVyZ2VDbGFzc2VzKGBsdWNpZGUtJHt0b0tlYmFiQ2FzZShpY29uTmFtZSl9YCwgY2xhc3NOYW1lKSxcbiAgICAgIC4uLnByb3BzXG4gICAgfSlcbiAgKTtcbiAgQ29tcG9uZW50LmRpc3BsYXlOYW1lID0gYCR7aWNvbk5hbWV9YDtcbiAgcmV0dXJuIENvbXBvbmVudDtcbn07XG5cbmV4cG9ydCB7IGNyZWF0ZUx1Y2lkZUljb24gYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlTHVjaWRlSWNvbi5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ0Ni4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgQ2FsZW5kYXJEYXlzID0gY3JlYXRlTHVjaWRlSWNvbihcIkNhbGVuZGFyRGF5c1wiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk04IDJ2NFwiLCBrZXk6IFwiMWNtcHltXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNiAydjRcIiwga2V5OiBcIjRtODF2a1wiIH1dLFxuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMThcIiwgaGVpZ2h0OiBcIjE4XCIsIHg6IFwiM1wiLCB5OiBcIjRcIiwgcng6IFwiMlwiLCBrZXk6IFwiMWhvcGN5XCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0zIDEwaDE4XCIsIGtleTogXCI4dG9lbjhcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTggMTRoLjAxXCIsIGtleTogXCI2NDIzYmhcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDE0aC4wMVwiLCBrZXk6IFwiMWV0aWxpXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNiAxNGguMDFcIiwga2V5OiBcIjFnYm9md1wiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOCAxOGguMDFcIiwga2V5OiBcImxycDM1dFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgMThoLjAxXCIsIGtleTogXCJtaHlndnVcIiB9XSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTE2IDE4aC4wMVwiLCBrZXk6IFwia3pzbWltXCIgfV1cbl0pO1xuXG5leHBvcnQgeyBDYWxlbmRhckRheXMgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FsZW5kYXItZGF5cy5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ0Ni4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgTG9jayA9IGNyZWF0ZUx1Y2lkZUljb24oXCJMb2NrXCIsIFtcbiAgW1wicmVjdFwiLCB7IHdpZHRoOiBcIjE4XCIsIGhlaWdodDogXCIxMVwiLCB4OiBcIjNcIiwgeTogXCIxMVwiLCByeDogXCIyXCIsIHJ5OiBcIjJcIiwga2V5OiBcIjF3NGV3MVwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNyAxMVY3YTUgNSAwIDAgMSAxMCAwdjRcIiwga2V5OiBcImZ3dm16bVwiIH1dXG5dKTtcblxuZXhwb3J0IHsgTG9jayBhcyBkZWZhdWx0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1sb2NrLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDQ2LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBNYWlsID0gY3JlYXRlTHVjaWRlSWNvbihcIk1haWxcIiwgW1xuICBbXCJyZWN0XCIsIHsgd2lkdGg6IFwiMjBcIiwgaGVpZ2h0OiBcIjE2XCIsIHg6IFwiMlwiLCB5OiBcIjRcIiwgcng6IFwiMlwiLCBrZXk6IFwiMThuM2sxXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIm0yMiA3LTguOTcgNS43YTEuOTQgMS45NCAwIDAgMS0yLjA2IDBMMiA3XCIsIGtleTogXCIxb2NyZzNcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IE1haWwgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbC5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ0Ni4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgTWVzc2FnZVNxdWFyZVF1b3RlID0gY3JlYXRlTHVjaWRlSWNvbihcIk1lc3NhZ2VTcXVhcmVRdW90ZVwiLCBbXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0yMSAxNWEyIDIgMCAwIDEtMiAySDdsLTQgNFY1YTIgMiAwIDAgMSAyLTJoMTRhMiAyIDAgMCAxIDIgMnpcIiwga2V5OiBcIjFsaWVselwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNOCAxMmEyIDIgMCAwIDAgMi0yVjhIOFwiLCBrZXk6IFwiMWpmZXNqXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xNCAxMmEyIDIgMCAwIDAgMi0yVjhoLTJcIiwga2V5OiBcIjFkcTltaFwiIH1dXG5dKTtcblxuZXhwb3J0IHsgTWVzc2FnZVNxdWFyZVF1b3RlIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2Utc3F1YXJlLXF1b3RlLmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDQ2LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBOZXR3b3JrID0gY3JlYXRlTHVjaWRlSWNvbihcIk5ldHdvcmtcIiwgW1xuICBbXCJyZWN0XCIsIHsgeDogXCIxNlwiLCB5OiBcIjE2XCIsIHdpZHRoOiBcIjZcIiwgaGVpZ2h0OiBcIjZcIiwgcng6IFwiMVwiLCBrZXk6IFwiNHEyemcwXCIgfV0sXG4gIFtcInJlY3RcIiwgeyB4OiBcIjJcIiwgeTogXCIxNlwiLCB3aWR0aDogXCI2XCIsIGhlaWdodDogXCI2XCIsIHJ4OiBcIjFcIiwga2V5OiBcIjhjdmhiOVwiIH1dLFxuICBbXCJyZWN0XCIsIHsgeDogXCI5XCIsIHk6IFwiMlwiLCB3aWR0aDogXCI2XCIsIGhlaWdodDogXCI2XCIsIHJ4OiBcIjFcIiwga2V5OiBcIjFlZ2I3MFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNNSAxNnYtM2ExIDEgMCAwIDEgMS0xaDEyYTEgMSAwIDAgMSAxIDF2M1wiLCBrZXk6IFwiMWpzZjlwXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiAxMlY4XCIsIGtleTogXCIyODc0emRcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IE5ldHdvcmsgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bmV0d29yay5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ0Ni4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgU2hpZWxkQWxlcnQgPSBjcmVhdGVMdWNpZGVJY29uKFwiU2hpZWxkQWxlcnRcIiwgW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXpcIixcbiAgICAgIGtleTogXCJvZWw0MXlcIlxuICAgIH1cbiAgXSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTEyIDh2NFwiLCBrZXk6IFwiMWdvdDNiXCIgfV0sXG4gIFtcInBhdGhcIiwgeyBkOiBcIk0xMiAxNmguMDFcIiwga2V5OiBcIjFkcmJkaVwiIH1dXG5dKTtcblxuZXhwb3J0IHsgU2hpZWxkQWxlcnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2hpZWxkLWFsZXJ0LmpzLm1hcFxuIiwiLyoqXG4gKiBAbGljZW5zZSBsdWNpZGUtcmVhY3QgdjAuNDQ2LjAgLSBJU0NcbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBJU0MgbGljZW5zZS5cbiAqIFNlZSB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5cbmltcG9ydCBjcmVhdGVMdWNpZGVJY29uIGZyb20gJy4uL2NyZWF0ZUx1Y2lkZUljb24uanMnO1xuXG5jb25zdCBTaGllbGRDaGVjayA9IGNyZWF0ZUx1Y2lkZUljb24oXCJTaGllbGRDaGVja1wiLCBbXG4gIFtcbiAgICBcInBhdGhcIixcbiAgICB7XG4gICAgICBkOiBcIk0yMCAxM2MwIDUtMy41IDcuNS03LjY2IDguOTVhMSAxIDAgMCAxLS42Ny0uMDFDNy41IDIwLjUgNCAxOCA0IDEzVjZhMSAxIDAgMCAxIDEtMWMyIDAgNC41LTEuMiA2LjI0LTIuNzJhMS4xNyAxLjE3IDAgMCAxIDEuNTIgMEMxNC41MSAzLjgxIDE3IDUgMTkgNWExIDEgMCAwIDEgMSAxelwiLFxuICAgICAga2V5OiBcIm9lbDQxeVwiXG4gICAgfVxuICBdLFxuICBbXCJwYXRoXCIsIHsgZDogXCJtOSAxMiAyIDIgNC00XCIsIGtleTogXCJkem1tNzRcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IFNoaWVsZENoZWNrIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaWVsZC1jaGVjay5qcy5tYXBcbiIsIi8qKlxuICogQGxpY2Vuc2UgbHVjaWRlLXJlYWN0IHYwLjQ0Ni4wIC0gSVNDXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgSVNDIGxpY2Vuc2UuXG4gKiBTZWUgdGhlIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqL1xuXG5pbXBvcnQgY3JlYXRlTHVjaWRlSWNvbiBmcm9tICcuLi9jcmVhdGVMdWNpZGVJY29uLmpzJztcblxuY29uc3QgU2hpZWxkUXVlc3Rpb24gPSBjcmVhdGVMdWNpZGVJY29uKFwiU2hpZWxkUXVlc3Rpb25cIiwgW1xuICBbXG4gICAgXCJwYXRoXCIsXG4gICAge1xuICAgICAgZDogXCJNMjAgMTNjMCA1LTMuNSA3LjUtNy42NiA4Ljk1YTEgMSAwIDAgMS0uNjctLjAxQzcuNSAyMC41IDQgMTggNCAxM1Y2YTEgMSAwIDAgMSAxLTFjMiAwIDQuNS0xLjIgNi4yNC0yLjcyYTEuMTcgMS4xNyAwIDAgMSAxLjUyIDBDMTQuNTEgMy44MSAxNyA1IDE5IDVhMSAxIDAgMCAxIDEgMXpcIixcbiAgICAgIGtleTogXCJvZWw0MXlcIlxuICAgIH1cbiAgXSxcbiAgW1wicGF0aFwiLCB7IGQ6IFwiTTkuMSA5YTMgMyAwIDAgMSA1LjgyIDFjMCAyLTMgMy0zIDNcIiwga2V5OiBcIm1obHdmdFwiIH1dLFxuICBbXCJwYXRoXCIsIHsgZDogXCJNMTIgMTdoLjAxXCIsIGtleTogXCJwMzJwMDVcIiB9XVxuXSk7XG5cbmV4cG9ydCB7IFNoaWVsZFF1ZXN0aW9uIGFzIGRlZmF1bHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNoaWVsZC1xdWVzdGlvbi5qcy5tYXBcbiIsImV4cG9ydCBjb25zdCBQVFMgPSB7XHJcbiAgYWdlOiB7IHk6IC0xMCwgdnk6IC0yMCwgbTogMTAsIHZtOiAyMCwgdW5rbm93bjogLTIgfSxcclxuICBzc2w6IHsgdjogMTAsIGU6IC0xOCwgcDogLTE4LCBoOiAtMjIsIGVzOiAtNCwgdW5rbm93bjogLTUgfSxcclxuICBibDogeyBsOiAtMzAsIGM6IDYsIG11bHRpcGxlOiAtMTAgfSxcclxuICBpcEluVXJsOiAtMTUsXHJcbiAgdXJsQWk6IHtcclxuICAgIHBoOTA6IC01LFxyXG4gICAgcGg3MDogLTMsXHJcbiAgICBwaDUwOiAtMSxcclxuICAgIGxoOTA6IDUsXHJcbiAgICBsaDcwOiAzLFxyXG4gICAgZXJyb3I6IC0yLFxyXG4gICAgbmV1dHJhbDogMCxcclxuICB9LFxyXG4gIGNvbnRlbnRBaToge1xyXG4gICAgcGhDaHVua0hpZ2hDb25mOiAtOCxcclxuICAgIHBoQ2h1bmtNZWRDb25mOiAtNCxcclxuICAgIHBoQ2h1bmtMb3dDb25mOiAtMixcclxuICAgIG1hbnlQaGlzaGluZ0NodW5rc1BlbmFsdHk6IC0xMCxcclxuICAgIG5vUHJvYmxlbURldGVjdGVkOiA1LFxyXG4gICAgbm9Db250ZW50T3JFcnJvcjogLTEsXHJcbiAgfSxcclxuICB3aG9pc1ByaXZhY3k6IHsgZW5hYmxlZDogLTIsIGV4cGxpY2l0UHJvYmxlbTogLTUgfSxcclxuICBkbnNNeDogeyBtaXNzaW5nRm9yU2hvcDogLTUsIHByZXNlbnRGb3JTaG9wOiAyLCBub3RBcHBsaWNhYmxlOiAwIH0sXHJcbn07XHJcbiIsIi8vIHNyYy9wb3B1cC9zZXJ2aWNlcy9zY29yZUNhbGN1bGF0b3IudHN4XHJcblxyXG5pbXBvcnQgeyBTdG9yZWREb21haW5EYXRhIH0gZnJvbSBcIkAvdHlwZXMvZG9tYWluQW5hbHlzaXNcIjtcclxuaW1wb3J0IHtcclxuICBTaGllbGRRdWVzdGlvbixcclxuICBDYWxlbmRhckRheXMsXHJcbiAgTG9jayxcclxuICBTaGllbGRBbGVydCxcclxuICBTaGllbGRDaGVjayxcclxuICBOZXR3b3JrLFxyXG4gIE1lc3NhZ2VTcXVhcmVRdW90ZSxcclxuICBNYWlsLFxyXG59IGZyb20gXCJsdWNpZGUtcmVhY3RcIjtcclxuXHJcbi8vIFNpbXBsZSBmb3JtYXREb21haW5BZ2UgaW1wbGVtZW50YXRpb25cclxuY29uc3QgZm9ybWF0RG9tYWluQWdlID0gKGRheXM6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgaWYgKGRheXMgPCAzMCkgcmV0dXJuIGAke2RheXN9IGRuaWA7XHJcbiAgaWYgKGRheXMgPCAzNjUpIHJldHVybiBgJHtNYXRoLmZsb29yKGRheXMgLyAzMCl9IG1pZXMuYDtcclxuICByZXR1cm4gYCR7TWF0aC5mbG9vcihkYXlzIC8gMzY1KX0gbGF0YDtcclxufTtcclxuXHJcbmV4cG9ydCB0eXBlIEV4cGxhbmF0aW9uSW1wYWN0ID0gXCJwb3NpdGl2ZVwiIHwgXCJuZWdhdGl2ZVwiIHwgXCJuZXV0cmFsXCIgfCBcImluZm9cIjtcclxuZXhwb3J0IGludGVyZmFjZSBTY29yZUV4cGxhbmF0aW9uIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIGljb246IFJlYWN0LkVsZW1lbnRUeXBlO1xyXG4gIGxhYmVsOiBzdHJpbmc7XHJcbiAgdmFsdWVUZXh0OiBzdHJpbmcgfCBSZWFjdC5SZWFjdE5vZGU7XHJcbiAgaW1wYWN0OiBFeHBsYW5hdGlvbkltcGFjdDtcclxuICBkZXRhaWxzOiBzdHJpbmc7XHJcbiAgbG9uZ0Rlc2M/OiBzdHJpbmcgfCBSZWFjdC5SZWFjdE5vZGU7XHJcbiAgc2NvcmVFZmZlY3Q/OiBzdHJpbmc7XHJcbn1cclxuXHJcbmltcG9ydCB7IFBUUyB9IGZyb20gXCIuLi9jb25zdHMvc2NvcmVQb2ludHNcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVUcnVzdFNjb3JlKFxyXG4gIGZ1bGxEYXRhOiBTdG9yZWREb21haW5EYXRhIHwgbnVsbCB8IHVuZGVmaW5lZCxcclxuICBjdXJyZW50VXJsOiBzdHJpbmdcclxuKTogeyBzY29yZTogbnVtYmVyIHwgbnVsbDsgZXhwbGFuYXRpb25zOiBTY29yZUV4cGxhbmF0aW9uW10gfSB7XHJcbiAgaWYgKCFmdWxsRGF0YT8uYW5hbHlzaXMpIHtcclxuICAgIGNvbnNvbGUud2FybihcclxuICAgICAgXCJbU2NvcmVDYWxjXSBObyBhbmFseXNpcyBkYXRhIHByb3ZpZGVkIGZvciBzY29yZSBjYWxjdWxhdGlvbi5cIlxyXG4gICAgKTtcclxuICAgIHJldHVybiB7IHNjb3JlOiBudWxsLCBleHBsYW5hdGlvbnM6IFtdIH07XHJcbiAgfVxyXG5cclxuICBjb25zdCBhbmFseXNpc0RhdGEgPSBmdWxsRGF0YS5hbmFseXNpcztcclxuICBjb25zdCB1cmxBaUFuYWx5c2lzID0gZnVsbERhdGEudXJsVGV4dEFuYWx5c2lzO1xyXG4gIGNvbnN0IGNvbnRlbnRBaUFuYWx5c2VzID0gZnVsbERhdGEucGFnZUNvbnRlbnRBbmFseXNlcztcclxuXHJcbiAgbGV0IHNjb3JlID0gNTA7XHJcbiAgY29uc3QgZXhwbGFuYXRpb25zOiBTY29yZUV4cGxhbmF0aW9uW10gPSBbXTtcclxuICBjb25zdCBNQVggPSAxMDAsXHJcbiAgICBNSU4gPSAwO1xyXG5cclxuICBjb25zb2xlLmxvZyhcclxuICAgIFwiW1Njb3JlQ2FsY10gU3RhcnRpbmcgY2FsY3VsYXRpb24uIEluaXRpYWwgc2NvcmU6XCIsXHJcbiAgICBzY29yZSxcclxuICAgIFwiZm9yIFVSTDpcIixcclxuICAgIGN1cnJlbnRVcmxcclxuICApO1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgXCJbU2NvcmVDYWxjXSBEb21haW5BbmFseXNpc0RldGFpbHM6XCIsXHJcbiAgICBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGFuYWx5c2lzRGF0YSkpXHJcbiAgKTtcclxuICBjb25zb2xlLmxvZyhcclxuICAgIFwiW1Njb3JlQ2FsY10gVXJsVGV4dEFuYWx5c2lzOlwiLFxyXG4gICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh1cmxBaUFuYWx5c2lzIHx8IHt9KSlcclxuICApO1xyXG4gIGNvbnNvbGUubG9nKFxyXG4gICAgXCJbU2NvcmVDYWxjXSBQYWdlQ29udGVudEFuYWx5c2VzOlwiLFxyXG4gICAgSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjb250ZW50QWlBbmFseXNlcyB8fCBbXSkpXHJcbiAgKTtcclxuXHJcbiAgLy8gRG9tYWluIEFnZVxyXG4gIGNvbnN0IGFnZUQgPSBhbmFseXNpc0RhdGEuZG9tYWluX2FjdHVhbF9hZ2VfZGF5cztcclxuICBsZXQgYWdlSTogRXhwbGFuYXRpb25JbXBhY3QgPSBcIm5ldXRyYWxcIixcclxuICAgIGFnZVNFID0gXCIwIHBrdFwiO1xyXG4gIGxldCBhZ2VWVDogc3RyaW5nIHwgUmVhY3QuUmVhY3ROb2RlID0gXCJOL0FcIjtcclxuICBpZiAoYWdlRCAhPT0gbnVsbCAmJiB0eXBlb2YgYWdlRCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgYWdlVlQgPSBmb3JtYXREb21haW5BZ2UoYWdlRCk7XHJcbiAgICBpZiAoYWdlRCA8IDMwKSB7XHJcbiAgICAgIHNjb3JlICs9IFBUUy5hZ2Uudnk7XHJcbiAgICAgIGFnZUkgPSBcIm5lZ2F0aXZlXCI7XHJcbiAgICAgIGFnZVNFID0gYCR7UFRTLmFnZS52eX0gcGt0YDtcclxuICAgIH0gZWxzZSBpZiAoYWdlRCA8IDE4MCkge1xyXG4gICAgICBzY29yZSArPSBQVFMuYWdlLnk7XHJcbiAgICAgIGFnZUkgPSBcIm5lZ2F0aXZlXCI7XHJcbiAgICAgIGFnZVNFID0gYCR7UFRTLmFnZS55fSBwa3RgO1xyXG4gICAgfSBlbHNlIGlmIChhZ2VEID49IDczMCkge1xyXG4gICAgICBzY29yZSArPSBQVFMuYWdlLnZtO1xyXG4gICAgICBhZ2VJID0gXCJwb3NpdGl2ZVwiO1xyXG4gICAgICBhZ2VTRSA9IGArJHtQVFMuYWdlLnZtfSBwa3RgO1xyXG4gICAgfSBlbHNlIGlmIChhZ2VEID49IDM2NSkge1xyXG4gICAgICBzY29yZSArPSBQVFMuYWdlLm07XHJcbiAgICAgIGFnZUkgPSBcInBvc2l0aXZlXCI7XHJcbiAgICAgIGFnZVNFID0gYCske1BUUy5hZ2UubX0gcGt0YDtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgc2NvcmUgKz0gUFRTLmFnZS51bmtub3duO1xyXG4gICAgYWdlSSA9IFwiaW5mb1wiO1xyXG4gICAgYWdlU0UgPSBgJHtQVFMuYWdlLnVua25vd259IHBrdCAoYnJhayBkYW55Y2gpYDtcclxuICB9XHJcbiAgZXhwbGFuYXRpb25zLnB1c2goe1xyXG4gICAgaWQ6IFwiYWdlXCIsXHJcbiAgICBpY29uOiBDYWxlbmRhckRheXMsXHJcbiAgICBsYWJlbDogXCJXaWVrIGRvbWVueVwiLFxyXG4gICAgdmFsdWVUZXh0OiBhZ2VWVCxcclxuICAgIGltcGFjdDogYWdlSSxcclxuICAgIHNjb3JlRWZmZWN0OiBhZ2VTRSxcclxuICAgIGRldGFpbHM6IFwiU3RhcnN6ZSBkb21lbnkgc8SFIGdlbmVyYWxuaWUgYmFyZHppZWogd2lhcnlnb2RuZS5cIixcclxuICAgIGxvbmdEZXNjOlxyXG4gICAgICBcIk5vd28gemFyZWplc3Ryb3dhbmUgZG9tZW55IHPEhSBjesSZc3RvIHd5a29yenlzdHl3YW5lIHcga2FtcGFuaWFjaCBwaGlzaGluZ293eWNoLi4uXCIsXHJcbiAgfSk7XHJcblxyXG4gIC8vIFNTTFxyXG4gIGxldCBzc2xJOiBFeHBsYW5hdGlvbkltcGFjdCA9IFwibmVnYXRpdmVcIixcclxuICAgIHNzbERldCA9IFwiU3Ryb25hIG5pZSB1xbx5d2Egc3p5ZnJvd2FuaWEgSFRUUFMuXCIsXHJcbiAgICBzc2xWVDogc3RyaW5nIHwgUmVhY3QuUmVhY3ROb2RlID0gXCJCcmFrIChIVFRQKVwiO1xyXG4gIGxldCB0ZW1wU3NsU0UgPSBQVFMuc3NsLmg7XHJcbiAgaWYgKGFuYWx5c2lzRGF0YS5wYXJzZWRfdXJsX3NjaGVtZSA9PT0gXCJodHRwc1wiKSB7XHJcbiAgICB0ZW1wU3NsU0UgPSAwO1xyXG4gICAgaWYgKGFuYWx5c2lzRGF0YS5zc2xfaW5mbyAmJiBhbmFseXNpc0RhdGEuc3NsX2luZm8ubm90X2FmdGVyKSB7XHJcbiAgICAgIGNvbnN0IGV4cEQgPSBuZXcgRGF0ZShhbmFseXNpc0RhdGEuc3NsX2luZm8ubm90X2FmdGVyKTtcclxuICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcclxuICAgICAgY29uc3QgZFRvRXhwID0gKGV4cEQuZ2V0VGltZSgpIC0gbm93LmdldFRpbWUoKSkgLyAoMTAwMCAqIDM2MDAgKiAyNCk7XHJcbiAgICAgIGlmIChkVG9FeHAgPiAwKSB7XHJcbiAgICAgICAgdGVtcFNzbFNFID0gUFRTLnNzbC52O1xyXG4gICAgICAgIHNzbEkgPSBcInBvc2l0aXZlXCI7XHJcbiAgICAgICAgc3NsVlQgPSBcIldhxbxueVwiO1xyXG4gICAgICAgIHNzbERldCA9IGBQb8WCxIVjemVuaWUgc3p5ZnJvd2FuZS4gQ2VydHlmaWthdCB3YcW8bnkgZG86ICR7ZXhwRC50b0xvY2FsZURhdGVTdHJpbmcoKX0uYDtcclxuICAgICAgICBpZiAoZFRvRXhwIDwgMzApIHtcclxuICAgICAgICAgIHRlbXBTc2xTRSArPSBQVFMuc3NsLmVzO1xyXG4gICAgICAgICAgc3NsVlQgPSAoXHJcbiAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQteWVsbG93LTYwMCBmb250LXNlbWlib2xkXCI+XHJcbiAgICAgICAgICAgICAgV3lnYXNhIHdrcsOzdGNlIVxyXG4gICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICApO1xyXG4gICAgICAgICAgc3NsRGV0ICs9IFwiIENlcnR5ZmlrYXQgd3lnYXNhIHphIG1uaWVqIG5pxbwgMzAgZG5pLlwiO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0ZW1wU3NsU0UgPSBQVFMuc3NsLmU7XHJcbiAgICAgICAgc3NsSSA9IFwibmVnYXRpdmVcIjtcclxuICAgICAgICBzc2xWVCA9IFwiV3lnYXPFglwiO1xyXG4gICAgICAgIHNzbERldCA9IGBDZXJ0eWZpa2F0IFNTTCB3eWdhc8WCOiAke2V4cEQudG9Mb2NhbGVEYXRlU3RyaW5nKCl9LmA7XHJcbiAgICAgIH1cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRlbXBTc2xTRSA9IFBUUy5zc2wucDtcclxuICAgICAgc3NsSSA9IFwibmVnYXRpdmVcIjtcclxuICAgICAgc3NsVlQgPSBcIlByb2JsZW0gKEhUVFBTKVwiO1xyXG4gICAgICBzc2xEZXQgPVxyXG4gICAgICAgIFwiU3Ryb25hIHXFvHl3YSBIVFRQUywgYWxlIHd5c3TEhXBpxYIgcHJvYmxlbSB6IHdlcnlmaWthY2rEhSBjZXJ0eWZpa2F0dS4uLlwiO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoXHJcbiAgICBhbmFseXNpc0RhdGEuc3NsX2luZm8gPT09IG51bGwgJiZcclxuICAgIGFuYWx5c2lzRGF0YS5wYXJzZWRfdXJsX3NjaGVtZSAhPT0gXCJodHRwc1wiXHJcbiAgKSB7XHJcbiAgICBzc2xJID0gXCJuZWdhdGl2ZVwiO1xyXG4gICAgc3NsVlQgPSBcIkJyYWsgKEhUVFApXCI7XHJcbiAgICBzc2xEZXQgPSBcIlN0cm9uYSBuaWUgdcW8eXdhIHN6eWZyb3dhbmlhIEhUVFBTIChIVFRQKS5cIjtcclxuICB9IGVsc2Uge1xyXG4gICAgdGVtcFNzbFNFID0gUFRTLnNzbC51bmtub3duO1xyXG4gICAgc3NsSSA9IFwiaW5mb1wiO1xyXG4gICAgc3NsVlQgPSBcIk4vQSAoU1NMKVwiO1xyXG4gICAgc3NsRGV0ID0gXCJOaWUgdWRhxYJvIHNpxJkgamVkbm96bmFjem5pZSB6d2VyeWZpa293YcSHIHN0YXR1c3UgU1NMLlwiO1xyXG4gIH1cclxuICBzY29yZSArPSB0ZW1wU3NsU0U7XHJcbiAgY29uc3Qgc3NsU0VUeHQgPSBgJHt0ZW1wU3NsU0UgPiAwID8gXCIrXCIgOiBcIlwifSR7dGVtcFNzbFNFfSBwa3RgO1xyXG4gIGV4cGxhbmF0aW9ucy5wdXNoKHtcclxuICAgIGlkOiBcInNzbFwiLFxyXG4gICAgaWNvbjogTG9jayxcclxuICAgIGxhYmVsOiBcIlN6eWZyb3dhbmllIChTU0wpXCIsXHJcbiAgICB2YWx1ZVRleHQ6IHNzbFZULFxyXG4gICAgaW1wYWN0OiBzc2xJLFxyXG4gICAgZGV0YWlsczogc3NsRGV0LFxyXG4gICAgc2NvcmVFZmZlY3Q6IHNzbFNFVHh0LFxyXG4gICAgbG9uZ0Rlc2M6XHJcbiAgICAgIFwiQ2VydHlmaWthdCBTU0wgemFwZXduaWEgc3p5ZnJvd2FuaWUgZGFueWNoIHByemVzecWCYW55Y2ggbWnEmWR6eSBUb2LEhSBhIHN0cm9uxIUuLi5cIixcclxuICB9KTtcclxuXHJcbiAgLy8gVVJMIEFJIEFuYWx5c2lzXHJcbiAgbGV0IHVybEFpU0VWID0gMDtcclxuICBsZXQgdXJsQWlWVDogc3RyaW5nIHwgUmVhY3QuUmVhY3ROb2RlID0gXCJOaWVkb3N0xJlwbmFcIjtcclxuICBsZXQgdXJsQWlJOiBFeHBsYW5hdGlvbkltcGFjdCA9IFwibmV1dHJhbFwiO1xyXG4gIGxldCB1cmxBaURldCA9XHJcbiAgICBcIkFuYWxpemEgQUkgYWRyZXN1IFVSTCBuaWUgem9zdGHFgmEgcHJ6ZXByb3dhZHpvbmEgbHViIGplc3QgbmllZG9zdMSZcG5hLlwiO1xyXG5cclxuICBpZiAodXJsQWlBbmFseXNpcyA9PT0gbnVsbCkge1xyXG4gICAgdXJsQWlTRVYgPSBQVFMudXJsQWkuZXJyb3I7XHJcbiAgICB1cmxBaVZUID0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCI+QsWCxIVkIGFuYWxpenk8L3NwYW4+O1xyXG4gICAgdXJsQWlJID0gXCJuZWdhdGl2ZVwiO1xyXG4gICAgdXJsQWlEZXQgPVxyXG4gICAgICBcIk5pZSB1ZGHFgm8gc2nEmSBwcnplcHJvd2FkemnEhyBhbmFsaXp5IEFJIGRsYSB0ZWdvIFVSTCB6IHBvd29kdSBixYLEmWR1LlwiO1xyXG4gIH0gZWxzZSBpZiAodXJsQWlBbmFseXNpcykge1xyXG4gICAgdXJsQWlWVCA9IGAke3VybEFpQW5hbHlzaXMubGFiZWx9ICgkeyhcclxuICAgICAgdXJsQWlBbmFseXNpcy5jb25maWRlbmNlICogMTAwXHJcbiAgICApLnRvRml4ZWQoMCl9JSlgO1xyXG4gICAgdXJsQWlEZXQgPSBgTW9kZWwgQUkgb2NlbmnFgiBVUkwgamFrbyAke3VybEFpQW5hbHlzaXMubGFiZWwudG9Mb3dlckNhc2UoKX0geiAkeyhcclxuICAgICAgdXJsQWlBbmFseXNpcy5jb25maWRlbmNlICogMTAwXHJcbiAgICApLnRvRml4ZWQoMCl9JSBwZXdub8WbY2nEhS5gO1xyXG4gICAgaWYgKHVybEFpQW5hbHlzaXMuaXNfcGhpc2hpbmcpIHtcclxuICAgICAgdXJsQWlJID0gXCJuZWdhdGl2ZVwiO1xyXG4gICAgICBpZiAodXJsQWlBbmFseXNpcy5jb25maWRlbmNlID49IDAuOSkgdXJsQWlTRVYgPSBQVFMudXJsQWkucGg5MDtcclxuICAgICAgZWxzZSBpZiAodXJsQWlBbmFseXNpcy5jb25maWRlbmNlID49IDAuNykgdXJsQWlTRVYgPSBQVFMudXJsQWkucGg3MDtcclxuICAgICAgZWxzZSB1cmxBaVNFViA9IFBUUy51cmxBaS5waDUwO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdXJsQWlJID0gdXJsQWlBbmFseXNpcy5jb25maWRlbmNlID49IDAuOSA/IFwicG9zaXRpdmVcIiA6IFwibmV1dHJhbFwiO1xyXG4gICAgICB1cmxBaVNFViA9XHJcbiAgICAgICAgdXJsQWlBbmFseXNpcy5jb25maWRlbmNlID49IDAuOVxyXG4gICAgICAgICAgPyBQVFMudXJsQWkubGg5MFxyXG4gICAgICAgICAgOiB1cmxBaUFuYWx5c2lzLmNvbmZpZGVuY2UgPj0gMC43XHJcbiAgICAgICAgICA/IFBUUy51cmxBaS5saDcwXHJcbiAgICAgICAgICA6IFBUUy51cmxBaS5uZXV0cmFsO1xyXG4gICAgfVxyXG4gIH0gZWxzZSB7XHJcbiAgICB1cmxBaVZUID0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPk4vQSAoVVJMIEFJKTwvc3Bhbj47XHJcbiAgICB1cmxBaUkgPSBcIm5ldXRyYWxcIjtcclxuICAgIHVybEFpRGV0ID1cclxuICAgICAgXCJBbmFsaXphIEFJIGFkcmVzdSBVUkwgbmllIHpvc3RhxYJhIGplc3pjemUgcHJ6ZXByb3dhZHpvbmEgbHViIGRhbmUgbmllIHPEhSBkb3N0xJlwbmUuXCI7XHJcbiAgfVxyXG4gIGV4cGxhbmF0aW9ucy5wdXNoKHtcclxuICAgIGlkOiBcImFpVXJsXCIsXHJcbiAgICBpY29uOiBTaGllbGRRdWVzdGlvbixcclxuICAgIGxhYmVsOiBcIkFuYWxpemEgQUkgVVJMXCIsXHJcbiAgICB2YWx1ZVRleHQ6IHVybEFpVlQsXHJcbiAgICBpbXBhY3Q6IHVybEFpSSxcclxuICAgIHNjb3JlRWZmZWN0OiBgJHt1cmxBaVNFViA+IDAgPyBcIitcIiA6IFwiXCJ9JHt1cmxBaVNFVn0gcGt0YCxcclxuICAgIGRldGFpbHM6IHVybEFpRGV0LFxyXG4gICAgbG9uZ0Rlc2M6XHJcbiAgICAgIFwiU3p0dWN6bmEgaW50ZWxpZ2VuY2phIGFuYWxpenVqZSBzdHJ1a3R1csSZIGkga29tcG9uZW50eSBhZHJlc3UgVVJMLi4uXCIsXHJcbiAgfSk7XHJcbiAgc2NvcmUgKz0gdXJsQWlTRVY7XHJcblxyXG4gIC8vIENvbnRlbnQgQUkgQW5hbHlzaXNcclxuICBsZXQgY0FpVlQ6IHN0cmluZyB8IFJlYWN0LlJlYWN0Tm9kZSA9IFwiTi9BXCI7XHJcbiAgbGV0IGNBaUk6IEV4cGxhbmF0aW9uSW1wYWN0ID0gXCJuZXV0cmFsXCIsXHJcbiAgICBjQWlTRVYgPSAwO1xyXG4gIGxldCBjQWlEZXQgPVxyXG4gICAgXCJBbmFsaXphIHRyZcWbY2kgc3Ryb255IG5pZSB6b3N0YcWCYSBwcnplcHJvd2Fkem9uYSBsdWIgYnJha8WCbyB0ZWtzdHUuXCI7XHJcbiAgbGV0IGNBaUxEUmVhY3ROb2RlOiBSZWFjdC5SZWFjdE5vZGUgPVxyXG4gICAgXCJBbmFsaXphIHRyZcWbY2kgc3Ryb255IHd5c3p1a3VqZSBmcmFnbWVudHkgbW9nxIVjZSB3c2thenl3YcSHIG5hIG9zenVzdHdvLi4uXCI7XHJcbiAgY29uc3Qgc0NodW5rc0k6IHsgbGFiZWw6IHN0cmluZzsgY29uZjogbnVtYmVyOyBjaHVuazogc3RyaW5nIH1bXSA9IFtdO1xyXG5cclxuICBpZiAoY29udGVudEFpQW5hbHlzZXMgPT09IG51bGwpIHtcclxuICAgIGNBaVZUID0gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1yZWQtNTAwXCI+QsWCxIVkIGFuYWxpenkgdHJlxZtjaTwvc3Bhbj47XHJcbiAgICBjQWlJID0gXCJuZWdhdGl2ZVwiO1xyXG4gICAgY0FpU0VWID0gUFRTLmNvbnRlbnRBaS5ub0NvbnRlbnRPckVycm9yO1xyXG4gICAgY0FpRGV0ID0gXCJXeXN0xIVwacWCIGLFgsSFZCBwb2RjemFzIHByw7NieSBhbmFsaXp5IHRyZcWbY2kgc3Ryb255LlwiO1xyXG4gIH0gZWxzZSBpZiAoY29udGVudEFpQW5hbHlzZXMgJiYgY29udGVudEFpQW5hbHlzZXMubGVuZ3RoID4gMCkge1xyXG4gICAgbGV0IHBDID0gMCxcclxuICAgICAgaENQID0gZmFsc2UsXHJcbiAgICAgIG1DUCA9IGZhbHNlLFxyXG4gICAgICBsQ1AgPSBmYWxzZTtcclxuICAgIGNvbnRlbnRBaUFuYWx5c2VzLmZvckVhY2goKGNhKSA9PiB7XHJcbiAgICAgIGlmIChjYS5pc19waGlzaGluZykge1xyXG4gICAgICAgIHBDKys7XHJcbiAgICAgICAgaWYgKGNhLmNvbmZpZGVuY2UgPj0gMC45KSBoQ1AgPSB0cnVlO1xyXG4gICAgICAgIGVsc2UgaWYgKGNhLmNvbmZpZGVuY2UgPj0gMC43KSBtQ1AgPSB0cnVlO1xyXG4gICAgICAgIGVsc2UgaWYgKGNhLmNvbmZpZGVuY2UgPj0gMC41KSBsQ1AgPSB0cnVlO1xyXG4gICAgICAgIHNDaHVua3NJLnB1c2goe1xyXG4gICAgICAgICAgbGFiZWw6IGNhLmxhYmVsLFxyXG4gICAgICAgICAgY29uZjogY2EuY29uZmlkZW5jZSxcclxuICAgICAgICAgIGNodW5rOiBjYS5vcmlnaW5hbENodW5rLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAocEMgPiAwKSB7XHJcbiAgICAgIC8vIENhbGN1bGF0ZSBwZW5hbHR5IG9ubHkgaWYgcGhpc2hpbmcgY2h1bmtzIGFyZSBmb3VuZFxyXG4gICAgICBpZiAoaENQKSB7XHJcbiAgICAgICAgY0FpU0VWID0gUFRTLmNvbnRlbnRBaS5waENodW5rSGlnaENvbmY7XHJcbiAgICAgICAgY0FpSSA9IFwibmVnYXRpdmVcIjtcclxuICAgICAgICBjQWlWVCA9IChcclxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtcmVkLTUwMCBmb250LXNlbWlib2xkXCI+UG9kZWpyemFuZSBUcmXFm2NpITwvc3Bhbj5cclxuICAgICAgICApO1xyXG4gICAgICAgIGNBaURldCA9IGBXeWtyeXRvIGZyYWdtZW50eSB0cmXFm2NpIG8gd3lzb2tpbSBwcmF3ZG9wb2RvYmllxYRzdHdpZSBwaGlzaGluZ3UgKCR7cEN9LyR7Y29udGVudEFpQW5hbHlzZXMubGVuZ3RofSkuYDtcclxuICAgICAgfSBlbHNlIGlmIChtQ1ApIHtcclxuICAgICAgICBjQWlTRVYgPSBQVFMuY29udGVudEFpLnBoQ2h1bmtNZWRDb25mO1xyXG4gICAgICAgIGNBaUkgPSBcIm5lZ2F0aXZlXCI7XHJcbiAgICAgICAgY0FpVlQgPSBcIlBvZGVqcnphbmUgZnJhZ21lbnR5XCI7XHJcbiAgICAgICAgY0FpRGV0ID0gYFd5a3J5dG8gJHtwQ30geiAke2NvbnRlbnRBaUFuYWx5c2VzLmxlbmd0aH0gZnJhZ21lbnTDs3cgamFrbyBwb3RlbmNqYWxuaWUgcGhpc2hpbmdvd2UuYDtcclxuICAgICAgfSBlbHNlIGlmIChsQ1ApIHtcclxuICAgICAgICBjQWlTRVYgPSBQVFMuY29udGVudEFpLnBoQ2h1bmtMb3dDb25mO1xyXG4gICAgICAgIGNBaUkgPSBcIm5lZ2F0aXZlXCI7XHJcbiAgICAgICAgY0FpVlQgPSBcIk5pZWplZG5vem5hY3puZSBmcmFnbWVudHlcIjtcclxuICAgICAgICBjQWlEZXQgPSBgV3lrcnl0byAke3BDfSB6ICR7Y29udGVudEFpQW5hbHlzZXMubGVuZ3RofSBmcmFnbWVudMOzdyBqYWtvIHBvdGVuY2phbG5pZSBwaGlzaGluZ293ZS5gO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAocEMgPj0gMykge1xyXG4gICAgICAgIGNBaVNFViArPSBQVFMuY29udGVudEFpLm1hbnlQaGlzaGluZ0NodW5rc1BlbmFsdHk7XHJcbiAgICAgICAgY0FpRGV0ICs9IFwiIFpuYWxlemlvbm8gd2llbGUgcG9kZWpyemFueWNoIGZyYWdtZW50w7N3LlwiO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyA8PDwgVEhJUyBJUyBUSEUgRklYID4+PlxyXG4gICAgICAvLyBDYXAgdGhlIHRvdGFsIHBlbmFsdHkgYXQgLTEwIHRvIHByZXZlbnQgaXQgZnJvbSBiZWluZyB0b28gaGFyc2guXHJcbiAgICAgIGNBaVNFViA9IE1hdGgubWF4KGNBaVNFViwgLTEwKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE5vIHBoaXNoaW5nIGNodW5rcyB3ZXJlIGZvdW5kXHJcbiAgICAgIGNBaVNFViA9IFBUUy5jb250ZW50QWkubm9Qcm9ibGVtRGV0ZWN0ZWQ7XHJcbiAgICAgIGNBaUkgPSBcInBvc2l0aXZlXCI7XHJcbiAgICAgIGNBaVZUID0gXCJUcmXFm8SHIE9LXCI7XHJcbiAgICAgIGNBaURldCA9IGBBbmFsaXphIHRyZcWbY2kgKCR7Y29udGVudEFpQW5hbHlzZXMubGVuZ3RofSBmcmFnbWVudMOzdykgbmllIHd5a2F6YcWCYSB6bmFtaW9uIHBoaXNoaW5ndS5gO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzQ2h1bmtzSS5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGxpc3RJdGVtcyA9IHNDaHVua3NJLnNsaWNlKDAsIDMpLm1hcCgocywgaSkgPT4gKFxyXG4gICAgICAgIDxsaVxyXG4gICAgICAgICAga2V5PXtgY2h1bmstJHtpfS0ke3MuY2h1bmsuc2xpY2UoMCwgNSl9YH1cclxuICAgICAgICAgIHRpdGxlPXtzLmNodW5rfVxyXG4gICAgICAgICAgY2xhc3NOYW1lPVwibWItMVwiXHJcbiAgICAgICAgPlxyXG4gICAgICAgICAgPHNwYW5cclxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgZm9udC1zZW1pYm9sZCAke1xyXG4gICAgICAgICAgICAgIHMubGFiZWwgPT09IFwiUEhJU0hJTkdcIiA/IFwidGV4dC1yZWQtNjAwXCIgOiBcInRleHQtZ3JheS03MDBcIlxyXG4gICAgICAgICAgICB9YH1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgXCJ7cy5jaHVuay5zdWJzdHJpbmcoMCwgNTApfS4uLlwiXHJcbiAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIG1sLTFcIj5cclxuICAgICAgICAgICAgKHtzLmxhYmVsfSB7KHMuY29uZiAqIDEwMCkudG9GaXhlZCgwKX0lKVxyXG4gICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgICkpO1xyXG4gICAgICBjQWlMRFJlYWN0Tm9kZSA9IChcclxuICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgIHt0eXBlb2YgY0FpTERSZWFjdE5vZGUgPT09IFwic3RyaW5nXCJcclxuICAgICAgICAgICAgICA/IGNBaUxEUmVhY3ROb2RlXHJcbiAgICAgICAgICAgICAgOiBcIlN6Y3plZ8OzxYJ5IGFuYWxpenkgdHJlxZtjaTpcIn1cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cIm10LTIgZm9udC1zZW1pYm9sZFwiPlBvZGVqcnphbmUgZnJhZ21lbnR5OjwvcD5cclxuICAgICAgICAgIDx1bCBjbGFzc05hbWU9XCJsaXN0LWRpc2MgcGwtNSBtYXgtaC0yNCBvdmVyZmxvdy15LWF1dG8gdGV4dC14cyBjdXN0b20tc2Nyb2xsYmFyXCI+XHJcbiAgICAgICAgICAgIHtsaXN0SXRlbXN9XHJcbiAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAge3NDaHVua3NJLmxlbmd0aCA+IDMgJiYgKFxyXG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhzIG10LTFcIj4uLi5pIHtzQ2h1bmtzSS5sZW5ndGggLSAzfSB3acSZY2VqLjwvcD5cclxuICAgICAgICAgICl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICk7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChjb250ZW50QWlBbmFseXNlcyAmJiBjb250ZW50QWlBbmFseXNlcy5sZW5ndGggPT09IDApIHtcclxuICAgIGNBaVNFViA9IFBUUy5jb250ZW50QWkubm9Db250ZW50T3JFcnJvcjtcclxuICAgIGNBaUkgPSBcImluZm9cIjtcclxuICAgIGNBaVZUID0gXCJCcmFrIHRla3N0dSBkbyBhbmFsaXp5XCI7XHJcbiAgICBjQWlEZXQgPVxyXG4gICAgICBcIk5pZSB6bmFsZXppb25vIHd5c3RhcmN6YWrEhWNlaiBpbG/Fm2NpIHRla3N0dSBuYSBzdHJvbmllIGRvIHByemVwcm93YWR6ZW5pYSBwZcWCbmVqIGFuYWxpenkgdHJlxZtjaS5cIjtcclxuICB9IGVsc2Uge1xyXG4gICAgY0FpVlQgPSA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+Ti9BICh0cmXFm8SHKTwvc3Bhbj47XHJcbiAgICBjQWlJID0gXCJuZXV0cmFsXCI7XHJcbiAgICBjQWlEZXQgPVxyXG4gICAgICBcIkFuYWxpemEgdHJlxZtjaSBzdHJvbnkgbmllIHpvc3RhxYJhIGplc3pjemUgcHJ6ZXByb3dhZHpvbmEgbHViIGRhbmUgbmllIHPEhSBkb3N0xJlwbmUuXCI7XHJcbiAgfVxyXG4gIHNjb3JlICs9IGNBaVNFVjtcclxuICBleHBsYW5hdGlvbnMucHVzaCh7XHJcbiAgICBpZDogXCJjb250ZW50QWlcIixcclxuICAgIGljb246IE1lc3NhZ2VTcXVhcmVRdW90ZSxcclxuICAgIGxhYmVsOiBcIkFuYWxpemEgQUkgdHJlxZtjaVwiLFxyXG4gICAgdmFsdWVUZXh0OiBjQWlWVCxcclxuICAgIGltcGFjdDogY0FpSSxcclxuICAgIHNjb3JlRWZmZWN0OiBgJHtjQWlTRVYgPiAwID8gXCIrXCIgOiBcIlwifSR7Y0FpU0VWfSBwa3RgLFxyXG4gICAgZGV0YWlsczogY0FpRGV0LFxyXG4gICAgbG9uZ0Rlc2M6IGNBaUxEUmVhY3ROb2RlLFxyXG4gIH0pO1xyXG5cclxuICAvLyBCbGFja2xpc3RcclxuICBsZXQgYmxTRVYgPSAwO1xyXG4gIGNvbnN0IGxpc3RlZFNvdXJjZXM6IHN0cmluZ1tdID0gW107XHJcbiAgaWYgKGFuYWx5c2lzRGF0YS5ibGFja2xpc3RfY2hlY2tzKSB7XHJcbiAgICBhbmFseXNpc0RhdGEuYmxhY2tsaXN0X2NoZWNrcy5mb3JFYWNoKChjKSA9PiB7XHJcbiAgICAgIGlmIChjLmlzX2xpc3RlZCkge1xyXG4gICAgICAgIGxpc3RlZFNvdXJjZXMucHVzaChjLnNvdXJjZSk7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuICBpZiAobGlzdGVkU291cmNlcy5sZW5ndGggPiAwKSB7XHJcbiAgICBibFNFViA9IFBUUy5ibC5sOyAvLyBCYXNlIHBlbmFsdHlcclxuICAgIGlmIChsaXN0ZWRTb3VyY2VzLmxlbmd0aCA+IDEpIHtcclxuICAgICAgYmxTRVYgKz0gUFRTLmJsLm11bHRpcGxlICogKGxpc3RlZFNvdXJjZXMubGVuZ3RoIC0gMSk7IC8vIEFkZGl0aW9uYWwgcGVuYWx0eVxyXG4gICAgfVxyXG4gICAgZXhwbGFuYXRpb25zLnB1c2goe1xyXG4gICAgICBpZDogXCJibGFja2xpc3RcIixcclxuICAgICAgaWNvbjogU2hpZWxkQWxlcnQsXHJcbiAgICAgIGxhYmVsOiBcIkxpc3R5IHphZ3JvxbxlxYRcIixcclxuICAgICAgdmFsdWVUZXh0OiBgTmEgbGlzdGFjaDogJHtsaXN0ZWRTb3VyY2VzLmpvaW4oXCIsIFwiKX1gLFxyXG4gICAgICBpbXBhY3Q6IFwibmVnYXRpdmVcIixcclxuICAgICAgc2NvcmVFZmZlY3Q6IGAke2JsU0VWfSBwa3RgLFxyXG4gICAgICBkZXRhaWxzOiBgWm5hbGV6aWVuaWUgZG9tZW55L1VSTCBuYSBwdWJsaWN6bnljaCBsaXN0YWNoIHphZ3JvxbxlxYQgKCR7bGlzdGVkU291cmNlcy5qb2luKFxyXG4gICAgICAgIFwiLCBcIlxyXG4gICAgICApfSkgamVzdCBzaWxueW0gc3lnbmHFgmVtIG9zdHJ6ZWdhd2N6eW0uYCxcclxuICAgICAgbG9uZ0Rlc2M6XHJcbiAgICAgICAgXCJMaXN0eSB0ZSBzxIUga29tcGlsb3dhbmUgcHJ6ZXogb3JnYW5pemFjamUgYmV6cGllY3plxYRzdHdhIHcgY2VsdSDFm2xlZHplbmlhIHrFgm/Fm2xpd3ljaCB3aXRyeW4gaW50ZXJuZXRvd3ljaC5cIixcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBibFNFViA9IFBUUy5ibC5jO1xyXG4gICAgZXhwbGFuYXRpb25zLnB1c2goe1xyXG4gICAgICBpZDogXCJibGFja2xpc3RcIixcclxuICAgICAgaWNvbjogU2hpZWxkQ2hlY2ssXHJcbiAgICAgIGxhYmVsOiBcIkxpc3R5IHphZ3JvxbxlxYRcIixcclxuICAgICAgdmFsdWVUZXh0OiBcIkN6eXN0b1wiLFxyXG4gICAgICBpbXBhY3Q6IFwicG9zaXRpdmVcIixcclxuICAgICAgc2NvcmVFZmZlY3Q6IGArJHtibFNFVn0gcGt0YCxcclxuICAgICAgZGV0YWlsczpcclxuICAgICAgICBcIk5pZSB6bmFsZXppb25vIG5hIHpuYW55Y2ggbGlzdGFjaCB6YWdyb8W8ZcWEIChtLmluLiBQaGlzaFRhbmssIENFUlQuUEwsIE9wZW5QaGlzaCwgR29vZ2xlIFNhZmUgQnJvd3NpbmcpLlwiLFxyXG4gICAgICBsb25nRGVzYzpcclxuICAgICAgICBcIkJyYWsgd3Bpc8OzdyBuYSBnxYLDs3dueWNoIGxpc3RhY2ggemFncm/FvGXFhCB0byBkb2JyeSB6bmFrLCB3c2thenVqxIVjeSwgxbxlIHN0cm9uYSBuaWUgem9zdGHFgmEgcHVibGljem5pZSBvem5hY3pvbmEgamFrbyB6xYJvxZtsaXdhLlwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHNjb3JlICs9IGJsU0VWO1xyXG5cclxuICAvLyBJUCBpbiBVUkxcclxuICBsZXQgaXBVcmxTRVYgPSAwO1xyXG4gIGlmIChhbmFseXNpc0RhdGEuaXNfaXBfYWRkcmVzc19pbl91cmwpIHtcclxuICAgIGlwVXJsU0VWID0gUFRTLmlwSW5Vcmw7XHJcbiAgICBleHBsYW5hdGlvbnMucHVzaCh7XHJcbiAgICAgIGlkOiBcImlwSW5VcmxcIixcclxuICAgICAgaWNvbjogTmV0d29yayxcclxuICAgICAgbGFiZWw6IFwiQWRyZXMgSVAgdyBVUkxcIixcclxuICAgICAgdmFsdWVUZXh0OiBcIlRha1wiLFxyXG4gICAgICBpbXBhY3Q6IFwibmVnYXRpdmVcIixcclxuICAgICAgc2NvcmVFZmZlY3Q6IGAke2lwVXJsU0VWfSBwa3RgLFxyXG4gICAgICBkZXRhaWxzOlxyXG4gICAgICAgIFwiVcW8eXdhbmllIGFkcmVzdSBJUCB6YW1pYXN0IG5hend5IGRvbWVub3dlaiBqZXN0IGN6xJlzdMSFIHRha3R5a8SFIHcgcGhpc2hpbmd1LlwiLFxyXG4gICAgICBsb25nRGVzYzpcclxuICAgICAgICBcIkxlZ2FsbmUgc3Ryb255IHJ6YWRrbyB1xbx5d2FqxIUgYWRyZXPDs3cgSVAgYmV6cG/Fm3JlZG5pbyB3IGxpbmthY2guLi5cIixcclxuICAgIH0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBleHBsYW5hdGlvbnMucHVzaCh7XHJcbiAgICAgIGlkOiBcImlwSW5VcmxcIixcclxuICAgICAgaWNvbjogTmV0d29yayxcclxuICAgICAgbGFiZWw6IFwiQWRyZXMgSVAgdyBVUkxcIixcclxuICAgICAgdmFsdWVUZXh0OiBcIk5pZVwiLFxyXG4gICAgICBpbXBhY3Q6IFwicG9zaXRpdmVcIixcclxuICAgICAgZGV0YWlsczogXCJVUkwgdcW8eXdhIHN0YW5kYXJkb3dlaiBuYXp3eSBkb21lbm93ZWouXCIsXHJcbiAgICAgIHNjb3JlRWZmZWN0OiBcIiswIHBrdFwiLFxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIHNjb3JlICs9IGlwVXJsU0VWO1xyXG5cclxuICAvLyBETlMgTVggUmVjb3Jkc1xyXG4gIGxldCBkbnNNeFNFViA9IDA7XHJcbiAgbGV0IGRuc014VlQ6IHN0cmluZyB8IFJlYWN0LlJlYWN0Tm9kZSA9IFwiTi9BXCI7XHJcbiAgbGV0IGRuc014STogRXhwbGFuYXRpb25JbXBhY3QgPSBcIm5ldXRyYWxcIjtcclxuICBsZXQgZG5zTXhEZXQgPSBcIkJyYWsgZGFueWNoIG8gcmVrb3JkYWNoIE1YLlwiO1xyXG5cclxuICBpZiAoYW5hbHlzaXNEYXRhLmRuc19yZWNvcmRzICYmIGFuYWx5c2lzRGF0YS5kbnNfcmVjb3Jkcy5NWCkge1xyXG4gICAgaWYgKGFuYWx5c2lzRGF0YS5kbnNfcmVjb3Jkcy5NWC5sZW5ndGggPT09IDApIHtcclxuICAgICAgZG5zTXhTRVYgPSBQVFMuZG5zTXgubWlzc2luZ0ZvclNob3A7XHJcbiAgICAgIGRuc014VlQgPSBcIkJyYWtcIjtcclxuICAgICAgZG5zTXhJID0gXCJuZWdhdGl2ZVwiO1xyXG4gICAgICBkbnNNeERldCA9IFwiQnJhayByZWtvcmTDs3cgTVggZGxhIGRvbWVueS5cIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGRuc014U0VWID0gUFRTLmRuc014LnByZXNlbnRGb3JTaG9wO1xyXG4gICAgICBkbnNNeFZUID0gXCJPYmVjbmVcIjtcclxuICAgICAgZG5zTXhJID0gXCJwb3NpdGl2ZVwiO1xyXG4gICAgICBkbnNNeERldCA9IFwiUmVrb3JkeSBNWCBvYmVjbmUgZGxhIGRvbWVueS5cIjtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgZG5zTXhTRVYgPSBQVFMuZG5zTXgubm90QXBwbGljYWJsZTtcclxuICAgIGRuc014VlQgPSBcIk5pZSBkb3R5Y3p5XCI7XHJcbiAgICBkbnNNeERldCA9IFwiQnJhayBkYW55Y2ggbyByZWtvcmRhY2ggTVguXCI7XHJcbiAgfVxyXG4gIHNjb3JlICs9IGRuc014U0VWO1xyXG4gIGV4cGxhbmF0aW9ucy5wdXNoKHtcclxuICAgIGlkOiBcImRuc014XCIsXHJcbiAgICBpY29uOiBNYWlsLFxyXG4gICAgbGFiZWw6IFwiUmVrb3JkeSBNWFwiLFxyXG4gICAgdmFsdWVUZXh0OiBkbnNNeFZULFxyXG4gICAgaW1wYWN0OiBkbnNNeEksXHJcbiAgICBzY29yZUVmZmVjdDogYCR7ZG5zTXhTRVYgPiAwID8gXCIrXCIgOiBcIlwifSR7ZG5zTXhTRVZ9IHBrdGAsXHJcbiAgICBkZXRhaWxzOiBkbnNNeERldCxcclxuICAgIGxvbmdEZXNjOiBcIlJla29yZHkgTVggd3NrYXp1asSFIHNlcndlcnkgcG9jenRvd2UgZGxhIGRvbWVueS4uLlwiLFxyXG4gIH0pO1xyXG5cclxuICBjb25zdCBmaW5hbFNjb3JlID0gTWF0aC5tYXgoTUlOLCBNYXRoLm1pbihNQVgsIE1hdGgucm91bmQoc2NvcmUpKSk7XHJcbiAgY29uc29sZS5sb2coXHJcbiAgICBgW1Njb3JlQ2FsY10gRmluYWwgY2FsY3VsYXRlZCBzY29yZTogJHtmaW5hbFNjb3JlfSAocmF3IHNjb3JlIGJlZm9yZSBjbGFtcDogJHtzY29yZX0pYFxyXG4gICk7XHJcbiAgcmV0dXJuIHsgc2NvcmU6IGZpbmFsU2NvcmUsIGV4cGxhbmF0aW9ucyB9O1xyXG59XHJcbiIsIi8vIHNyYy9iYWNrZ3JvdW5kL3Rlc3RSdW5uZXIudHNcclxuXHJcbmltcG9ydCB7IGNhbGN1bGF0ZVRydXN0U2NvcmUgfSBmcm9tIFwiLi4vcG9wdXAvc2VydmljZXMvc2NvcmVDYWxjdWxhdG9yXCI7XHJcbmltcG9ydCB7IHBlcmZvcm1GdWxsQW5hbHlzaXMgfSBmcm9tIFwiLi9iYWNrZ3JvdW5kXCI7XHJcbmltcG9ydCB7IFN0b3JlZERvbWFpbkRhdGEgfSBmcm9tIFwiQC90eXBlcy9kb21haW5BbmFseXNpc1wiO1xyXG5cclxuLy8gLS0tIFVSTCBMaXN0cyBhbmQgVGVzdCBSdW5uZXIgU2V0dXAgKE5vIENoYW5nZXMgSGVyZSkgLS0tXHJcbmNvbnN0IFVSTFNfVE9fVEVTVCA9IHtcclxuICBcIkdydXBhIEEgKFBoaXNoaW5nKVwiOiBbXHJcbiAgICBcImh0dHA6Ly9lbi1zdWl0ZXMucGFnZXMuZGV2L1wiLFxyXG4gICAgXCJodHRwczovL2xpbmVhLWNsYWltLmNvbS9cIixcclxuICAgIFwiaHR0cDovL2JhY2tpbmdhcmVuYS5iZXRcIixcclxuICAgIFwiaHR0cHM6Ly9maW5hbmNlLW9jZWFuLm9yZy9cIixcclxuICAgIFwiaHR0cHM6Ly9mY2g3MTUuaWN1L3VwZGF0ZS8jL1wiLFxyXG4gICAgXCJodHRwczovL3dsZmlsaWJlcnR5ZmluYW5jZXMueHl6L1wiLFxyXG4gICAgXCJodHRwczovL3d3dy5iY210LXRlY2guY29tL1wiLFxyXG4gICAgXCJodHRwczovL3d3dy5jYWl4YWluZGVuaXphLnNicy9cIixcclxuICAgIFwiaHR0cHM6Ly9zZXJhc2Fici5vcmcvXCIsXHJcbiAgICBcImh0dHBzOi8vdm5jcC1ldGF4LmNvbS9cIixcclxuICAgIFwiaHR0cHM6Ly9jb25maXJhLXZlcmlmaWNhY2FvLmNvbS9pbmljaW9cIixcclxuICBdLFxyXG4gIFwiR3J1cGEgQiAoTGVnaXRpbWF0ZSlcIjogW1xyXG4gICAgXCJodHRwczovL3d3dy5tYmFuay5wbC9cIixcclxuICAgIFwiaHR0cHM6Ly93d3cucGtvYnAucGwvXCIsXHJcbiAgICBcImh0dHBzOi8vd3d3LmluZy5wbC9cIixcclxuICAgIFwiaHR0cHM6Ly93d3cucGVrYW8uY29tLnBsL1wiLFxyXG4gICAgXCJodHRwczovL3d3dy5hbGlvcmJhbmsucGwvXCIsXHJcbiAgICBcImh0dHBzOi8vd3d3LmFtYXpvbi5wbC9cIixcclxuICAgIFwiaHR0cHM6Ly9hbGxlZ3JvLnBsL1wiLFxyXG4gICAgXCJodHRwczovL3d3dy5ldXJvLmNvbS5wbC9cIixcclxuICAgIFwiaHR0cHM6Ly93d3cuYWdhdGFtZWJsZS5wbC9cIixcclxuICAgIFwiaHR0cHM6Ly93d3cuaWtlYS5jb20vcGwvcGwvXCIsXHJcbiAgICBcImh0dHBzOi8vd3d3Lm9uZXQucGwvXCIsXHJcbiAgICBcImh0dHBzOi8vd3d3LmludGVyaWEucGwvXCIsXHJcbiAgICBcImh0dHBzOi8veC5jb20vaG9tZVwiLFxyXG4gICAgXCJodHRwczovL3R2bjI0LnBsL1wiLFxyXG4gICAgXCJodHRwczovL3dpYWRvbW9zY2kud3AucGwvXCIsXHJcbiAgICBcImh0dHBzOi8vd3d3Lmdvdi5wbC9cIixcclxuICAgIFwiaHR0cHM6Ly93d3cudWUua2F0b3dpY2UucGwvXCIsXHJcbiAgICBcImh0dHBzOi8vd3d3LmJpem5lcy5nb3YucGwvcGxcIixcclxuICAgIFwiaHR0cHM6Ly93d3cucG9kYXRraS5nb3YucGwvXCIsXHJcbiAgICBcImh0dHBzOi8vaW50ZXJuZXQuZ292LnBsL1wiLFxyXG4gIF0sXHJcbiAgXCJHcnVwYSBDIChTdXNwaWNpb3VzL1BoaXNoaW5nKVwiOiBbXHJcbiAgICBcImh0dHBzOi8vcGFyZnVtdXJpLXRvcC5yby9cIixcclxuICAgIFwiaHR0cHM6Ly9jb2xsYWIubGFuZC9cIixcclxuICAgIFwiaHR0cHM6Ly9hbGxvY2F0aW9uLW1hcGxlLmNvbS9cIixcclxuICAgIFwiaHR0cHM6Ly9rZWV0YS1jbGFpbS5jb20vXCIsXHJcbiAgICBcImh0dHBzOi8vbGlkby1zdGFrZS5hcHAvXCIsXHJcbiAgICBcImh0dHBzOi8vcmFkbGV5ZmluYW5jZS5jb20vXCIsXHJcbiAgICBcImh0dHBzOi8vZHFwYXpjbHcuc2hvcC9cIixcclxuICAgIFwiaHR0cHM6Ly9sYWJvcnguY29tXCIsXHJcbiAgICBcImh0dHBzOi8vcmV3YXJkcy1ibG9ja3N0cmVldC5jb20vXCIsXHJcbiAgICBcImh0dHBzOi8vcGxhbnRhcHJvbGFtc2EuY29tL1wiLFxyXG4gICAgXCJodHRwczovL2lvd2FzdGVwLm9yZy9cIixcclxuICBdLFxyXG59O1xyXG5cclxuLy8gLS0tIEhlbHBlciBGdW5jdGlvbnMgKE5vIENoYW5nZXMgSGVyZSkgLS0tXHJcblxyXG5mdW5jdGlvbiBnZXRUZXh0RnJvbVVybCh1cmw6IHN0cmluZywgdGltZW91dCA9IDI1MDAwKTogUHJvbWlzZTxzdHJpbmdbXT4ge1xyXG4gIC8vIC4uLiAoVGhpcyBmdW5jdGlvbiBpcyB1bmNoYW5nZWQpXHJcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgIGxldCB0YWJJZDogbnVtYmVyIHwgdW5kZWZpbmVkID0gdW5kZWZpbmVkO1xyXG4gICAgbGV0IHRpbWVvdXRJZDogTm9kZUpTLlRpbWVvdXQgfCBudWxsID0gbnVsbDtcclxuXHJcbiAgICBjb25zdCBsaXN0ZW5lciA9IChtZXNzYWdlOiBhbnksIHNlbmRlcjogY2hyb21lLnJ1bnRpbWUuTWVzc2FnZVNlbmRlcikgPT4ge1xyXG4gICAgICBpZiAoc2VuZGVyLnRhYj8uaWQgPT09IHRhYklkICYmIG1lc3NhZ2UuYWN0aW9uID09PSBcImFuYWx5emVQYWdlQ29udGVudFwiKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtUZXN0UnVubmVyXSBSZWNlaXZlZCBjb250ZW50IGZvciAke3VybH1gKTtcclxuICAgICAgICBjbGVhbnVwKCk7XHJcbiAgICAgICAgcmVzb2x2ZShtZXNzYWdlLmNvbnRlbnRDaHVua3MgfHwgW10pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNsZWFudXAgPSAoKSA9PiB7XHJcbiAgICAgIGlmICh0aW1lb3V0SWQpIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xyXG4gICAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UucmVtb3ZlTGlzdGVuZXIobGlzdGVuZXIpO1xyXG4gICAgICBpZiAodGFiSWQpIHtcclxuICAgICAgICBjaHJvbWUudGFicy5yZW1vdmUodGFiSWQpLmNhdGNoKCgpID0+IHt9KTtcclxuICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgY29uc29sZS53YXJuKGBbVGVzdFJ1bm5lcl0gVGltZW91dCB3YWl0aW5nIGZvciBjb250ZW50IGZyb20gJHt1cmx9YCk7XHJcbiAgICAgIGNsZWFudXAoKTtcclxuICAgICAgcmVzb2x2ZShbXSk7XHJcbiAgICB9LCB0aW1lb3V0KTtcclxuXHJcbiAgICBjaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIobGlzdGVuZXIpO1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHRhYiA9IGF3YWl0IGNocm9tZS50YWJzLmNyZWF0ZSh7IHVybCwgYWN0aXZlOiBmYWxzZSB9KTtcclxuICAgICAgdGFiSWQgPSB0YWIuaWQ7XHJcbiAgICAgIGlmICghdGFiSWQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gY3JlYXRlIHRhYi5cIik7XHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtUZXN0UnVubmVyXSBGYWlsZWQgdG8gY3JlYXRlIHRhYiBmb3IgJHt1cmx9OmAsIGVycm9yKTtcclxuICAgICAgY2xlYW51cCgpO1xyXG4gICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmb3JtYXRSZXN1bHQoXHJcbiAgdXJsOiBzdHJpbmcsXHJcbiAgZGF0YTogU3RvcmVkRG9tYWluRGF0YSxcclxuICBzY29yZTogbnVtYmVyIHwgbnVsbCxcclxuICBleHBsYW5hdGlvbnM6IGFueVtdXHJcbik6IHN0cmluZyB7XHJcbiAgLy8gLi4uIChUaGlzIGZ1bmN0aW9uIGlzIHVuY2hhbmdlZClcclxuICBsZXQgb3V0cHV0ID0gYFVSTDogJHt1cmx9XFxuYDtcclxuICBvdXRwdXQgKz0gYEZJTkFMIFNDT1JFOiAke3Njb3JlID8/IFwiTi9BXCJ9XFxuYDtcclxuICBvdXRwdXQgKz0gXCItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXFxuXCI7XHJcblxyXG4gIGlmIChkYXRhLmVycm9yKSB7XHJcbiAgICBvdXRwdXQgKz0gYEFuYWx5c2lzIEVycm9yOiAke2RhdGEuZXJyb3J9XFxuYDtcclxuICB9XHJcblxyXG4gIGV4cGxhbmF0aW9ucy5mb3JFYWNoKChleHApID0+IHtcclxuICAgIGNvbnN0IHZhbHVlID1cclxuICAgICAgdHlwZW9mIGV4cC52YWx1ZVRleHQgPT09IFwic3RyaW5nXCIgPyBleHAudmFsdWVUZXh0IDogXCJbVUkgRWxlbWVudF1cIjtcclxuICAgIG91dHB1dCArPSBgWyR7ZXhwLmltcGFjdC5wYWRFbmQoOCl9XSAke2V4cC5sYWJlbC5wYWRFbmQoXHJcbiAgICAgIDIwXHJcbiAgICApfSB8IFZhbHVlOiAke3ZhbHVlLnBhZEVuZCgyNSl9IHwgRWZmZWN0OiAke2V4cC5zY29yZUVmZmVjdCB8fCBcIjAgcGt0XCJ9XFxuYDtcclxuICAgIG91dHB1dCArPSBgICAgRGV0YWlsczogJHtleHAuZGV0YWlsc31cXG5cXG5gO1xyXG4gIH0pO1xyXG5cclxuICBvdXRwdXQgKz0gXCI9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XFxuXFxuXCI7XHJcbiAgcmV0dXJuIG91dHB1dDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHJ1bkRvd25sb2FkVGVzdCgpIHtcclxuICAvLyAuLi4gKFRoaXMgZnVuY3Rpb24gaXMgdW5jaGFuZ2VkKVxyXG4gIGNvbnNvbGUubG9nKFwiUnVubmluZyBpbnN0YW50IGRvd25sb2FkIHRlc3QuLi5cIik7XHJcbiAgY29uc3QgdGVzdFJlcG9ydCA9IGBEb3dubG9hZCB0ZXN0IGluaXRpYXRlZCBhdDogJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XFxuXFxuSWYgeW91IHNlZSB0aGlzLCB0aGUgZG93bmxvYWQgZnVuY3Rpb25hbGl0eSBpcyB3b3JraW5nLmA7XHJcbiAgY29uc3QgZGF0YVVybCA9XHJcbiAgICBcImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHRlc3RSZXBvcnQpO1xyXG4gIGNocm9tZS5kb3dubG9hZHMuZG93bmxvYWQoe1xyXG4gICAgdXJsOiBkYXRhVXJsLFxyXG4gICAgZmlsZW5hbWU6IFwiSXNUaGlzUGhpc2h5LURvd25sb2FkLVRlc3QudHh0XCIsXHJcbiAgfSk7XHJcbn1cclxuXHJcbi8vIC0tLSBNYWluIFRlc3QgUnVubmVyIChVUERBVEVEKSAtLS1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBydW5UZXN0cygpIHtcclxuICBjb25zb2xlLmxvZyhcIlN0YXJ0aW5nIGF1dG9tYXRlZCB0ZXN0cyB3aXRoIEZVTEwgQ09OVEVOVCBBTkFMWVNJUy4uLlwiKTtcclxuICBjb25zb2xlLndhcm4oXHJcbiAgICBcIlRoaXMgd2lsbCBiZSBzbG93IGFuZCB3aWxsIG9wZW4vY2xvc2UgbWFueSB0YWJzIGluIHRoZSBiYWNrZ3JvdW5kLlwiXHJcbiAgKTtcclxuXHJcbiAgbGV0IGZ1bGxSZXBvcnQgPSBgSXNUaGlzUGhpc2h5IEF1dG9tYXRlZCBGdWxsIFRlc3QgUmVwb3J0IC0gJHtuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCl9XFxuXFxuYDtcclxuXHJcbiAgLy8gPDw8IE5FVzogT2JqZWN0IHRvIHN0b3JlIHJlc3VsdHMgZm9yIGZpbmFsIHN1bW1hcnkgPj4+XHJcbiAgY29uc3QgcmVzdWx0c0J5R3JvdXA6IFJlY29yZDxcclxuICAgIHN0cmluZyxcclxuICAgIHsgdXJsOiBzdHJpbmc7IHNjb3JlOiBudW1iZXIgfCBudWxsOyBleHBsYW5hdGlvbnM6IGFueVtdIH1bXVxyXG4gID4gPSB7fTtcclxuXHJcbiAgZm9yIChjb25zdCBncm91cE5hbWUgaW4gVVJMU19UT19URVNUKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgLS0tIFByb2Nlc3NpbmcgJHtncm91cE5hbWV9IC0tLWApO1xyXG4gICAgZnVsbFJlcG9ydCArPSBgXFxuXFxuIyMjIyMjIyMjIyAke2dyb3VwTmFtZX0gIyMjIyMjIyMjI1xcblxcbmA7XHJcbiAgICBjb25zdCB1cmxzID0gVVJMU19UT19URVNUW2dyb3VwTmFtZSBhcyBrZXlvZiB0eXBlb2YgVVJMU19UT19URVNUXTtcclxuXHJcbiAgICAvLyA8PDwgTkVXOiBJbml0aWFsaXplIGFycmF5IGZvciB0aGUgY3VycmVudCBncm91cCA+Pj5cclxuICAgIHJlc3VsdHNCeUdyb3VwW2dyb3VwTmFtZV0gPSBbXTtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHVybCBvZiB1cmxzKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coYFtUZXN0UnVubmVyXSBBbmFseXppbmcgVVJMOiAke3VybH1gKTtcclxuICAgICAgICBjb25zdCBjb250ZW50Q2h1bmtzID0gYXdhaXQgZ2V0VGV4dEZyb21VcmwodXJsKTtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgcGVyZm9ybUZ1bGxBbmFseXNpcyh1cmwsIGNvbnRlbnRDaHVua3MpO1xyXG4gICAgICAgIGNvbnN0IHsgc2NvcmUsIGV4cGxhbmF0aW9ucyB9ID0gY2FsY3VsYXRlVHJ1c3RTY29yZShkYXRhLCB1cmwpO1xyXG5cclxuICAgICAgICAvLyBBZGQgdG8gZGV0YWlsZWQgcmVwb3J0XHJcbiAgICAgICAgZnVsbFJlcG9ydCArPSBmb3JtYXRSZXN1bHQodXJsLCBkYXRhLCBzY29yZSwgZXhwbGFuYXRpb25zKTtcclxuXHJcbiAgICAgICAgLy8gPDw8IE5FVzogU3RvcmUgdGhlIHN0cnVjdHVyZWQgcmVzdWx0IGZvciBzdW1tYXJ5ID4+PlxyXG4gICAgICAgIHJlc3VsdHNCeUdyb3VwW2dyb3VwTmFtZV0ucHVzaCh7IHVybCwgc2NvcmUsIGV4cGxhbmF0aW9ucyB9KTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKGBbVGVzdFJ1bm5lcl0gQ3JpdGljYWwgZmFpbHVyZSBmb3IgVVJMICR7dXJsfTpgLCBlcnJvcik7XHJcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gYENSSVRJQ0FMIEVSUk9SOiAkeyhlcnJvciBhcyBFcnJvcikubWVzc2FnZX1gO1xyXG4gICAgICAgIGZ1bGxSZXBvcnQgKz0gYFVSTDogJHt1cmx9XFxuJHtlcnJvck1lc3NhZ2V9XFxuPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxcblxcbmA7XHJcbiAgICAgICAgcmVzdWx0c0J5R3JvdXBbZ3JvdXBOYW1lXS5wdXNoKHtcclxuICAgICAgICAgIHVybCxcclxuICAgICAgICAgIHNjb3JlOiBudWxsLFxyXG4gICAgICAgICAgZXhwbGFuYXRpb25zOiBbeyBkZXRhaWxzOiBlcnJvck1lc3NhZ2UgfV0sXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnNvbGUubG9nKFwiLS0tIEFsbCB0ZXN0cyBjb21wbGV0ZSEgR2VuZXJhdGluZyBzdW1tYXJ5Li4uIC0tLVwiKTtcclxuXHJcbiAgLy8gPDw8IE5FVzogR2VuZXJhdGUgU3VtbWFyeSBhbmQgQ1NWIFNlY3Rpb25zID4+PlxyXG5cclxuICBsZXQgc3VtbWFyeVJlcG9ydCA9IFwiXFxuXFxuXFxuXCI7XHJcbiAgc3VtbWFyeVJlcG9ydCArPSBcIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXFxuXCI7XHJcbiAgc3VtbWFyeVJlcG9ydCArPSBcIiMjIyAgICAgICAgVEVTVCBTVU1NQVJZICAgICAgICAgIyMjXFxuXCI7XHJcbiAgc3VtbWFyeVJlcG9ydCArPSBcIiMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjXFxuXFxuXCI7XHJcblxyXG4gIC8vIC0tLSBBdmVyYWdlIFNjb3JlcyBTZWN0aW9uIC0tLVxyXG4gIHN1bW1hcnlSZXBvcnQgKz0gXCItLS0gQXZlcmFnZSBTY29yZXMgYnkgR3JvdXAgLS0tXFxuXCI7XHJcbiAgZm9yIChjb25zdCBncm91cE5hbWUgaW4gcmVzdWx0c0J5R3JvdXApIHtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSByZXN1bHRzQnlHcm91cFtncm91cE5hbWVdO1xyXG4gICAgY29uc3QgdmFsaWRTY29yZXMgPSByZXN1bHRzXHJcbiAgICAgIC5tYXAoKHIpID0+IHIuc2NvcmUpXHJcbiAgICAgIC5maWx0ZXIoKHMpID0+IHMgIT09IG51bGwpIGFzIG51bWJlcltdO1xyXG5cclxuICAgIGlmICh2YWxpZFNjb3Jlcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGF2ZXJhZ2UgPVxyXG4gICAgICAgIHZhbGlkU2NvcmVzLnJlZHVjZSgoYSwgYikgPT4gYSArIGIsIDApIC8gdmFsaWRTY29yZXMubGVuZ3RoO1xyXG4gICAgICBzdW1tYXJ5UmVwb3J0ICs9IGAke2dyb3VwTmFtZS5wYWRFbmQoMzApfTogJHthdmVyYWdlLnRvRml4ZWQoMil9XFxuYDtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHN1bW1hcnlSZXBvcnQgKz0gYCR7Z3JvdXBOYW1lLnBhZEVuZCgzMCl9OiBOL0EgKG5vIHZhbGlkIHNjb3JlcylcXG5gO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLy8gLS0tIEZ1bGwgQ1NWIERhdGEgU2VjdGlvbiAtLS1cclxuICBzdW1tYXJ5UmVwb3J0ICs9IFwiXFxuXFxuLS0tIENTViBEYXRhIGZvciBDaGFydGluZyAoVVJMIHwgU2NvcmUgfCBHcm91cCkgLS0tXFxuXCI7XHJcbiAgc3VtbWFyeVJlcG9ydCArPSBcIlVSTHxTY29yZXxHcm91cFxcblwiO1xyXG4gIGZvciAoY29uc3QgZ3JvdXBOYW1lIGluIHJlc3VsdHNCeUdyb3VwKSB7XHJcbiAgICByZXN1bHRzQnlHcm91cFtncm91cE5hbWVdLmZvckVhY2goKHJlc3VsdCkgPT4ge1xyXG4gICAgICBzdW1tYXJ5UmVwb3J0ICs9IGAke3Jlc3VsdC51cmx9fCR7XHJcbiAgICAgICAgcmVzdWx0LnNjb3JlID8/IFwiRVJST1JcIlxyXG4gICAgICB9fCR7Z3JvdXBOYW1lfVxcbmA7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIC0tLSBBZHZhbmNlZCBDU1YgRGF0YSBTZWN0aW9uIChmb3IgZGV0YWlsZWQgYW5hbHlzaXMpIC0tLVxyXG4gIHN1bW1hcnlSZXBvcnQgKz0gXCJcXG5cXG4tLS0gQWR2YW5jZWQgQ1NWIERhdGEgZm9yIERldGFpbGVkIEFuYWx5c2lzIC0tLVxcblwiO1xyXG4gIC8vIENyZWF0ZSBhIGhlYWRlciByb3cgd2l0aCBhbGwgcG9zc2libGUgZXhwbGFuYXRpb24gbGFiZWxzXHJcbiAgY29uc3QgYWxsRXhwbGFuYXRpb25MYWJlbHMgPSBuZXcgU2V0PHN0cmluZz4oW1wiVVJMXCIsIFwiRmluYWxfU2NvcmVcIiwgXCJHcm91cFwiXSk7XHJcbiAgT2JqZWN0LnZhbHVlcyhyZXN1bHRzQnlHcm91cClcclxuICAgIC5mbGF0KClcclxuICAgIC5mb3JFYWNoKChyZXN1bHQpID0+IHtcclxuICAgICAgcmVzdWx0LmV4cGxhbmF0aW9ucy5mb3JFYWNoKChleHApID0+XHJcbiAgICAgICAgYWxsRXhwbGFuYXRpb25MYWJlbHMuYWRkKGV4cC5sYWJlbC5yZXBsYWNlKC9cXHMrL2csIFwiX1wiKSlcclxuICAgICAgKTtcclxuICAgIH0pO1xyXG4gIGNvbnN0IGhlYWRlclJvdyA9IEFycmF5LmZyb20oYWxsRXhwbGFuYXRpb25MYWJlbHMpLmpvaW4oXCJ8XCIpO1xyXG4gIHN1bW1hcnlSZXBvcnQgKz0gaGVhZGVyUm93ICsgXCJcXG5cIjtcclxuXHJcbiAgLy8gQ3JlYXRlIGEgZGF0YSByb3cgZm9yIGVhY2ggVVJMXHJcbiAgZm9yIChjb25zdCBncm91cE5hbWUgaW4gcmVzdWx0c0J5R3JvdXApIHtcclxuICAgIHJlc3VsdHNCeUdyb3VwW2dyb3VwTmFtZV0uZm9yRWFjaCgocmVzdWx0KSA9PiB7XHJcbiAgICAgIGNvbnN0IGRhdGFSb3c6IFJlY29yZDxzdHJpbmcsIHN0cmluZyB8IG51bWJlciB8IG51bGw+ID0ge1xyXG4gICAgICAgIFVSTDogcmVzdWx0LnVybCxcclxuICAgICAgICBGaW5hbF9TY29yZTogcmVzdWx0LnNjb3JlID8/IFwiRVJST1JcIixcclxuICAgICAgICBHcm91cDogZ3JvdXBOYW1lLFxyXG4gICAgICB9O1xyXG4gICAgICAvLyBQb3B1bGF0ZSBzY29yZXMgZm9yIGVhY2ggZXhwbGFuYXRpb25cclxuICAgICAgcmVzdWx0LmV4cGxhbmF0aW9ucy5mb3JFYWNoKChleHApID0+IHtcclxuICAgICAgICBjb25zdCBsYWJlbEtleSA9IGV4cC5sYWJlbC5yZXBsYWNlKC9cXHMrL2csIFwiX1wiKTtcclxuICAgICAgICAvLyBFeHRyYWN0IHRoZSBudW1lcmljYWwgdmFsdWUgZnJvbSB0aGUgc2NvcmVFZmZlY3Qgc3RyaW5nIChlLmcuLCBcIi0xMCBwa3RcIiAtPiAtMTApXHJcbiAgICAgICAgY29uc3Qgc2NvcmVWYWx1ZSA9IGV4cC5zY29yZUVmZmVjdFxyXG4gICAgICAgICAgPyBwYXJzZUludChleHAuc2NvcmVFZmZlY3QucmVwbGFjZShcIiBwa3RcIiwgXCJcIikucmVwbGFjZShcIitcIiwgXCJcIikpXHJcbiAgICAgICAgICA6IDA7XHJcbiAgICAgICAgZGF0YVJvd1tsYWJlbEtleV0gPSBpc05hTihzY29yZVZhbHVlKSA/IDAgOiBzY29yZVZhbHVlO1xyXG4gICAgICB9KTtcclxuICAgICAgLy8gQnVpbGQgdGhlIGZpbmFsIENTViByb3cgc3RyaW5nXHJcbiAgICAgIGNvbnN0IHJvd1N0cmluZyA9IEFycmF5LmZyb20oYWxsRXhwbGFuYXRpb25MYWJlbHMpXHJcbiAgICAgICAgLm1hcCgobGFiZWwpID0+IGRhdGFSb3dbbGFiZWxdID8/IDApXHJcbiAgICAgICAgLmpvaW4oXCJ8XCIpO1xyXG4gICAgICBzdW1tYXJ5UmVwb3J0ICs9IHJvd1N0cmluZyArIFwiXFxuXCI7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIEFwcGVuZCB0aGUgc3VtbWFyeSB0byB0aGUgbWFpbiByZXBvcnRcclxuICBmdWxsUmVwb3J0ICs9IHN1bW1hcnlSZXBvcnQ7XHJcblxyXG4gIC8vIC0tLSBEb3dubG9hZCBTZWN0aW9uIChVbmNoYW5nZWQpIC0tLVxyXG4gIGNvbnN0IGRhdGFVcmwgPVxyXG4gICAgXCJkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCxcIiArIGVuY29kZVVSSUNvbXBvbmVudChmdWxsUmVwb3J0KTtcclxuICBjaHJvbWUuZG93bmxvYWRzLmRvd25sb2FkKHtcclxuICAgIHVybDogZGF0YVVybCxcclxuICAgIGZpbGVuYW1lOiBcIklzVGhpc1BoaXNoeS1GdWxsLVRlc3QtUmVwb3J0LnR4dFwiLFxyXG4gIH0pO1xyXG59XHJcbiIsIi8vIHNyYy9iYWNrZ3JvdW5kL2JhY2tncm91bmQudHNcclxuaW1wb3J0IHtcclxuICBEb21haW5BbmFseXNpc0RldGFpbHMsXHJcbiAgUGhpc2hpbmdUZXh0QW5hbHlzaXMsXHJcbiAgUGFnZUNvbnRlbnRBaUFuYWx5c2lzLFxyXG4gIFN0b3JlZERvbWFpbkRhdGEsXHJcbn0gZnJvbSBcIkAvdHlwZXMvZG9tYWluQW5hbHlzaXNcIjtcclxuaW1wb3J0IHsgY2FsY3VsYXRlVHJ1c3RTY29yZSB9IGZyb20gXCJAL3BvcHVwL3NlcnZpY2VzL3Njb3JlQ2FsY3VsYXRvclwiO1xyXG5cclxuY29uc3QgQVBJX0JBU0VfVVJMID0gXCJodHRwOi8vMTI3LjAuMC4xOjgwMDAvYXBpL3YxXCI7XHJcblxyXG5jb25zdCBnZXREb21haW5Gcm9tVXJsID0gKHVybDogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgdSA9IG5ldyBVUkwodXJsKTtcclxuICAgIHJldHVybiB1Lmhvc3RuYW1lLnJlcGxhY2UoL153d3dcXC4vLCBcIlwiKTtcclxuICB9IGNhdGNoIHtcclxuICAgIHJldHVybiBcIlwiO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUJhZGdlID0gKHRleHQ6IHN0cmluZywgY29sb3I6IHN0cmluZyA9IFwiIzc3Nzc3N1wiKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VUZXh0KHsgdGV4dCB9KTtcclxuICAgIGNocm9tZS5hY3Rpb24uc2V0QmFkZ2VCYWNrZ3JvdW5kQ29sb3IoeyBjb2xvciB9KTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLndhcm4oXCJbQkddIEZhaWxlZCB0byB1cGRhdGUgYmFkZ2UuXCIsIGUpO1xyXG4gIH1cclxufTtcclxuXHJcbmNvbnN0IHVwZGF0ZUJhZGdlV2l0aFNjb3JlID0gKFxyXG4gIGRhdGE6IFN0b3JlZERvbWFpbkRhdGEsXHJcbiAgdXJsRm9yQW5hbHlzaXM6IHN0cmluZ1xyXG4pID0+IHtcclxuICBpZiAoIWRhdGEpIHJldHVybjtcclxuICBjb25zdCB7IHNjb3JlIH0gPSBjYWxjdWxhdGVUcnVzdFNjb3JlKGRhdGEsIHVybEZvckFuYWx5c2lzKTtcclxuICBpZiAoc2NvcmUgIT09IG51bGwpIHtcclxuICAgIGxldCBjb2xvciA9IFwiIzEwQjk4MVwiO1xyXG4gICAgaWYgKHNjb3JlIDwgNDApIGNvbG9yID0gXCIjRUY0NDQ0XCI7XHJcbiAgICBlbHNlIGlmIChzY29yZSA8IDcwKSBjb2xvciA9IFwiI0Y1OUUwQlwiO1xyXG4gICAgdXBkYXRlQmFkZ2Uoc2NvcmUudG9TdHJpbmcoKSwgY29sb3IpO1xyXG4gIH0gZWxzZSBpZiAoZGF0YS5lcnJvcikge1xyXG4gICAgdXBkYXRlQmFkZ2UoXCIhXCIsIFwiI0VGNDQ0NFwiKTtcclxuICB9IGVsc2Uge1xyXG4gICAgdXBkYXRlQmFkZ2UoXCI/XCIsIFwiIzc3Nzc3N1wiKTtcclxuICB9XHJcbn07XHJcblxyXG5jb25zdCBmZXRjaFRleHRBbmFseXNpcyA9IGFzeW5jIChcclxuICB0ZXh0VG9BbmFseXplOiBzdHJpbmdcclxuKTogUHJvbWlzZTxQaGlzaGluZ1RleHRBbmFseXNpcyB8IG51bGw+ID0+IHtcclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfQkFTRV9VUkx9L2NoZWNrX3BoaXNoaW5nX3RleHRgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyB0ZXh0X3RvX2FuYWx5emU6IHRleHRUb0FuYWx5emUgfSksXHJcbiAgICB9KTtcclxuICAgIGlmICghcmVzcG9uc2Uub2spIHJldHVybiBudWxsO1xyXG4gICAgcmV0dXJuIGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwiW0JHXSBmZXRjaFRleHRBbmFseXNpcyBOZXR3b3JrIEVycm9yOlwiLCBlKTtcclxuICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCBwZXJmb3JtRnVsbEFuYWx5c2lzID0gYXN5bmMgKFxyXG4gIHVybFRvQW5hbHl6ZTogc3RyaW5nLFxyXG4gIGNvbnRlbnRDaHVua3NGb3JBbmFseXNpczogc3RyaW5nW10gPSBbXVxyXG4pOiBQcm9taXNlPFN0b3JlZERvbWFpbkRhdGE+ID0+IHtcclxuICBjb25zdCBkb21haW4gPSBnZXREb21haW5Gcm9tVXJsKHVybFRvQW5hbHl6ZSk7XHJcbiAgaWYgKCFkb21haW4pIHJldHVybiB7IGVycm9yOiBcIkludmFsaWQgZG9tYWluXCIsIGxhc3RDaGVja2VkOiBEYXRlLm5vdygpIH07XHJcblxyXG4gIHVwZGF0ZUJhZGdlKFwiLi4uXCIsIFwiI0Y1OUUwQlwiKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IFtkb21haW5EZXRhaWxzUmVzcG9uc2UsIHVybFRleHRBbmFseXNpc1Jlc3VsdF0gPSBhd2FpdCBQcm9taXNlLmFsbChbXHJcbiAgICAgIGZldGNoKGAke0FQSV9CQVNFX1VSTH0vYW5hbHl6ZV9kb21haW5fZGV0YWlsc2AsIHtcclxuICAgICAgICBtZXRob2Q6IFwiUE9TVFwiLFxyXG4gICAgICAgIGhlYWRlcnM6IHsgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIgfSxcclxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IHVybDogdXJsVG9BbmFseXplIH0pLFxyXG4gICAgICB9KSxcclxuICAgICAgZmV0Y2hUZXh0QW5hbHlzaXModXJsVG9BbmFseXplKSxcclxuICAgIF0pO1xyXG5cclxuICAgIGlmICghZG9tYWluRGV0YWlsc1Jlc3BvbnNlLm9rKSB7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgZXJyb3I6IFwiQVBJIEVycm9yIChkb21haW4gZGV0YWlscylcIixcclxuICAgICAgICBsYXN0Q2hlY2tlZDogRGF0ZS5ub3coKSxcclxuICAgICAgfTtcclxuICAgIH1cclxuICAgIGNvbnN0IGRvbWFpbkFuYWx5c2lzOiBEb21haW5BbmFseXNpc0RldGFpbHMgPVxyXG4gICAgICBhd2FpdCBkb21haW5EZXRhaWxzUmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGRvbWFpbkFuYWx5c2lzKTtcclxuICAgIGlmIChkb21haW5BbmFseXNpcy5lcnJvcikge1xyXG4gICAgICByZXR1cm4geyBlcnJvcjogZG9tYWluQW5hbHlzaXMuZXJyb3IsIGxhc3RDaGVja2VkOiBEYXRlLm5vdygpIH07XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHBhZ2VDb250ZW50QWlSZXN1bHRzOiBQYWdlQ29udGVudEFpQW5hbHlzaXNbXSA9IFtdO1xyXG4gICAgaWYgKGNvbnRlbnRDaHVua3NGb3JBbmFseXNpcy5sZW5ndGggPiAwKSB7XHJcbiAgICAgIGNvbnN0IGFuYWx5c2lzUHJvbWlzZXMgPSBjb250ZW50Q2h1bmtzRm9yQW5hbHlzaXMubWFwKFxyXG4gICAgICAgIGFzeW5jIChjaHVuaywgaWR4KSA9PiB7XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmZXRjaFRleHRBbmFseXNpcyhjaHVuayk7XHJcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgICAgLi4ucmVzdWx0LFxyXG4gICAgICAgICAgICAgIGNodW5rSW5kZXg6IGlkeCxcclxuICAgICAgICAgICAgICBvcmlnaW5hbENodW5rOiBjaHVuay5zdWJzdHJpbmcoMCwgMTAwKSArIFwiLi4uXCIsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIHBhZ2VDb250ZW50QWlSZXN1bHRzID0gKGF3YWl0IFByb21pc2UuYWxsKGFuYWx5c2lzUHJvbWlzZXMpKS5maWx0ZXIoXHJcbiAgICAgICAgKHIpID0+IHIgIT09IG51bGxcclxuICAgICAgKSBhcyBQYWdlQ29udGVudEFpQW5hbHlzaXNbXTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBzdG9yZWREYXRhOiBTdG9yZWREb21haW5EYXRhID0ge1xyXG4gICAgICBhbmFseXNpczogZG9tYWluQW5hbHlzaXMsXHJcbiAgICAgIHVybFRleHRBbmFseXNpczogdXJsVGV4dEFuYWx5c2lzUmVzdWx0LFxyXG4gICAgICBwYWdlQ29udGVudEFuYWx5c2VzOiBwYWdlQ29udGVudEFpUmVzdWx0cyxcclxuICAgICAgbGFzdENoZWNrZWQ6IERhdGUubm93KCksXHJcbiAgICB9O1xyXG5cclxuICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLnNldCh7IFtkb21haW5dOiBzdG9yZWREYXRhIH0pO1xyXG4gICAgdXBkYXRlQmFkZ2VXaXRoU2NvcmUoc3RvcmVkRGF0YSwgdXJsVG9BbmFseXplKTtcclxuICAgIHJldHVybiBzdG9yZWREYXRhO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIGNvbnN0IGVycm9yTXNnID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZS5tZXNzYWdlIDogU3RyaW5nKGUpO1xyXG4gICAgdXBkYXRlQmFkZ2UoXCIhXCIsIFwiI0VGNDQ0NFwiKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIGVycm9yOiBgTmV0d29yay9QYXJzaW5nIGVycm9yOiAke2Vycm9yTXNnfWAsXHJcbiAgICAgIGxhc3RDaGVja2VkOiBEYXRlLm5vdygpLFxyXG4gICAgfTtcclxuICB9XHJcbn07XHJcblxyXG4vLyBUaGlzIGxpc3RlbmVyIGlzIG5vdyB0aGUgbWFpbiBlbnRyeSBwb2ludCBmb3IgYXV0b21hdGljIGFuYWx5c2lzLlxyXG5jaHJvbWUucnVudGltZS5vbk1lc3NhZ2UuYWRkTGlzdGVuZXIoKG1lc3NhZ2UsIHNlbmRlciwgc2VuZFJlc3BvbnNlKSA9PiB7XHJcbiAgaWYgKG1lc3NhZ2UuYWN0aW9uID09PSBcImFuYWx5emVQYWdlQ29udGVudFwiKSB7XHJcbiAgICBjb25zb2xlLmxvZyhgW0JHXSBSZWNlaXZlZCBjb250ZW50IGZvciBhbmFseXNpcyBmcm9tICR7bWVzc2FnZS51cmx9YCk7XHJcbiAgICBwZXJmb3JtRnVsbEFuYWx5c2lzKG1lc3NhZ2UudXJsLCBtZXNzYWdlLmNvbnRlbnRDaHVua3MpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY2hyb21lLnJ1bnRpbWVcclxuICAgICAgICAgIC5zZW5kTWVzc2FnZSh7XHJcbiAgICAgICAgICAgIGFjdGlvbjogXCJhbmFseXNpc1VwZGF0ZWRcIixcclxuICAgICAgICAgICAgZG9tYWluOiBnZXREb21haW5Gcm9tVXJsKG1lc3NhZ2UudXJsKSxcclxuICAgICAgICAgICAgZGF0YSxcclxuICAgICAgICAgICAgZm9yVXJsOiBtZXNzYWdlLnVybCxcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2goKCkgPT4ge30pOyAvLyBTdXBwcmVzcyBcIm5vIHJlY2VpdmluZyBlbmRcIiBlcnJvciBpZiBwb3B1cCBpcyBjbG9zZWRcclxuICAgICAgICBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiB0cnVlIH0pO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycm9yKSA9PiBzZW5kUmVzcG9uc2UoeyBzdWNjZXNzOiBmYWxzZSwgZXJyb3I6IGVycm9yLm1lc3NhZ2UgfSkpO1xyXG4gICAgcmV0dXJuIHRydWU7IC8vIEtlZXAgdGhlIG1lc3NhZ2UgY2hhbm5lbCBvcGVuIGZvciBhc3luYyByZXNwb25zZVxyXG4gIH1cclxuXHJcbiAgLy8gVGhpcyBsaXN0ZW5lciBoYW5kbGVzIHRoZSBtYW51YWwgcmVmcmVzaCBmcm9tIHRoZSBwb3B1cC5cclxuICBpZiAobWVzc2FnZS5hY3Rpb24gPT09IFwicmVxdWVzdEFuYWx5c2lzRm9yQ3VycmVudFRhYlwiKSB7XHJcbiAgICBjb25zdCB1cmxUb0FuYWx5emUgPSBtZXNzYWdlLnVybDtcclxuICAgIGNvbnN0IHRhYklkID0gbWVzc2FnZS50YWJJZCB8fCBzZW5kZXIudGFiPy5pZDtcclxuXHJcbiAgICBpZiAodXJsVG9BbmFseXplICYmIHRhYklkKSB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFxyXG4gICAgICAgIGBbQkddIE1hbnVhbCByZWZyZXNoIHJlcXVlc3RlZCBmb3IgJHt1cmxUb0FuYWx5emV9IG9uIHRhYiAke3RhYklkfWBcclxuICAgICAgKTtcclxuICAgICAgdXBkYXRlQmFkZ2UoXCIuLi5cIiwgXCIjRjU5RTBCXCIpO1xyXG4gICAgICAvLyBBc2sgdGhlIGNvbnRlbnQgc2NyaXB0IHRvIHJlLXNlbmQgaXRzIGRhdGEuXHJcbiAgICAgIGNocm9tZS50YWJzLnNlbmRNZXNzYWdlKHRhYklkLCB7IGFjdGlvbjogXCJnZXRUZXh0Q29udGVudEZyb21QYWdlXCIgfSk7XHJcbiAgICAgIHNlbmRSZXNwb25zZSh7IHN0YXR1czogXCJyZWZyZXNoX3RyaWdnZXJlZFwiIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc2VuZFJlc3BvbnNlKHsgZXJyb3I6IFwiTm8gYWN0aXZlIHRhYi9VUkwgdG8gcmVmcmVzaC5cIiB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59KTtcclxuXHJcbi8vIFdoZW4gdGhlIHVzZXIgc3dpdGNoZXMgdG8gYSBkaWZmZXJlbnQgdGFiLCBjaGVjayBmb3IgY2FjaGVkIGRhdGEuXHJcbmNocm9tZS50YWJzLm9uQWN0aXZhdGVkLmFkZExpc3RlbmVyKGFzeW5jIChhY3RpdmVJbmZvKSA9PiB7XHJcbiAgY2hyb21lLnRhYnMuZ2V0KGFjdGl2ZUluZm8udGFiSWQsICh0YWIpID0+IHtcclxuICAgIGlmICh0YWIudXJsKSB7XHJcbiAgICAgIGNvbnN0IGRvbWFpbiA9IGdldERvbWFpbkZyb21VcmwodGFiLnVybCk7XHJcbiAgICAgIGNocm9tZS5zdG9yYWdlLmxvY2FsLmdldChkb21haW4sIChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zdCBjYWNoZWREYXRhOiBTdG9yZWREb21haW5EYXRhIHwgdW5kZWZpbmVkID0gcmVzdWx0W2RvbWFpbl07XHJcbiAgICAgICAgaWYgKGNhY2hlZERhdGEpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGBbQkddIG9uQWN0aXZhdGVkOiBGb3VuZCBjYWNoZWQgZGF0YSBmb3IgJHtkb21haW59YCk7XHJcbiAgICAgICAgICB1cGRhdGVCYWRnZVdpdGhTY29yZShjYWNoZWREYXRhLCB0YWIudXJsISk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIElmIG5vIGNhY2hlLCBjbGVhciB0aGUgYmFkZ2UuIFRoZSBjb250ZW50IHNjcmlwdCB3aWxsIHNlbmQgZGF0YSBpZiBhdmFpbGFibGUuXHJcbiAgICAgICAgICB1cGRhdGVCYWRnZShcIlwiLCBcIiM3Nzc3NzdcIik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufSk7XHJcbmNocm9tZS5ydW50aW1lLm9uSW5zdGFsbGVkLmFkZExpc3RlbmVyKGFzeW5jIChkZXRhaWxzKSA9PiB7XHJcbiAgaWYgKGRldGFpbHMucmVhc29uID09PSBcImluc3RhbGxcIiB8fCBkZXRhaWxzLnJlYXNvbiA9PT0gXCJ1cGRhdGVcIikge1xyXG4gICAgY29uc29sZS5sb2coXHJcbiAgICAgIFwiW0JHXSBFeHRlbnNpb24gaW5zdGFsbGVkL3VwZGF0ZWQuIEluamVjdGluZyBjb250ZW50IHNjcmlwdHMgaW50byBleGlzdGluZyB0YWJzLlwiXHJcbiAgICApO1xyXG5cclxuICAgIC8vIEdldCBhbGwgZXhpc3RpbmcgdGFic1xyXG4gICAgY29uc3QgdGFicyA9IGF3YWl0IGNocm9tZS50YWJzLnF1ZXJ5KHtcclxuICAgICAgLy8gV2Ugb25seSB3YW50IHRvIGluamVjdCBpbnRvIG5vcm1hbCBodHRwL2h0dHBzIHRhYnNcclxuICAgICAgdXJsOiBbXCJodHRwOi8vKi8qXCIsIFwiaHR0cHM6Ly8qLypcIl0sXHJcbiAgICAgIHN0YXR1czogXCJjb21wbGV0ZVwiLCAvLyBPbmx5IGluamVjdCBpbnRvIHRhYnMgdGhhdCBoYXZlIGZpbmlzaGVkIGxvYWRpbmdcclxuICAgIH0pO1xyXG5cclxuICAgIGZvciAoY29uc3QgdGFiIG9mIHRhYnMpIHtcclxuICAgICAgaWYgKHRhYi5pZCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAvLyBQcm9ncmFtbWF0aWNhbGx5IGluamVjdCB0aGUgY29udGVudCBzY3JpcHRcclxuICAgICAgICAgIGF3YWl0IGNocm9tZS5zY3JpcHRpbmcuZXhlY3V0ZVNjcmlwdCh7XHJcbiAgICAgICAgICAgIHRhcmdldDogeyB0YWJJZDogdGFiLmlkIH0sXHJcbiAgICAgICAgICAgIGZpbGVzOiBbXCJzcmMvY29udGVudC9jb250ZW50LmpzXCJdLFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhgW0JHXSBJbmplY3RlZCBjb250ZW50IHNjcmlwdCBpbnRvIHRhYiAke3RhYi5pZH1gKTtcclxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgIC8vIFRoaXMgbWlnaHQgZmFpbCBvbiBjZXJ0YWluIGJyb3dzZXItcHJvdGVjdGVkIHBhZ2VzLCB3aGljaCBpcyBmaW5lLlxyXG4gICAgICAgICAgY29uc29sZS53YXJuKGBbQkddIEZhaWxlZCB0byBpbmplY3Qgc2NyaXB0IGludG8gdGFiICR7dGFiLmlkfTpgLCBlcnIpO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxufSk7XHJcbmltcG9ydCB7IHJ1blRlc3RzLCBydW5Eb3dubG9hZFRlc3QgfSBmcm9tIFwiLi90ZXN0UnVubmVyXCI7XHJcbihnbG9iYWxUaGlzIGFzIGFueSkucnVuRXh0ZW5zaW9uVGVzdHMgPSBydW5UZXN0cztcclxuKGdsb2JhbFRoaXMgYXMgYW55KS5ydW5FeHRlbnNpb25Eb3dubG9hZFRlc3QgPSBydW5Eb3dubG9hZFRlc3Q7XHJcblxyXG5jb25zb2xlLmxvZyhcIltCR10gQmFja2dyb3VuZCBzY3JpcHQgbG9hZGVkIGFuZCBsaXN0ZW5lcnMgYXR0YWNoZWQgKHYxLjIuMSkuXCIpO1xyXG4iXSwibmFtZXMiOlsiUmVhY3RWZXJzaW9uIiwiUkVBQ1RfRUxFTUVOVF9UWVBFIiwiUkVBQ1RfUE9SVEFMX1RZUEUiLCJSRUFDVF9GUkFHTUVOVF9UWVBFIiwiUkVBQ1RfU1RSSUNUX01PREVfVFlQRSIsIlJFQUNUX1BST0ZJTEVSX1RZUEUiLCJSRUFDVF9QUk9WSURFUl9UWVBFIiwiUkVBQ1RfQ09OVEVYVF9UWVBFIiwiUkVBQ1RfRk9SV0FSRF9SRUZfVFlQRSIsIlJFQUNUX1NVU1BFTlNFX1RZUEUiLCJSRUFDVF9TVVNQRU5TRV9MSVNUX1RZUEUiLCJSRUFDVF9NRU1PX1RZUEUiLCJSRUFDVF9MQVpZX1RZUEUiLCJSRUFDVF9PRkZTQ1JFRU5fVFlQRSIsIk1BWUJFX0lURVJBVE9SX1NZTUJPTCIsIkZBVVhfSVRFUkFUT1JfU1lNQk9MIiwiZ2V0SXRlcmF0b3JGbiIsIm1heWJlSXRlcmFibGUiLCJtYXliZUl0ZXJhdG9yIiwiUmVhY3RDdXJyZW50RGlzcGF0Y2hlciIsIlJlYWN0Q3VycmVudEJhdGNoQ29uZmlnIiwiUmVhY3RDdXJyZW50QWN0UXVldWUiLCJSZWFjdEN1cnJlbnRPd25lciIsIlJlYWN0RGVidWdDdXJyZW50RnJhbWUiLCJjdXJyZW50RXh0cmFTdGFja0ZyYW1lIiwic2V0RXh0cmFTdGFja0ZyYW1lIiwic3RhY2siLCJpbXBsIiwiZW5hYmxlU2NvcGVBUEkiLCJlbmFibGVDYWNoZUVsZW1lbnQiLCJlbmFibGVUcmFuc2l0aW9uVHJhY2luZyIsImVuYWJsZUxlZ2FjeUhpZGRlbiIsImVuYWJsZURlYnVnVHJhY2luZyIsIlJlYWN0U2hhcmVkSW50ZXJuYWxzIiwid2FybiIsImZvcm1hdCIsIl9sZW4iLCJhcmdzIiwiX2tleSIsInByaW50V2FybmluZyIsImVycm9yIiwiX2xlbjIiLCJfa2V5MiIsImxldmVsIiwiYXJnc1dpdGhGb3JtYXQiLCJpdGVtIiwiZGlkV2FyblN0YXRlVXBkYXRlRm9yVW5tb3VudGVkQ29tcG9uZW50Iiwid2Fybk5vb3AiLCJwdWJsaWNJbnN0YW5jZSIsImNhbGxlck5hbWUiLCJfY29uc3RydWN0b3IiLCJjb21wb25lbnROYW1lIiwid2FybmluZ0tleSIsIlJlYWN0Tm9vcFVwZGF0ZVF1ZXVlIiwiY2FsbGJhY2siLCJjb21wbGV0ZVN0YXRlIiwicGFydGlhbFN0YXRlIiwiYXNzaWduIiwiZW1wdHlPYmplY3QiLCJDb21wb25lbnQiLCJwcm9wcyIsImNvbnRleHQiLCJ1cGRhdGVyIiwiZGVwcmVjYXRlZEFQSXMiLCJkZWZpbmVEZXByZWNhdGlvbldhcm5pbmciLCJtZXRob2ROYW1lIiwiaW5mbyIsImZuTmFtZSIsIkNvbXBvbmVudER1bW15IiwiUHVyZUNvbXBvbmVudCIsInB1cmVDb21wb25lbnRQcm90b3R5cGUiLCJjcmVhdGVSZWYiLCJyZWZPYmplY3QiLCJpc0FycmF5SW1wbCIsImlzQXJyYXkiLCJhIiwidHlwZU5hbWUiLCJ2YWx1ZSIsImhhc1RvU3RyaW5nVGFnIiwidHlwZSIsIndpbGxDb2VyY2lvblRocm93IiwidGVzdFN0cmluZ0NvZXJjaW9uIiwiY2hlY2tLZXlTdHJpbmdDb2VyY2lvbiIsImdldFdyYXBwZWROYW1lIiwib3V0ZXJUeXBlIiwiaW5uZXJUeXBlIiwid3JhcHBlck5hbWUiLCJkaXNwbGF5TmFtZSIsImZ1bmN0aW9uTmFtZSIsImdldENvbnRleHROYW1lIiwiZ2V0Q29tcG9uZW50TmFtZUZyb21UeXBlIiwicHJvdmlkZXIiLCJvdXRlck5hbWUiLCJsYXp5Q29tcG9uZW50IiwicGF5bG9hZCIsImluaXQiLCJoYXNPd25Qcm9wZXJ0eSIsIlJFU0VSVkVEX1BST1BTIiwic3BlY2lhbFByb3BLZXlXYXJuaW5nU2hvd24iLCJzcGVjaWFsUHJvcFJlZldhcm5pbmdTaG93biIsImRpZFdhcm5BYm91dFN0cmluZ1JlZnMiLCJoYXNWYWxpZFJlZiIsImNvbmZpZyIsImdldHRlciIsImhhc1ZhbGlkS2V5IiwiZGVmaW5lS2V5UHJvcFdhcm5pbmdHZXR0ZXIiLCJ3YXJuQWJvdXRBY2Nlc3NpbmdLZXkiLCJkZWZpbmVSZWZQcm9wV2FybmluZ0dldHRlciIsIndhcm5BYm91dEFjY2Vzc2luZ1JlZiIsIndhcm5JZlN0cmluZ1JlZkNhbm5vdEJlQXV0b0NvbnZlcnRlZCIsIlJlYWN0RWxlbWVudCIsImtleSIsInJlZiIsInNlbGYiLCJzb3VyY2UiLCJvd25lciIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiY2hpbGRyZW4iLCJwcm9wTmFtZSIsImNoaWxkcmVuTGVuZ3RoIiwiY2hpbGRBcnJheSIsImkiLCJkZWZhdWx0UHJvcHMiLCJjbG9uZUFuZFJlcGxhY2VLZXkiLCJvbGRFbGVtZW50IiwibmV3S2V5IiwibmV3RWxlbWVudCIsImNsb25lRWxlbWVudCIsImlzVmFsaWRFbGVtZW50Iiwib2JqZWN0IiwiU0VQQVJBVE9SIiwiU1VCU0VQQVJBVE9SIiwiZXNjYXBlIiwiZXNjYXBlUmVnZXgiLCJlc2NhcGVyTG9va3VwIiwiZXNjYXBlZFN0cmluZyIsIm1hdGNoIiwiZGlkV2FybkFib3V0TWFwcyIsInVzZXJQcm92aWRlZEtleUVzY2FwZVJlZ2V4IiwiZXNjYXBlVXNlclByb3ZpZGVkS2V5IiwidGV4dCIsImdldEVsZW1lbnRLZXkiLCJpbmRleCIsIm1hcEludG9BcnJheSIsImFycmF5IiwiZXNjYXBlZFByZWZpeCIsIm5hbWVTb0ZhciIsImludm9rZUNhbGxiYWNrIiwiX2NoaWxkIiwibWFwcGVkQ2hpbGQiLCJjaGlsZEtleSIsImVzY2FwZWRDaGlsZEtleSIsImMiLCJjaGlsZCIsIm5leHROYW1lIiwic3VidHJlZUNvdW50IiwibmV4dE5hbWVQcmVmaXgiLCJpdGVyYXRvckZuIiwiaXRlcmFibGVDaGlsZHJlbiIsIml0ZXJhdG9yIiwic3RlcCIsImlpIiwiY2hpbGRyZW5TdHJpbmciLCJtYXBDaGlsZHJlbiIsImZ1bmMiLCJyZXN1bHQiLCJjb3VudCIsImNvdW50Q2hpbGRyZW4iLCJuIiwiZm9yRWFjaENoaWxkcmVuIiwiZm9yRWFjaEZ1bmMiLCJmb3JFYWNoQ29udGV4dCIsInRvQXJyYXkiLCJvbmx5Q2hpbGQiLCJjcmVhdGVDb250ZXh0IiwiZGVmYXVsdFZhbHVlIiwiaGFzV2FybmVkQWJvdXRVc2luZ05lc3RlZENvbnRleHRDb25zdW1lcnMiLCJoYXNXYXJuZWRBYm91dFVzaW5nQ29uc3VtZXJQcm92aWRlciIsImhhc1dhcm5lZEFib3V0RGlzcGxheU5hbWVPbkNvbnN1bWVyIiwiQ29uc3VtZXIiLCJfUHJvdmlkZXIiLCJfY3VycmVudFZhbHVlIiwiX2N1cnJlbnRWYWx1ZTIiLCJfdGhyZWFkQ291bnQiLCJVbmluaXRpYWxpemVkIiwiUGVuZGluZyIsIlJlc29sdmVkIiwiUmVqZWN0ZWQiLCJsYXp5SW5pdGlhbGl6ZXIiLCJjdG9yIiwidGhlbmFibGUiLCJtb2R1bGVPYmplY3QiLCJyZXNvbHZlZCIsInJlamVjdGVkIiwicGVuZGluZyIsImxhenkiLCJsYXp5VHlwZSIsInByb3BUeXBlcyIsIm5ld0RlZmF1bHRQcm9wcyIsIm5ld1Byb3BUeXBlcyIsImZvcndhcmRSZWYiLCJyZW5kZXIiLCJlbGVtZW50VHlwZSIsIm93bk5hbWUiLCJuYW1lIiwiUkVBQ1RfTU9EVUxFX1JFRkVSRU5DRSIsImlzVmFsaWRFbGVtZW50VHlwZSIsIm1lbW8iLCJjb21wYXJlIiwicmVzb2x2ZURpc3BhdGNoZXIiLCJkaXNwYXRjaGVyIiwidXNlQ29udGV4dCIsIkNvbnRleHQiLCJyZWFsQ29udGV4dCIsInVzZVN0YXRlIiwiaW5pdGlhbFN0YXRlIiwidXNlUmVkdWNlciIsInJlZHVjZXIiLCJpbml0aWFsQXJnIiwidXNlUmVmIiwiaW5pdGlhbFZhbHVlIiwidXNlRWZmZWN0IiwiY3JlYXRlIiwiZGVwcyIsInVzZUluc2VydGlvbkVmZmVjdCIsInVzZUxheW91dEVmZmVjdCIsInVzZUNhbGxiYWNrIiwidXNlTWVtbyIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJ1c2VEZWJ1Z1ZhbHVlIiwiZm9ybWF0dGVyRm4iLCJ1c2VUcmFuc2l0aW9uIiwidXNlRGVmZXJyZWRWYWx1ZSIsInVzZUlkIiwidXNlU3luY0V4dGVybmFsU3RvcmUiLCJzdWJzY3JpYmUiLCJnZXRTbmFwc2hvdCIsImdldFNlcnZlclNuYXBzaG90IiwiZGlzYWJsZWREZXB0aCIsInByZXZMb2ciLCJwcmV2SW5mbyIsInByZXZXYXJuIiwicHJldkVycm9yIiwicHJldkdyb3VwIiwicHJldkdyb3VwQ29sbGFwc2VkIiwicHJldkdyb3VwRW5kIiwiZGlzYWJsZWRMb2ciLCJkaXNhYmxlTG9ncyIsInJlZW5hYmxlTG9ncyIsIlJlYWN0Q3VycmVudERpc3BhdGNoZXIkMSIsInByZWZpeCIsImRlc2NyaWJlQnVpbHRJbkNvbXBvbmVudEZyYW1lIiwib3duZXJGbiIsIngiLCJyZWVudHJ5IiwiY29tcG9uZW50RnJhbWVDYWNoZSIsIlBvc3NpYmx5V2Vha01hcCIsImRlc2NyaWJlTmF0aXZlQ29tcG9uZW50RnJhbWUiLCJmbiIsImNvbnN0cnVjdCIsImZyYW1lIiwiY29udHJvbCIsInByZXZpb3VzUHJlcGFyZVN0YWNrVHJhY2UiLCJwcmV2aW91c0Rpc3BhdGNoZXIiLCJGYWtlIiwic2FtcGxlIiwic2FtcGxlTGluZXMiLCJjb250cm9sTGluZXMiLCJzIiwiX2ZyYW1lIiwic3ludGhldGljRnJhbWUiLCJkZXNjcmliZUZ1bmN0aW9uQ29tcG9uZW50RnJhbWUiLCJzaG91bGRDb25zdHJ1Y3QiLCJwcm90b3R5cGUiLCJkZXNjcmliZVVua25vd25FbGVtZW50VHlwZUZyYW1lSW5ERVYiLCJsb2dnZWRUeXBlRmFpbHVyZXMiLCJSZWFjdERlYnVnQ3VycmVudEZyYW1lJDEiLCJzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCIsImNoZWNrUHJvcFR5cGVzIiwidHlwZVNwZWNzIiwidmFsdWVzIiwibG9jYXRpb24iLCJoYXMiLCJ0eXBlU3BlY05hbWUiLCJlcnJvciQxIiwiZXJyIiwiZXgiLCJzZXRDdXJyZW50bHlWYWxpZGF0aW5nRWxlbWVudCQxIiwicHJvcFR5cGVzTWlzc3BlbGxXYXJuaW5nU2hvd24iLCJnZXREZWNsYXJhdGlvbkVycm9yQWRkZW5kdW0iLCJnZXRTb3VyY2VJbmZvRXJyb3JBZGRlbmR1bSIsImZpbGVOYW1lIiwibGluZU51bWJlciIsImdldFNvdXJjZUluZm9FcnJvckFkZGVuZHVtRm9yUHJvcHMiLCJlbGVtZW50UHJvcHMiLCJvd25lckhhc0tleVVzZVdhcm5pbmciLCJnZXRDdXJyZW50Q29tcG9uZW50RXJyb3JJbmZvIiwicGFyZW50VHlwZSIsInBhcmVudE5hbWUiLCJ2YWxpZGF0ZUV4cGxpY2l0S2V5IiwiY3VycmVudENvbXBvbmVudEVycm9ySW5mbyIsImNoaWxkT3duZXIiLCJ2YWxpZGF0ZUNoaWxkS2V5cyIsIm5vZGUiLCJ2YWxpZGF0ZVByb3BUeXBlcyIsIl9uYW1lIiwidmFsaWRhdGVGcmFnbWVudFByb3BzIiwiZnJhZ21lbnQiLCJrZXlzIiwiY3JlYXRlRWxlbWVudFdpdGhWYWxpZGF0aW9uIiwidmFsaWRUeXBlIiwic291cmNlSW5mbyIsInR5cGVTdHJpbmciLCJkaWRXYXJuQWJvdXREZXByZWNhdGVkQ3JlYXRlRmFjdG9yeSIsImNyZWF0ZUZhY3RvcnlXaXRoVmFsaWRhdGlvbiIsInZhbGlkYXRlZEZhY3RvcnkiLCJjbG9uZUVsZW1lbnRXaXRoVmFsaWRhdGlvbiIsInN0YXJ0VHJhbnNpdGlvbiIsInNjb3BlIiwib3B0aW9ucyIsInByZXZUcmFuc2l0aW9uIiwiY3VycmVudFRyYW5zaXRpb24iLCJ1cGRhdGVkRmliZXJzQ291bnQiLCJkaWRXYXJuQWJvdXRNZXNzYWdlQ2hhbm5lbCIsImVucXVldWVUYXNrSW1wbCIsImVucXVldWVUYXNrIiwidGFzayIsInJlcXVpcmVTdHJpbmciLCJub2RlUmVxdWlyZSIsIm1vZHVsZSIsImNoYW5uZWwiLCJhY3RTY29wZURlcHRoIiwiZGlkV2Fybk5vQXdhaXRBY3QiLCJhY3QiLCJwcmV2QWN0U2NvcGVEZXB0aCIsInByZXZJc0JhdGNoaW5nTGVnYWN5IiwicXVldWUiLCJmbHVzaEFjdFF1ZXVlIiwicG9wQWN0U2NvcGUiLCJ0aGVuYWJsZVJlc3VsdCIsIndhc0F3YWl0ZWQiLCJyZXNvbHZlIiwicmVqZWN0IiwicmV0dXJuVmFsdWUiLCJfcXVldWUiLCJfdGhlbmFibGUiLCJyZWN1cnNpdmVseUZsdXNoQXN5bmNBY3RXb3JrIiwiX3RoZW5hYmxlMiIsImlzRmx1c2hpbmciLCJjcmVhdGVFbGVtZW50JDEiLCJjbG9uZUVsZW1lbnQkMSIsImNyZWF0ZUZhY3RvcnkiLCJDaGlsZHJlbiIsImV4cG9ydHMiLCJyZWFjdE1vZHVsZSIsInJlcXVpcmUkJDAiLCJSZWFjdCIsImpzeERFViIsIm1heWJlS2V5IiwiUmVhY3RDdXJyZW50T3duZXIkMSIsImRpZFdhcm5BYm91dEtleVNwcmVhZCIsImpzeFdpdGhWYWxpZGF0aW9uIiwiaXNTdGF0aWNDaGlsZHJlbiIsImsiLCJiZWZvcmVFeGFtcGxlIiwiYWZ0ZXJFeGFtcGxlIiwianN4REVWJDEiLCJyZWFjdEpzeERldlJ1bnRpbWVfZGV2ZWxvcG1lbnQiLCJqc3hEZXZSdW50aW1lTW9kdWxlIiwidG9LZWJhYkNhc2UiLCJzdHJpbmciLCJtZXJnZUNsYXNzZXMiLCJjbGFzc2VzIiwiY2xhc3NOYW1lIiwiZGVmYXVsdEF0dHJpYnV0ZXMiLCJJY29uIiwiY29sb3IiLCJzaXplIiwic3Ryb2tlV2lkdGgiLCJhYnNvbHV0ZVN0cm9rZVdpZHRoIiwiaWNvbk5vZGUiLCJyZXN0IiwidGFnIiwiYXR0cnMiLCJjcmVhdGVMdWNpZGVJY29uIiwiaWNvbk5hbWUiLCJDYWxlbmRhckRheXMiLCJMb2NrIiwiTWFpbCIsIk1lc3NhZ2VTcXVhcmVRdW90ZSIsIk5ldHdvcmsiLCJTaGllbGRBbGVydCIsIlNoaWVsZENoZWNrIiwiU2hpZWxkUXVlc3Rpb24iLCJQVFMiLCJmb3JtYXREb21haW5BZ2UiLCJkYXlzIiwiY2FsY3VsYXRlVHJ1c3RTY29yZSIsImZ1bGxEYXRhIiwiY3VycmVudFVybCIsImFuYWx5c2lzRGF0YSIsInVybEFpQW5hbHlzaXMiLCJjb250ZW50QWlBbmFseXNlcyIsInNjb3JlIiwiZXhwbGFuYXRpb25zIiwiTUFYIiwiTUlOIiwiYWdlRCIsImFnZUkiLCJhZ2VTRSIsImFnZVZUIiwic3NsSSIsInNzbERldCIsInNzbFZUIiwidGVtcFNzbFNFIiwiZXhwRCIsIm5vdyIsImRUb0V4cCIsInNzbFNFVHh0IiwidXJsQWlTRVYiLCJ1cmxBaVZUIiwidXJsQWlJIiwidXJsQWlEZXQiLCJjQWlWVCIsImNBaUkiLCJjQWlTRVYiLCJjQWlEZXQiLCJjQWlMRFJlYWN0Tm9kZSIsInNDaHVua3NJIiwicEMiLCJoQ1AiLCJtQ1AiLCJsQ1AiLCJjYSIsImxpc3RJdGVtcyIsImJsU0VWIiwibGlzdGVkU291cmNlcyIsImlwVXJsU0VWIiwiZG5zTXhTRVYiLCJkbnNNeFZUIiwiZG5zTXhJIiwiZG5zTXhEZXQiLCJmaW5hbFNjb3JlIiwiVVJMU19UT19URVNUIiwiZ2V0VGV4dEZyb21VcmwiLCJ1cmwiLCJ0aW1lb3V0IiwidGFiSWQiLCJ0aW1lb3V0SWQiLCJsaXN0ZW5lciIsIm1lc3NhZ2UiLCJzZW5kZXIiLCJfYSIsImNsZWFudXAiLCJmb3JtYXRSZXN1bHQiLCJkYXRhIiwib3V0cHV0IiwiZXhwIiwicnVuRG93bmxvYWRUZXN0IiwidGVzdFJlcG9ydCIsImRhdGFVcmwiLCJydW5UZXN0cyIsImZ1bGxSZXBvcnQiLCJyZXN1bHRzQnlHcm91cCIsImdyb3VwTmFtZSIsInVybHMiLCJjb250ZW50Q2h1bmtzIiwicGVyZm9ybUZ1bGxBbmFseXNpcyIsImVycm9yTWVzc2FnZSIsInN1bW1hcnlSZXBvcnQiLCJ2YWxpZFNjb3JlcyIsInIiLCJhdmVyYWdlIiwiYiIsImFsbEV4cGxhbmF0aW9uTGFiZWxzIiwiaGVhZGVyUm93IiwiZGF0YVJvdyIsImxhYmVsS2V5Iiwic2NvcmVWYWx1ZSIsInJvd1N0cmluZyIsImxhYmVsIiwiQVBJX0JBU0VfVVJMIiwiZ2V0RG9tYWluRnJvbVVybCIsInVwZGF0ZUJhZGdlIiwiZSIsInVwZGF0ZUJhZGdlV2l0aFNjb3JlIiwidXJsRm9yQW5hbHlzaXMiLCJmZXRjaFRleHRBbmFseXNpcyIsInRleHRUb0FuYWx5emUiLCJyZXNwb25zZSIsInVybFRvQW5hbHl6ZSIsImNvbnRlbnRDaHVua3NGb3JBbmFseXNpcyIsImRvbWFpbiIsImRvbWFpbkRldGFpbHNSZXNwb25zZSIsInVybFRleHRBbmFseXNpc1Jlc3VsdCIsImRvbWFpbkFuYWx5c2lzIiwicGFnZUNvbnRlbnRBaVJlc3VsdHMiLCJhbmFseXNpc1Byb21pc2VzIiwiY2h1bmsiLCJpZHgiLCJzdG9yZWREYXRhIiwiZXJyb3JNc2ciLCJzZW5kUmVzcG9uc2UiLCJhY3RpdmVJbmZvIiwidGFiIiwiY2FjaGVkRGF0YSIsImRldGFpbHMiLCJ0YWJzIl0sIm1hcHBpbmdzIjoibUhBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBYUcsVUFBVyxDQU1aLE9BQU8sK0JBQW1DLEtBQzFDLE9BQU8sK0JBQStCLDZCQUNwQyxZQUU2QiwrQkFBQSw0QkFBNEIsSUFBSSxL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QUNWLFFBQUEsSUFDTixxQ0FBcUMyQyxDQUFZLFdBQVczQyxDQUFLLEVBQUEsRUFFbkVvQyxHQUFZLE1BQU8sU0FBUyxFQUU1QixPQUFPLEtBQUssWUFBWXBDLEVBQU8sQ0FBRSxPQUFRLHlCQUEwQixFQUN0RHVELEVBQUEsQ0FBRSxPQUFRLG1CQUFBLENBQXFCLEdBRS9CQSxFQUFBLENBQUUsTUFBTywrQkFBQSxDQUFpQyxFQUVsRCxFQUNULENBRU8sTUFBQSxFQUNULENBQUMsRUFHRCxPQUFPLEtBQUssWUFBWSxZQUFZLE1BQU9DLEdBQWUsQ0FDeEQsT0FBTyxLQUFLLElBQUlBLEVBQVcsTUFBUUMsR0FBUSxDQUN6QyxHQUFJQSxFQUFJLElBQUssQ0FDTCxNQUFBWixFQUFTVixHQUFpQnNCLEVBQUksR0FBRyxFQUN2QyxPQUFPLFFBQVEsTUFBTSxJQUFJWixFQUFTdlUsR0FBVyxDQUNyQyxNQUFBb1YsRUFBMkNwVixFQUFPdVUsQ0FBTSxFQUMxRGEsR0FDTSxRQUFBLElBQUksMkNBQTJDYixDQUFNLEVBQUUsRUFDMUNQLEdBQUFvQixFQUFZRCxFQUFJLEdBQUksR0FHekNyQixHQUFZLEdBQUksU0FBUyxDQUMzQixDQUNELENBQ0gsQ0FBQSxDQUNELENBQ0gsQ0FBQyxFQUNELE9BQU8sUUFBUSxZQUFZLFlBQVksTUFBT3VCLEdBQVksQ0FDeEQsR0FBSUEsRUFBUSxTQUFXLFdBQWFBLEVBQVEsU0FBVyxTQUFVLENBQ3ZELFFBQUEsSUFDTixpRkFBQSxFQUlGLE1BQU1DLEVBQU8sTUFBTSxPQUFPLEtBQUssTUFBTSxDQUVuQyxJQUFLLENBQUMsYUFBYyxhQUFhLEVBQ2pDLE9BQVEsVUFBQSxDQUNULEVBRUQsVUFBV0gsS0FBT0csRUFDaEIsR0FBSUgsRUFBSSxHQUNGLEdBQUEsQ0FFSSxNQUFBLE9BQU8sVUFBVSxjQUFjLENBQ25DLE9BQVEsQ0FBRSxNQUFPQSxFQUFJLEVBQUcsRUFDeEIsTUFBTyxDQUFDLHdCQUF3QixDQUFBLENBQ2pDLEVBQ0QsUUFBUSxJQUFJLHlDQUF5Q0EsRUFBSSxFQUFFLEVBQUUsUUFDdEQzTixFQUFLLENBRVosUUFBUSxLQUFLLHlDQUF5QzJOLEVBQUksRUFBRSxJQUFLM04sQ0FBRyxDQUN0RSxDQUdOLENBQ0YsQ0FBQyxFQUVBLFdBQW1CLGtCQUFvQmdMLEdBQ3ZDLFdBQW1CLHlCQUEyQkgsR0FFL0MsUUFBUSxJQUFJLGdFQUFnRSIsInhfZ29vZ2xlX2lnbm9yZUxpc3QiOlswLDEsMiwzLDQsNSw2LDcsOCw5LDEwLDExLDEyLDEzLDE0LDE1XX0=
